2022-12-06 17:24:04,557 - SimulatorRunner - INFO - Create the Simulator Server.
2022-12-06 17:24:04,639 - nvflare.fuel.hci.server.hci - INFO - Starting Admin Server localhost on Port 49287
2022-12-06 17:24:04,643 - SimulatorServer - INFO - starting insecure server at localhost:53479
2022-12-06 17:24:04,645 - SimulatorRunner - INFO - Deploy the Apps.
2022-12-06 17:24:13,730 - SimulatorRunner - INFO - Create the simulate clients.
2022-12-06 17:24:13,742 - ClientManager - INFO - Client: New client site-1@[ joined. Sent token: dfd66419-386b-479e-ba1c-5b766109bdaf.  Total clients: 1
2022-12-06 17:24:13,743 - FederatedClient - INFO - Successfully registered client:site-1 for project simulator_server. Token:dfd66419-386b-479e-ba1c-5b766109bdaf SSID:
2022-12-06 17:24:13,750 - ClientManager - INFO - Client: New client site-2@[ joined. Sent token: d6b76ba9-606f-4415-acc6-662cd0c29521.  Total clients: 2
2022-12-06 17:24:13,751 - FederatedClient - INFO - Successfully registered client:site-2 for project simulator_server. Token:d6b76ba9-606f-4415-acc6-662cd0c29521 SSID:
2022-12-06 17:24:13,752 - SimulatorRunner - INFO - Set the client status ready.
2022-12-06 17:24:13,753 - SimulatorRunner - INFO - Deploy and start the Server App.
2022-12-06 17:24:16,108 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job]: Server runner starting ...
2022-12-06 17:24:16,110 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job]: starting workflow scatter_and_gather (<class 'nvflare.app_common.workflows.scatter_and_gather.ScatterAndGather'>) ...
2022-12-06 17:24:16,110 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job]: Initializing ScatterAndGather workflow.
2022-12-06 17:24:16,117 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job]: Workflow scatter_and_gather (<class 'nvflare.app_common.workflows.scatter_and_gather.ScatterAndGather'>) started
2022-12-06 17:24:16,117 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Beginning ScatterAndGather training phase.
2022-12-06 17:24:16,118 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 0 started.
2022-12-06 17:24:16,119 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 17:24:16,758 - SimulatorClientRunner - INFO - Start the clients run simulation.
2022-12-06 17:24:16,758 - SimulatorClientRunner - INFO - Start the clients run simulation.
2022-12-06 17:24:17,760 - SimulatorClientRunner - INFO - Simulate Run client: site-1
2022-12-06 17:24:17,761 - SimulatorClientRunner - INFO - Simulate Run client: site-2
-------------------------------------------------- initialize: site-1 --------------------------------------------------

            load data from /workspace/src/data: site-1_train.csv and site-1_val.csv
            size of the data: 
            site-1_train.csv: 15346
            site-1_val.csv: 1919
            
2022-12-06 17:24:33,461 - ClientRunner - INFO - [identity=site-1, run=simulate_job]: client runner started
2022-12-06 17:24:33,461 - ClientTaskWorker - INFO - Initialize ClientRunner for client: site-1
2022-12-06 17:24:33,471 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=8c727d19-2583-48c0-8aee-43326c0da2e9]: assigned task to client site-1: name=train, id=8c727d19-2583-48c0-8aee-43326c0da2e9
2022-12-06 17:24:33,472 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=8c727d19-2583-48c0-8aee-43326c0da2e9]: sent task assignment to client
-------------------------------------------------- initialize: site-2 --------------------------------------------------

            load data from /workspace/src/data: site-2_train.csv and site-2_val.csv
            size of the data: 
            site-2_train.csv: 15347
            site-2_val.csv: 1919
            
2022-12-06 17:24:33,556 - ClientRunner - INFO - [identity=site-2, run=simulate_job]: client runner started
2022-12-06 17:24:33,556 - ClientTaskWorker - INFO - Initialize ClientRunner for client: site-2
2022-12-06 17:24:34,298 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 17:24:34,717 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=60267bf1-4b7d-4baf-afa6-967af7b70644]: assigned task to client site-2: name=train, id=60267bf1-4b7d-4baf-afa6-967af7b70644
2022-12-06 17:24:34,719 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=60267bf1-4b7d-4baf-afa6-967af7b70644]: sent task assignment to client
2022-12-06 17:24:35,572 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 17:24:56,883 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.419605016708374 seconds
2022-12-06 17:24:56,917 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 17:24:57,451 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=8c727d19-2583-48c0-8aee-43326c0da2e9
2022-12-06 17:24:57,451 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8c727d19-2583-48c0-8aee-43326c0da2e9]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 17:24:57,451 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8c727d19-2583-48c0-8aee-43326c0da2e9]: Client trainer got task: train
2022-12-06 17:24:58,171 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.612791061401367 seconds
2022-12-06 17:24:58,205 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 17:24:58,731 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=60267bf1-4b7d-4baf-afa6-967af7b70644
2022-12-06 17:24:58,732 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=60267bf1-4b7d-4baf-afa6-967af7b70644]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 17:24:58,732 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=60267bf1-4b7d-4baf-afa6-967af7b70644]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 17:25:19,842 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8c727d19-2583-48c0-8aee-43326c0da2e9]: Accuracy when validating site-1's model on site-1s data: 0.14394612774311077
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 17:25:20,746 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=60267bf1-4b7d-4baf-afa6-967af7b70644]: Accuracy when validating site-2's model on site-2s data: 0.14334684895149757
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
-------------------------------------------------- save local model: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       222
         eve       0.00      0.00      0.00        96
         geo       0.63      0.52      0.57     14594
         gpe       0.78      0.57      0.66      5584
         nat       0.00      0.00      0.00       116
         org       0.47      0.34      0.39      8377
         per       0.46      0.44      0.45      7230
         tim       0.63      0.40      0.49      6802

   micro avg       0.58      0.45      0.51     43021
   macro avg       0.37      0.28      0.32     43021
weighted avg       0.58      0.45      0.51     43021

F1-score: 0.9015167269193797
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.00      0.00      0.00        16
         geo       0.68      0.72      0.70      1819
         gpe       0.86      0.76      0.81       731
         nat       0.00      0.00      0.00         6
         org       0.57      0.47      0.51       991
         per       0.61      0.66      0.64       907
         tim       0.74      0.57      0.65       854

   micro avg       0.68      0.64      0.66      5343
   macro avg       0.43      0.40      0.41      5343
weighted avg       0.68      0.64      0.66      5343

F1-score: 0.9341437929756565
2022-12-06 17:34:00,416 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8c727d19-2583-48c0-8aee-43326c0da2e9]: train:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       222
         eve       0.00      0.00      0.00        96
         geo       0.63      0.52      0.57     14594
         gpe       0.78      0.57      0.66      5584
         nat       0.00      0.00      0.00       116
         org       0.47      0.34      0.39      8377
         per       0.46      0.44      0.45      7230
         tim       0.63      0.40      0.49      6802

   micro avg       0.58      0.45      0.51     43021
   macro avg       0.37      0.28      0.32     43021
weighted avg       0.58      0.45      0.51     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.00      0.00      0.00        16
         geo       0.68      0.72      0.70      1819
         gpe       0.86      0.76      0.81       731
         nat       0.00      0.00      0.00         6
         org       0.57      0.47      0.51       991
         per       0.61      0.66      0.64       907
         tim       0.74      0.57      0.65       854

   micro avg       0.68      0.64      0.66      5343
   macro avg       0.43      0.40      0.41      5343
weighted avg       0.68      0.64      0.66      5343

2022-12-06 17:34:00,787 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 17:34:01,100 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8c727d19-2583-48c0-8aee-43326c0da2e9]: finished processing task
2022-12-06 17:34:01,102 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 17:34:01,921 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       176
         eve       0.00      0.00      0.00       117
         geo       0.65      0.54      0.59     14724
         gpe       0.80      0.58      0.68      5503
         nat       0.00      0.00      0.00        95
         org       0.48      0.34      0.40      8238
         per       0.47      0.46      0.46      6998
         tim       0.66      0.43      0.52      6773

   micro avg       0.60      0.47      0.53     42624
   macro avg       0.38      0.29      0.33     42624
weighted avg       0.60      0.47      0.53     42624

F1-score: 0.907008379849474
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        45
         eve       0.00      0.00      0.00        13
         geo       0.74      0.68      0.71      1773
         gpe       0.82      0.72      0.77       640
         nat       0.00      0.00      0.00        12
         org       0.52      0.53      0.52      1045
         per       0.63      0.58      0.60       940
         tim       0.71      0.59      0.64       859

   micro avg       0.68      0.61      0.64      5327
   macro avg       0.43      0.39      0.41      5327
weighted avg       0.67      0.61      0.64      5327

F1-score: 0.928777135346738
2022-12-06 17:34:02,699 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=60267bf1-4b7d-4baf-afa6-967af7b70644]: train:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       176
         eve       0.00      0.00      0.00       117
         geo       0.65      0.54      0.59     14724
         gpe       0.80      0.58      0.68      5503
         nat       0.00      0.00      0.00        95
         org       0.48      0.34      0.40      8238
         per       0.47      0.46      0.46      6998
         tim       0.66      0.43      0.52      6773

   micro avg       0.60      0.47      0.53     42624
   macro avg       0.38      0.29      0.33     42624
weighted avg       0.60      0.47      0.53     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        45
         eve       0.00      0.00      0.00        13
         geo       0.74      0.68      0.71      1773
         gpe       0.82      0.72      0.77       640
         nat       0.00      0.00      0.00        12
         org       0.52      0.53      0.52      1045
         per       0.63      0.58      0.60       940
         tim       0.71      0.59      0.64       859

   micro avg       0.68      0.61      0.64      5327
   macro avg       0.43      0.39      0.41      5327
weighted avg       0.67      0.61      0.64      5327

2022-12-06 17:34:02,891 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 17:34:03,513 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=60267bf1-4b7d-4baf-afa6-967af7b70644]: finished processing task
2022-12-06 17:34:03,515 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 17:34:04,317 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 17:34:24,977 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670348064 seconds)
2022-12-06 17:34:24,977 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=8c727d19-2583-48c0-8aee-43326c0da2e9
2022-12-06 17:34:24,977 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=8c727d19-2583-48c0-8aee-43326c0da2e9]: invoking result_received_cb ...
2022-12-06 17:34:25,093 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=8c727d19-2583-48c0-8aee-43326c0da2e9]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 17:34:25,094 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=8c727d19-2583-48c0-8aee-43326c0da2e9]: finished processing client result by scatter_and_gather
2022-12-06 17:34:25,127 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670348064 seconds). SubmitUpdate time: 23.20566987991333 seconds
2022-12-06 17:34:25,160 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8c727d19-2583-48c0-8aee-43326c0da2e9]: result sent to server for task: name=train, id=8c727d19-2583-48c0-8aee-43326c0da2e9
2022-12-06 17:34:25,161 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:34:28,305 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670348068 seconds)
2022-12-06 17:34:28,306 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=60267bf1-4b7d-4baf-afa6-967af7b70644
2022-12-06 17:34:28,306 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=60267bf1-4b7d-4baf-afa6-967af7b70644]: invoking result_received_cb ...
2022-12-06 17:34:28,488 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=60267bf1-4b7d-4baf-afa6-967af7b70644]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 17:34:28,488 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=60267bf1-4b7d-4baf-afa6-967af7b70644]: finished processing client result by scatter_and_gather
2022-12-06 17:34:28,523 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670348068 seconds). SubmitUpdate time: 24.205466270446777 seconds
2022-12-06 17:34:28,530 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:34:28,580 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=60267bf1-4b7d-4baf-afa6-967af7b70644]: result sent to server for task: name=train, id=60267bf1-4b7d-4baf-afa6-967af7b70644
2022-12-06 17:34:28,581 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:34:30,542 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:34:30,653 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:34:32,554 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:34:32,672 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:34:34,566 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:34:34,684 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:34:36,579 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:34:36,697 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:34:38,590 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:34:38,653 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 17:34:38,709 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:34:39,152 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 17:34:39,153 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 0
2022-12-06 17:34:39,301 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 17:34:39,302 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 17:34:39,695 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 17:34:39,695 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 0 finished.
2022-12-06 17:34:39,695 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 1 started.
2022-12-06 17:34:39,696 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 17:34:40,600 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382]: assigned task to client site-1: name=train, id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382
2022-12-06 17:34:40,601 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382]: sent task assignment to client
2022-12-06 17:34:41,475 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 17:34:41,896 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=2194e5f1-6536-4da8-be91-7ab779274e70]: assigned task to client site-2: name=train, id=2194e5f1-6536-4da8-be91-7ab779274e70
2022-12-06 17:34:41,898 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=2194e5f1-6536-4da8-be91-7ab779274e70]: sent task assignment to client
2022-12-06 17:34:42,721 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 17:35:04,182 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.58527898788452 seconds
2022-12-06 17:35:04,200 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 17:35:04,626 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382
2022-12-06 17:35:04,627 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 17:35:04,627 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382]: Client trainer got task: train
2022-12-06 17:35:05,542 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.827722549438477 seconds
2022-12-06 17:35:05,549 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 17:35:05,966 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=2194e5f1-6536-4da8-be91-7ab779274e70
2022-12-06 17:35:05,967 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2194e5f1-6536-4da8-be91-7ab779274e70]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 17:35:05,967 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2194e5f1-6536-4da8-be91-7ab779274e70]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 17:35:26,772 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382]: Accuracy when validating site-1's model on site-1s data: 0.9291909888147698
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 17:35:28,010 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2194e5f1-6536-4da8-be91-7ab779274e70]: Accuracy when validating site-2's model on site-2s data: 0.9277256870004876
2022-12-06 17:44:09,782 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
-------------------------------------------------- save local model: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       222
         eve       0.50      0.01      0.02        96
         geo       0.74      0.68      0.71     14594
         gpe       0.87      0.74      0.80      5584
         nat       0.00      0.00      0.00       116
         org       0.57      0.50      0.53      8377
         per       0.60      0.65      0.62      7230
         tim       0.72      0.57      0.64      6802

   micro avg       0.69      0.62      0.66     43021
   macro avg       0.50      0.39      0.42     43021
weighted avg       0.69      0.62      0.65     43021

F1-score: 0.9350695207818103
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       1.00      0.06      0.12        16
         geo       0.75      0.77      0.76      1819
         gpe       0.88      0.82      0.85       731
         nat       0.00      0.00      0.00         6
         org       0.64      0.50      0.56       991
         per       0.62      0.73      0.67       907
         tim       0.71      0.70      0.71       854

   micro avg       0.72      0.70      0.71      5343
   macro avg       0.58      0.45      0.46      5343
weighted avg       0.72      0.70      0.71      5343

F1-score: 0.9445156151551214
2022-12-06 17:44:09,842 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382]: train:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       222
         eve       0.50      0.01      0.02        96
         geo       0.74      0.68      0.71     14594
         gpe       0.87      0.74      0.80      5584
         nat       0.00      0.00      0.00       116
         org       0.57      0.50      0.53      8377
         per       0.60      0.65      0.62      7230
         tim       0.72      0.57      0.64      6802

   micro avg       0.69      0.62      0.66     43021
   macro avg       0.50      0.39      0.42     43021
weighted avg       0.69      0.62      0.65     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       1.00      0.06      0.12        16
         geo       0.75      0.77      0.76      1819
         gpe       0.88      0.82      0.85       731
         nat       0.00      0.00      0.00         6
         org       0.64      0.50      0.56       991
         per       0.62      0.73      0.67       907
         tim       0.71      0.70      0.71       854

   micro avg       0.72      0.70      0.71      5343
   macro avg       0.58      0.45      0.46      5343
weighted avg       0.72      0.70      0.71      5343

-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 17:44:10,758 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382]: finished processing task
2022-12-06 17:44:10,760 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 17:44:11,563 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       176
         eve       0.43      0.03      0.05       117
         geo       0.73      0.69      0.71     14724
         gpe       0.87      0.74      0.80      5503
         nat       0.00      0.00      0.00        95
         org       0.56      0.50      0.53      8238
         per       0.58      0.63      0.61      6998
         tim       0.74      0.58      0.65      6773

   micro avg       0.69      0.63      0.65     42624
   macro avg       0.49      0.40      0.42     42624
weighted avg       0.69      0.63      0.65     42624

F1-score: 0.9366361786961802
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        45
         eve       0.67      0.15      0.25        13
         geo       0.77      0.76      0.77      1773
         gpe       0.83      0.83      0.83       640
         nat       0.00      0.00      0.00        12
         org       0.67      0.52      0.58      1045
         per       0.64      0.70      0.67       940
         tim       0.82      0.64      0.72       859

   micro avg       0.74      0.68      0.71      5327
   macro avg       0.55      0.45      0.48      5327
weighted avg       0.73      0.68      0.70      5327

F1-score: 0.9446463279362235
2022-12-06 17:44:14,406 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2194e5f1-6536-4da8-be91-7ab779274e70]: train:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       176
         eve       0.43      0.03      0.05       117
         geo       0.73      0.69      0.71     14724
         gpe       0.87      0.74      0.80      5503
         nat       0.00      0.00      0.00        95
         org       0.56      0.50      0.53      8238
         per       0.58      0.63      0.61      6998
         tim       0.74      0.58      0.65      6773

   micro avg       0.69      0.63      0.65     42624
   macro avg       0.49      0.40      0.42     42624
weighted avg       0.69      0.63      0.65     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        45
         eve       0.67      0.15      0.25        13
         geo       0.77      0.76      0.77      1773
         gpe       0.83      0.83      0.83       640
         nat       0.00      0.00      0.00        12
         org       0.67      0.52      0.58      1045
         per       0.64      0.70      0.67       940
         tim       0.82      0.64      0.72       859

   micro avg       0.74      0.68      0.71      5327
   macro avg       0.55      0.45      0.48      5327
weighted avg       0.73      0.68      0.70      5327

2022-12-06 17:44:14,586 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 17:44:15,279 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2194e5f1-6536-4da8-be91-7ab779274e70]: finished processing task
2022-12-06 17:44:15,281 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 17:44:16,082 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 17:44:34,287 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670348674 seconds)
2022-12-06 17:44:34,287 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382
2022-12-06 17:44:34,288 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382]: invoking result_received_cb ...
2022-12-06 17:44:34,402 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 17:44:34,402 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382]: finished processing client result by scatter_and_gather
2022-12-06 17:44:34,433 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670348674 seconds). SubmitUpdate time: 22.87049698829651 seconds
2022-12-06 17:44:34,477 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382]: result sent to server for task: name=train, id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382
2022-12-06 17:44:34,477 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:44:38,772 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670348678 seconds)
2022-12-06 17:44:38,772 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=2194e5f1-6536-4da8-be91-7ab779274e70
2022-12-06 17:44:38,773 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2194e5f1-6536-4da8-be91-7ab779274e70]: invoking result_received_cb ...
2022-12-06 17:44:38,960 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2194e5f1-6536-4da8-be91-7ab779274e70]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 17:44:38,960 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2194e5f1-6536-4da8-be91-7ab779274e70]: finished processing client result by scatter_and_gather
2022-12-06 17:44:38,990 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670348678 seconds). SubmitUpdate time: 22.90800380706787 seconds
2022-12-06 17:44:38,999 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:44:39,043 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2194e5f1-6536-4da8-be91-7ab779274e70]: result sent to server for task: name=train, id=2194e5f1-6536-4da8-be91-7ab779274e70
2022-12-06 17:44:39,043 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:44:41,011 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:44:41,135 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:44:43,024 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:44:43,148 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:44:45,036 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:44:45,160 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:44:47,048 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:44:47,172 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:44:49,061 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:44:49,114 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 17:44:49,185 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:44:49,612 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 17:44:49,613 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 1
2022-12-06 17:44:49,762 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 17:44:49,763 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 17:44:50,460 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 17:44:50,460 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 1 finished.
2022-12-06 17:44:50,460 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 2 started.
2022-12-06 17:44:50,460 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 17:44:51,070 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=bca845d3-cee3-47ed-b928-c76f33a67dcd]: assigned task to client site-1: name=train, id=bca845d3-cee3-47ed-b928-c76f33a67dcd
2022-12-06 17:44:51,071 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=bca845d3-cee3-47ed-b928-c76f33a67dcd]: sent task assignment to client
2022-12-06 17:44:51,886 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 17:44:52,295 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=4d55570d-57e6-4a31-8c59-f9d7383e7e50]: assigned task to client site-2: name=train, id=4d55570d-57e6-4a31-8c59-f9d7383e7e50
2022-12-06 17:44:52,297 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=4d55570d-57e6-4a31-8c59-f9d7383e7e50]: sent task assignment to client
2022-12-06 17:44:53,107 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 17:45:14,601 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.533960342407227 seconds
2022-12-06 17:45:14,616 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 17:45:15,040 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=bca845d3-cee3-47ed-b928-c76f33a67dcd
2022-12-06 17:45:15,041 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bca845d3-cee3-47ed-b928-c76f33a67dcd]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 17:45:15,041 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bca845d3-cee3-47ed-b928-c76f33a67dcd]: Client trainer got task: train
2022-12-06 17:45:15,819 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.628410577774048 seconds
2022-12-06 17:45:15,835 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 17:45:16,250 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=4d55570d-57e6-4a31-8c59-f9d7383e7e50
2022-12-06 17:45:16,251 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4d55570d-57e6-4a31-8c59-f9d7383e7e50]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 17:45:16,251 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4d55570d-57e6-4a31-8c59-f9d7383e7e50]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 17:45:37,219 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bca845d3-cee3-47ed-b928-c76f33a67dcd]: Accuracy when validating site-1's model on site-1s data: 0.9448314272053974
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 17:45:38,327 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4d55570d-57e6-4a31-8c59-f9d7383e7e50]: Accuracy when validating site-2's model on site-2s data: 0.9456264427220323
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
-------------------------------------------------- save local model: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       222
         eve       0.69      0.11      0.20        96
         geo       0.75      0.75      0.75     14594
         gpe       0.88      0.81      0.84      5584
         nat       1.00      0.01      0.02       116
         org       0.60      0.55      0.58      8377
         per       0.65      0.69      0.67      7230
         tim       0.75      0.64      0.69      6802

   micro avg       0.72      0.69      0.70     43021
   macro avg       0.66      0.45      0.47     43021
weighted avg       0.72      0.69      0.70     43021

F1-score: 0.9449465193342088
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.40      0.12      0.19        16
         geo       0.74      0.82      0.78      1819
         gpe       0.91      0.88      0.90       731
         nat       0.00      0.00      0.00         6
         org       0.65      0.54      0.59       991
         per       0.67      0.71      0.69       907
         tim       0.73      0.75      0.74       854

   micro avg       0.73      0.74      0.74      5343
   macro avg       0.51      0.48      0.49      5343
weighted avg       0.73      0.74      0.73      5343

F1-score: 0.9508796884412174
2022-12-06 17:54:20,921 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bca845d3-cee3-47ed-b928-c76f33a67dcd]: train:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       222
         eve       0.69      0.11      0.20        96
         geo       0.75      0.75      0.75     14594
         gpe       0.88      0.81      0.84      5584
         nat       1.00      0.01      0.02       116
         org       0.60      0.55      0.58      8377
         per       0.65      0.69      0.67      7230
         tim       0.75      0.64      0.69      6802

   micro avg       0.72      0.69      0.70     43021
   macro avg       0.66      0.45      0.47     43021
weighted avg       0.72      0.69      0.70     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.40      0.12      0.19        16
         geo       0.74      0.82      0.78      1819
         gpe       0.91      0.88      0.90       731
         nat       0.00      0.00      0.00         6
         org       0.65      0.54      0.59       991
         per       0.67      0.71      0.69       907
         tim       0.73      0.75      0.74       854

   micro avg       0.73      0.74      0.74      5343
   macro avg       0.51      0.48      0.49      5343
weighted avg       0.73      0.74      0.73      5343

2022-12-06 17:54:21,212 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 17:54:21,795 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bca845d3-cee3-47ed-b928-c76f33a67dcd]: finished processing task
2022-12-06 17:54:21,797 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 17:54:22,611 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 17:54:23,229 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       176
         eve       0.62      0.14      0.22       117
         geo       0.76      0.76      0.76     14724
         gpe       0.89      0.81      0.85      5503
         nat       0.60      0.03      0.06        95
         org       0.60      0.55      0.58      8238
         per       0.63      0.68      0.65      6998
         tim       0.77      0.66      0.71      6773

   micro avg       0.72      0.69      0.71     42624
   macro avg       0.61      0.45      0.48     42624
weighted avg       0.72      0.69      0.71     42624

F1-score: 0.9474406102151423
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        45
         eve       0.40      0.15      0.22        13
         geo       0.75      0.83      0.79      1773
         gpe       0.89      0.87      0.88       640
         nat       0.00      0.00      0.00        12
         org       0.70      0.56      0.62      1045
         per       0.69      0.73      0.71       940
         tim       0.73      0.71      0.72       859

   micro avg       0.74      0.73      0.74      5327
   macro avg       0.52      0.48      0.49      5327
weighted avg       0.74      0.73      0.73      5327

F1-score: 0.950384021124008
2022-12-06 17:54:24,005 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4d55570d-57e6-4a31-8c59-f9d7383e7e50]: train:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       176
         eve       0.62      0.14      0.22       117
         geo       0.76      0.76      0.76     14724
         gpe       0.89      0.81      0.85      5503
         nat       0.60      0.03      0.06        95
         org       0.60      0.55      0.58      8238
         per       0.63      0.68      0.65      6998
         tim       0.77      0.66      0.71      6773

   micro avg       0.72      0.69      0.71     42624
   macro avg       0.61      0.45      0.48     42624
weighted avg       0.72      0.69      0.71     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        45
         eve       0.40      0.15      0.22        13
         geo       0.75      0.83      0.79      1773
         gpe       0.89      0.87      0.88       640
         nat       0.00      0.00      0.00        12
         org       0.70      0.56      0.62      1045
         per       0.69      0.73      0.71       940
         tim       0.73      0.71      0.72       859

   micro avg       0.74      0.73      0.74      5327
   macro avg       0.52      0.48      0.49      5327
weighted avg       0.74      0.73      0.73      5327

-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 17:54:24,812 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4d55570d-57e6-4a31-8c59-f9d7383e7e50]: finished processing task
2022-12-06 17:54:24,814 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 17:54:25,616 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 17:54:45,317 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670349285 seconds)
2022-12-06 17:54:45,317 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=bca845d3-cee3-47ed-b928-c76f33a67dcd
2022-12-06 17:54:45,318 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=bca845d3-cee3-47ed-b928-c76f33a67dcd]: invoking result_received_cb ...
2022-12-06 17:54:45,386 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=bca845d3-cee3-47ed-b928-c76f33a67dcd]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 17:54:45,386 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=bca845d3-cee3-47ed-b928-c76f33a67dcd]: finished processing client result by scatter_and_gather
2022-12-06 17:54:45,417 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670349285 seconds). SubmitUpdate time: 22.80627179145813 seconds
2022-12-06 17:54:45,448 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bca845d3-cee3-47ed-b928-c76f33a67dcd]: result sent to server for task: name=train, id=bca845d3-cee3-47ed-b928-c76f33a67dcd
2022-12-06 17:54:45,449 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:54:48,478 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670349288 seconds)
2022-12-06 17:54:48,478 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=4d55570d-57e6-4a31-8c59-f9d7383e7e50
2022-12-06 17:54:48,478 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4d55570d-57e6-4a31-8c59-f9d7383e7e50]: invoking result_received_cb ...
2022-12-06 17:54:48,642 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4d55570d-57e6-4a31-8c59-f9d7383e7e50]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 17:54:48,643 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4d55570d-57e6-4a31-8c59-f9d7383e7e50]: finished processing client result by scatter_and_gather
2022-12-06 17:54:48,678 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670349288 seconds). SubmitUpdate time: 23.06231999397278 seconds
2022-12-06 17:54:48,679 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:54:48,723 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4d55570d-57e6-4a31-8c59-f9d7383e7e50]: result sent to server for task: name=train, id=4d55570d-57e6-4a31-8c59-f9d7383e7e50
2022-12-06 17:54:48,724 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:54:50,691 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:54:50,806 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:54:52,704 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:54:52,831 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:54:54,716 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:54:54,843 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:54:56,728 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:54:56,856 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:54:58,740 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:54:58,814 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 17:54:58,868 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:54:59,314 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 17:54:59,315 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 2
2022-12-06 17:54:59,408 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 17:54:59,408 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 17:55:00,036 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 17:55:00,037 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 2 finished.
2022-12-06 17:55:00,037 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 3 started.
2022-12-06 17:55:00,038 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 17:55:00,750 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=97972568-db10-484f-8fb3-cf2825c04072]: assigned task to client site-1: name=train, id=97972568-db10-484f-8fb3-cf2825c04072
2022-12-06 17:55:00,751 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=97972568-db10-484f-8fb3-cf2825c04072]: sent task assignment to client
2022-12-06 17:55:01,599 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 17:55:02,013 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=24bda5c9-00e9-4258-9ba4-fde6e7000745]: assigned task to client site-2: name=train, id=24bda5c9-00e9-4258-9ba4-fde6e7000745
2022-12-06 17:55:02,015 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=24bda5c9-00e9-4258-9ba4-fde6e7000745]: sent task assignment to client
2022-12-06 17:55:02,823 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 17:55:24,216 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.469719171524048 seconds
2022-12-06 17:55:24,235 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 17:55:24,644 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=97972568-db10-484f-8fb3-cf2825c04072
2022-12-06 17:55:24,645 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=97972568-db10-484f-8fb3-cf2825c04072]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 17:55:24,645 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=97972568-db10-484f-8fb3-cf2825c04072]: Client trainer got task: train
2022-12-06 17:55:25,624 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.750899076461792 seconds
2022-12-06 17:55:25,642 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 17:55:26,045 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=24bda5c9-00e9-4258-9ba4-fde6e7000745
2022-12-06 17:55:26,045 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24bda5c9-00e9-4258-9ba4-fde6e7000745]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 17:55:26,045 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24bda5c9-00e9-4258-9ba4-fde6e7000745]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 17:55:46,822 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=97972568-db10-484f-8fb3-cf2825c04072]: Accuracy when validating site-1's model on site-1s data: 0.9540017759059317
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 17:55:48,124 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24bda5c9-00e9-4258-9ba4-fde6e7000745]: Accuracy when validating site-2's model on site-2s data: 0.9524670441075049
2022-12-06 18:04:30,757 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
-------------------------------------------------- save local model: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.67      0.03      0.05       222
         eve       0.25      0.14      0.18        96
         geo       0.78      0.79      0.79     14594
         gpe       0.90      0.85      0.87      5584
         nat       0.71      0.04      0.08       116
         org       0.63      0.60      0.61      8377
         per       0.68      0.73      0.70      7230
         tim       0.78      0.69      0.73      6802

   micro avg       0.75      0.73      0.74     43021
   macro avg       0.67      0.48      0.50     43021
weighted avg       0.75      0.73      0.73     43021

F1-score: 0.9522967876141718
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.67      0.12      0.21        16
         geo       0.79      0.81      0.80      1819
         gpe       0.93      0.91      0.92       731
         nat       0.00      0.00      0.00         6
         org       0.62      0.57      0.59       991
         per       0.63      0.77      0.69       907
         tim       0.78      0.78      0.78       854

   micro avg       0.75      0.76      0.75      5343
   macro avg       0.55      0.49      0.50      5343
weighted avg       0.75      0.76      0.75      5343

F1-score: 0.9541888533268471
2022-12-06 18:04:30,837 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=97972568-db10-484f-8fb3-cf2825c04072]: train:
              precision    recall  f1-score   support

         art       0.67      0.03      0.05       222
         eve       0.25      0.14      0.18        96
         geo       0.78      0.79      0.79     14594
         gpe       0.90      0.85      0.87      5584
         nat       0.71      0.04      0.08       116
         org       0.63      0.60      0.61      8377
         per       0.68      0.73      0.70      7230
         tim       0.78      0.69      0.73      6802

   micro avg       0.75      0.73      0.74     43021
   macro avg       0.67      0.48      0.50     43021
weighted avg       0.75      0.73      0.73     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.67      0.12      0.21        16
         geo       0.79      0.81      0.80      1819
         gpe       0.93      0.91      0.92       731
         nat       0.00      0.00      0.00         6
         org       0.62      0.57      0.59       991
         per       0.63      0.77      0.69       907
         tim       0.78      0.78      0.78       854

   micro avg       0.75      0.76      0.75      5343
   macro avg       0.55      0.49      0.50      5343
weighted avg       0.75      0.76      0.75      5343

-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 18:04:31,872 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=97972568-db10-484f-8fb3-cf2825c04072]: finished processing task
2022-12-06 18:04:31,873 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:04:32,668 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 18:04:35,267 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.25      0.01      0.01       176
         eve       0.39      0.15      0.21       117
         geo       0.78      0.79      0.79     14724
         gpe       0.90      0.85      0.87      5503
         nat       0.40      0.04      0.08        95
         org       0.63      0.59      0.61      8238
         per       0.66      0.71      0.68      6998
         tim       0.78      0.70      0.74      6773

   micro avg       0.75      0.73      0.74     42624
   macro avg       0.60      0.48      0.50     42624
weighted avg       0.74      0.73      0.73     42624

F1-score: 0.953421994368425
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        45
         eve       0.50      0.15      0.24        13
         geo       0.74      0.87      0.80      1773
         gpe       0.92      0.88      0.90       640
         nat       0.00      0.00      0.00        12
         org       0.71      0.56      0.62      1045
         per       0.71      0.70      0.71       940
         tim       0.81      0.72      0.76       859

   micro avg       0.76      0.74      0.75      5327
   macro avg       0.55      0.48      0.50      5327
weighted avg       0.75      0.74      0.74      5327

F1-score: 0.9543166280689535
2022-12-06 18:04:35,548 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24bda5c9-00e9-4258-9ba4-fde6e7000745]: train:
              precision    recall  f1-score   support

         art       0.25      0.01      0.01       176
         eve       0.39      0.15      0.21       117
         geo       0.78      0.79      0.79     14724
         gpe       0.90      0.85      0.87      5503
         nat       0.40      0.04      0.08        95
         org       0.63      0.59      0.61      8238
         per       0.66      0.71      0.68      6998
         tim       0.78      0.70      0.74      6773

   micro avg       0.75      0.73      0.74     42624
   macro avg       0.60      0.48      0.50     42624
weighted avg       0.74      0.73      0.73     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        45
         eve       0.50      0.15      0.24        13
         geo       0.74      0.87      0.80      1773
         gpe       0.92      0.88      0.90       640
         nat       0.00      0.00      0.00        12
         org       0.71      0.56      0.62      1045
         per       0.71      0.70      0.71       940
         tim       0.81      0.72      0.76       859

   micro avg       0.76      0.74      0.75      5327
   macro avg       0.55      0.48      0.50      5327
weighted avg       0.75      0.74      0.74      5327

-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 18:04:36,425 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24bda5c9-00e9-4258-9ba4-fde6e7000745]: finished processing task
2022-12-06 18:04:36,426 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:04:37,234 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 18:04:55,427 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670349895 seconds)
2022-12-06 18:04:55,427 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=97972568-db10-484f-8fb3-cf2825c04072
2022-12-06 18:04:55,427 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=97972568-db10-484f-8fb3-cf2825c04072]: invoking result_received_cb ...
2022-12-06 18:04:55,497 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=97972568-db10-484f-8fb3-cf2825c04072]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 18:04:55,498 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=97972568-db10-484f-8fb3-cf2825c04072]: finished processing client result by scatter_and_gather
2022-12-06 18:04:55,528 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670349895 seconds). SubmitUpdate time: 22.859881162643433 seconds
2022-12-06 18:04:55,581 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=97972568-db10-484f-8fb3-cf2825c04072]: result sent to server for task: name=train, id=97972568-db10-484f-8fb3-cf2825c04072
2022-12-06 18:04:55,582 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:04:59,857 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670349899 seconds)
2022-12-06 18:04:59,857 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=24bda5c9-00e9-4258-9ba4-fde6e7000745
2022-12-06 18:04:59,858 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=24bda5c9-00e9-4258-9ba4-fde6e7000745]: invoking result_received_cb ...
2022-12-06 18:05:00,025 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=24bda5c9-00e9-4258-9ba4-fde6e7000745]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 18:05:00,026 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=24bda5c9-00e9-4258-9ba4-fde6e7000745]: finished processing client result by scatter_and_gather
2022-12-06 18:05:00,067 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:05:00,071 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670349899 seconds). SubmitUpdate time: 22.8361234664917 seconds
2022-12-06 18:05:00,095 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24bda5c9-00e9-4258-9ba4-fde6e7000745]: result sent to server for task: name=train, id=24bda5c9-00e9-4258-9ba4-fde6e7000745
2022-12-06 18:05:00,096 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:05:02,080 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:05:02,175 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:05:04,092 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:05:04,187 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:05:06,105 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:05:06,199 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:05:08,118 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:05:08,211 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:05:10,130 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:05:10,213 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 18:05:10,223 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:05:10,712 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 18:05:10,713 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 3
2022-12-06 18:05:10,862 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 18:05:10,863 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 18:05:11,461 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 18:05:11,461 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 3 finished.
2022-12-06 18:05:11,462 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 4 started.
2022-12-06 18:05:11,462 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 18:05:12,140 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=159b7dcc-2230-4156-aa9f-cc977b44a83b]: assigned task to client site-1: name=train, id=159b7dcc-2230-4156-aa9f-cc977b44a83b
2022-12-06 18:05:12,141 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=159b7dcc-2230-4156-aa9f-cc977b44a83b]: sent task assignment to client
2022-12-06 18:05:12,990 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 18:05:13,402 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=3ac63f76-e510-4c66-bf22-7dc4f4394375]: assigned task to client site-2: name=train, id=3ac63f76-e510-4c66-bf22-7dc4f4394375
2022-12-06 18:05:13,403 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=3ac63f76-e510-4c66-bf22-7dc4f4394375]: sent task assignment to client
2022-12-06 18:05:14,203 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 18:05:35,639 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.502530336380005 seconds
2022-12-06 18:05:35,672 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:05:36,102 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=159b7dcc-2230-4156-aa9f-cc977b44a83b
2022-12-06 18:05:36,102 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=159b7dcc-2230-4156-aa9f-cc977b44a83b]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:05:36,102 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=159b7dcc-2230-4156-aa9f-cc977b44a83b]: Client trainer got task: train
2022-12-06 18:05:36,841 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.612634420394897 seconds
2022-12-06 18:05:36,871 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:05:37,276 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=3ac63f76-e510-4c66-bf22-7dc4f4394375
2022-12-06 18:05:37,277 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3ac63f76-e510-4c66-bf22-7dc4f4394375]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:05:37,277 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3ac63f76-e510-4c66-bf22-7dc4f4394375]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 18:05:58,275 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=159b7dcc-2230-4156-aa9f-cc977b44a83b]: Accuracy when validating site-1's model on site-1s data: 0.9565790306228246
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 18:05:59,385 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3ac63f76-e510-4c66-bf22-7dc4f4394375]: Accuracy when validating site-2's model on site-2s data: 0.9564027444699393
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.46      0.07      0.12       222
         eve       0.42      0.16      0.23        96
         geo       0.79      0.82      0.81     14594
         gpe       0.91      0.87      0.89      5584
         nat       0.67      0.12      0.20       116
         org       0.65      0.62      0.64      8377
         per       0.70      0.74      0.72      7230
         tim       0.79      0.72      0.76      6802

   micro avg       0.76      0.75      0.76     43021
   macro avg       0.67      0.51      0.54     43021
weighted avg       0.76      0.75      0.75     43021

F1-score: 0.9565514079592301
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.33      0.06      0.11        16
         geo       0.83      0.76      0.79      1819
         gpe       0.89      0.90      0.89       731
         nat       0.00      0.00      0.00         6
         org       0.59      0.57      0.58       991
         per       0.65      0.78      0.71       907
         tim       0.78      0.77      0.77       854

   micro avg       0.75      0.74      0.74      5343
   macro avg       0.51      0.48      0.48      5343
weighted avg       0.75      0.74      0.74      5343

F1-score: 0.951189749422966
2022-12-06 18:14:37,982 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=159b7dcc-2230-4156-aa9f-cc977b44a83b]: train:
              precision    recall  f1-score   support

         art       0.46      0.07      0.12       222
         eve       0.42      0.16      0.23        96
         geo       0.79      0.82      0.81     14594
         gpe       0.91      0.87      0.89      5584
         nat       0.67      0.12      0.20       116
         org       0.65      0.62      0.64      8377
         per       0.70      0.74      0.72      7230
         tim       0.79      0.72      0.76      6802

   micro avg       0.76      0.75      0.76     43021
   macro avg       0.67      0.51      0.54     43021
weighted avg       0.76      0.75      0.75     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.33      0.06      0.11        16
         geo       0.83      0.76      0.79      1819
         gpe       0.89      0.90      0.89       731
         nat       0.00      0.00      0.00         6
         org       0.59      0.57      0.58       991
         per       0.65      0.78      0.71       907
         tim       0.78      0.77      0.77       854

   micro avg       0.75      0.74      0.74      5343
   macro avg       0.51      0.48      0.48      5343
weighted avg       0.75      0.74      0.74      5343

2022-12-06 18:14:38,269 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 18:14:38,893 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=159b7dcc-2230-4156-aa9f-cc977b44a83b]: finished processing task
2022-12-06 18:14:38,894 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:14:39,687 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 18:14:46,468 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.58      0.04      0.07       176
         eve       0.45      0.18      0.26       117
         geo       0.80      0.81      0.81     14724
         gpe       0.91      0.87      0.89      5503
         nat       0.48      0.14      0.21        95
         org       0.66      0.62      0.64      8238
         per       0.68      0.73      0.70      6998
         tim       0.80      0.74      0.77      6773

   micro avg       0.76      0.75      0.76     42624
   macro avg       0.67      0.52      0.54     42624
weighted avg       0.76      0.75      0.76     42624

F1-score: 0.9577230380710802
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        45
         eve       0.40      0.15      0.22        13
         geo       0.77      0.85      0.81      1773
         gpe       0.91      0.87      0.89       640
         nat       0.00      0.00      0.00        12
         org       0.67      0.62      0.64      1045
         per       0.69      0.76      0.72       940
         tim       0.78      0.72      0.75       859

   micro avg       0.75      0.76      0.76      5327
   macro avg       0.53      0.50      0.51      5327
weighted avg       0.75      0.76      0.75      5327

F1-score: 0.9549595528834373
2022-12-06 18:14:46,528 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3ac63f76-e510-4c66-bf22-7dc4f4394375]: train:
              precision    recall  f1-score   support

         art       0.58      0.04      0.07       176
         eve       0.45      0.18      0.26       117
         geo       0.80      0.81      0.81     14724
         gpe       0.91      0.87      0.89      5503
         nat       0.48      0.14      0.21        95
         org       0.66      0.62      0.64      8238
         per       0.68      0.73      0.70      6998
         tim       0.80      0.74      0.77      6773

   micro avg       0.76      0.75      0.76     42624
   macro avg       0.67      0.52      0.54     42624
weighted avg       0.76      0.75      0.76     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        45
         eve       0.40      0.15      0.22        13
         geo       0.77      0.85      0.81      1773
         gpe       0.91      0.87      0.89       640
         nat       0.00      0.00      0.00        12
         org       0.67      0.62      0.64      1045
         per       0.69      0.76      0.72       940
         tim       0.78      0.72      0.75       859

   micro avg       0.75      0.76      0.76      5327
   macro avg       0.53      0.50      0.51      5327
weighted avg       0.75      0.76      0.75      5327

-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 18:14:47,400 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3ac63f76-e510-4c66-bf22-7dc4f4394375]: finished processing task
2022-12-06 18:14:47,402 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:14:48,214 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 18:15:02,446 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670350502 seconds)
2022-12-06 18:15:02,447 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=159b7dcc-2230-4156-aa9f-cc977b44a83b
2022-12-06 18:15:02,447 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=159b7dcc-2230-4156-aa9f-cc977b44a83b]: invoking result_received_cb ...
2022-12-06 18:15:02,555 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=159b7dcc-2230-4156-aa9f-cc977b44a83b]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 18:15:02,556 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=159b7dcc-2230-4156-aa9f-cc977b44a83b]: finished processing client result by scatter_and_gather
2022-12-06 18:15:02,586 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670350502 seconds). SubmitUpdate time: 22.898857593536377 seconds
2022-12-06 18:15:02,645 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=159b7dcc-2230-4156-aa9f-cc977b44a83b]: result sent to server for task: name=train, id=159b7dcc-2230-4156-aa9f-cc977b44a83b
2022-12-06 18:15:02,646 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:15:04,718 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:15:06,728 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:15:10,963 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670350510 seconds)
2022-12-06 18:15:10,964 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=3ac63f76-e510-4c66-bf22-7dc4f4394375
2022-12-06 18:15:10,964 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3ac63f76-e510-4c66-bf22-7dc4f4394375]: invoking result_received_cb ...
2022-12-06 18:15:11,129 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3ac63f76-e510-4c66-bf22-7dc4f4394375]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 18:15:11,129 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3ac63f76-e510-4c66-bf22-7dc4f4394375]: finished processing client result by scatter_and_gather
2022-12-06 18:15:11,133 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:15:11,160 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670350510 seconds). SubmitUpdate time: 22.945791959762573 seconds
2022-12-06 18:15:11,213 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3ac63f76-e510-4c66-bf22-7dc4f4394375]: result sent to server for task: name=train, id=3ac63f76-e510-4c66-bf22-7dc4f4394375
2022-12-06 18:15:11,214 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:15:13,168 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:15:13,292 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:15:15,181 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:15:15,309 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:15:17,193 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:15:17,321 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:15:19,206 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:15:19,333 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:15:21,219 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:15:21,320 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 18:15:21,345 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:15:21,820 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 18:15:21,821 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 4
2022-12-06 18:15:21,924 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 18:15:21,924 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 18:15:22,511 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 18:15:22,512 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 4 finished.
2022-12-06 18:15:22,512 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 5 started.
2022-12-06 18:15:22,512 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 18:15:23,228 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=9926bc64-a648-41d6-b0a9-19026295937d]: assigned task to client site-1: name=train, id=9926bc64-a648-41d6-b0a9-19026295937d
2022-12-06 18:15:23,230 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=9926bc64-a648-41d6-b0a9-19026295937d]: sent task assignment to client
2022-12-06 18:15:24,078 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 18:15:24,500 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=04a30539-7868-4a89-8f9a-019e383cfd41]: assigned task to client site-2: name=train, id=04a30539-7868-4a89-8f9a-019e383cfd41
2022-12-06 18:15:24,501 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=04a30539-7868-4a89-8f9a-019e383cfd41]: sent task assignment to client
2022-12-06 18:15:25,301 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 18:15:46,763 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.538201093673706 seconds
2022-12-06 18:15:46,781 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:15:47,197 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=9926bc64-a648-41d6-b0a9-19026295937d
2022-12-06 18:15:47,198 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9926bc64-a648-41d6-b0a9-19026295937d]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:15:47,198 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9926bc64-a648-41d6-b0a9-19026295937d]: Client trainer got task: train
2022-12-06 18:15:48,037 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.6860671043396 seconds
2022-12-06 18:15:48,055 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:15:48,469 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=04a30539-7868-4a89-8f9a-019e383cfd41
2022-12-06 18:15:48,470 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=04a30539-7868-4a89-8f9a-019e383cfd41]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:15:48,470 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=04a30539-7868-4a89-8f9a-019e383cfd41]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 18:16:09,385 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9926bc64-a648-41d6-b0a9-19026295937d]: Accuracy when validating site-1's model on site-1s data: 0.9553559351366466
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 18:16:10,588 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=04a30539-7868-4a89-8f9a-019e383cfd41]: Accuracy when validating site-2's model on site-2s data: 0.9553347395954987
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.44      0.11      0.18       222
         eve       0.30      0.15      0.20        96
         geo       0.81      0.83      0.82     14594
         gpe       0.92      0.89      0.91      5584
         nat       0.67      0.17      0.27       116
         org       0.68      0.66      0.67      8377
         per       0.73      0.77      0.75      7230
         tim       0.81      0.75      0.78      6802

   micro avg       0.78      0.77      0.78     43021
   macro avg       0.67      0.54      0.57     43021
weighted avg       0.78      0.77      0.78     43021

F1-score: 0.9611197835749689
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.29      0.12      0.17        16
         geo       0.77      0.83      0.80      1819
         gpe       0.90      0.93      0.91       731
         nat       0.00      0.00      0.00         6
         org       0.61      0.62      0.61       991
         per       0.71      0.73      0.72       907
         tim       0.81      0.77      0.79       854

   micro avg       0.75      0.77      0.76      5343
   macro avg       0.51      0.50      0.50      5343
weighted avg       0.75      0.77      0.76      5343

F1-score: 0.9560518582666159
2022-12-06 18:24:43,409 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9926bc64-a648-41d6-b0a9-19026295937d]: train:
              precision    recall  f1-score   support

         art       0.44      0.11      0.18       222
         eve       0.30      0.15      0.20        96
         geo       0.81      0.83      0.82     14594
         gpe       0.92      0.89      0.91      5584
         nat       0.67      0.17      0.27       116
         org       0.68      0.66      0.67      8377
         per       0.73      0.77      0.75      7230
         tim       0.81      0.75      0.78      6802

   micro avg       0.78      0.77      0.78     43021
   macro avg       0.67      0.54      0.57     43021
weighted avg       0.78      0.77      0.78     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.29      0.12      0.17        16
         geo       0.77      0.83      0.80      1819
         gpe       0.90      0.93      0.91       731
         nat       0.00      0.00      0.00         6
         org       0.61      0.62      0.61       991
         per       0.71      0.73      0.72       907
         tim       0.81      0.77      0.79       854

   micro avg       0.75      0.77      0.76      5343
   macro avg       0.51      0.50      0.50      5343
weighted avg       0.75      0.77      0.76      5343

2022-12-06 18:24:44,163 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 18:24:44,400 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9926bc64-a648-41d6-b0a9-19026295937d]: finished processing task
2022-12-06 18:24:44,401 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:24:45,219 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.30      0.05      0.09       176
         eve       0.36      0.18      0.24       117
         geo       0.81      0.83      0.82     14724
         gpe       0.92      0.88      0.90      5503
         nat       0.67      0.21      0.32        95
         org       0.67      0.64      0.66      8238
         per       0.70      0.74      0.72      6998
         tim       0.81      0.75      0.78      6773

   micro avg       0.78      0.77      0.77     42624
   macro avg       0.65      0.54      0.57     42624
weighted avg       0.77      0.77      0.77     42624

F1-score: 0.9606317798317933
val 0/1: 
              precision    recall  f1-score   support

         art       0.33      0.02      0.04        45
         eve       0.75      0.23      0.35        13
         geo       0.76      0.87      0.81      1773
         gpe       0.91      0.90      0.91       640
         nat       0.00      0.00      0.00        12
         org       0.73      0.60      0.66      1045
         per       0.68      0.77      0.72       940
         tim       0.78      0.79      0.79       859

   micro avg       0.76      0.78      0.77      5327
   macro avg       0.62      0.52      0.54      5327
weighted avg       0.76      0.78      0.77      5327

F1-score: 0.9582853310131948
2022-12-06 18:24:58,340 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=04a30539-7868-4a89-8f9a-019e383cfd41]: train:
              precision    recall  f1-score   support

         art       0.30      0.05      0.09       176
         eve       0.36      0.18      0.24       117
         geo       0.81      0.83      0.82     14724
         gpe       0.92      0.88      0.90      5503
         nat       0.67      0.21      0.32        95
         org       0.67      0.64      0.66      8238
         per       0.70      0.74      0.72      6998
         tim       0.81      0.75      0.78      6773

   micro avg       0.78      0.77      0.77     42624
   macro avg       0.65      0.54      0.57     42624
weighted avg       0.77      0.77      0.77     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.33      0.02      0.04        45
         eve       0.75      0.23      0.35        13
         geo       0.76      0.87      0.81      1773
         gpe       0.91      0.90      0.91       640
         nat       0.00      0.00      0.00        12
         org       0.73      0.60      0.66      1045
         per       0.68      0.77      0.72       940
         tim       0.78      0.79      0.79       859

   micro avg       0.76      0.78      0.77      5327
   macro avg       0.62      0.52      0.54      5327
weighted avg       0.76      0.78      0.77      5327

2022-12-06 18:24:58,519 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 18:24:59,206 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=04a30539-7868-4a89-8f9a-019e383cfd41]: finished processing task
2022-12-06 18:24:59,207 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:25:00,033 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 18:25:07,910 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670351107 seconds)
2022-12-06 18:25:07,910 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=9926bc64-a648-41d6-b0a9-19026295937d
2022-12-06 18:25:07,911 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9926bc64-a648-41d6-b0a9-19026295937d]: invoking result_received_cb ...
2022-12-06 18:25:07,997 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9926bc64-a648-41d6-b0a9-19026295937d]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 18:25:07,997 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9926bc64-a648-41d6-b0a9-19026295937d]: finished processing client result by scatter_and_gather
2022-12-06 18:25:08,028 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670351107 seconds). SubmitUpdate time: 22.80938410758972 seconds
2022-12-06 18:25:08,082 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9926bc64-a648-41d6-b0a9-19026295937d]: result sent to server for task: name=train, id=9926bc64-a648-41d6-b0a9-19026295937d
2022-12-06 18:25:08,082 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:10,157 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:12,173 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:14,184 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:16,194 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:18,205 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:22,834 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670351122 seconds)
2022-12-06 18:25:22,834 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=04a30539-7868-4a89-8f9a-019e383cfd41
2022-12-06 18:25:22,835 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=04a30539-7868-4a89-8f9a-019e383cfd41]: invoking result_received_cb ...
2022-12-06 18:25:22,997 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=04a30539-7868-4a89-8f9a-019e383cfd41]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 18:25:22,997 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=04a30539-7868-4a89-8f9a-019e383cfd41]: finished processing client result by scatter_and_gather
2022-12-06 18:25:23,002 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:23,029 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670351122 seconds). SubmitUpdate time: 22.996317863464355 seconds
2022-12-06 18:25:23,084 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=04a30539-7868-4a89-8f9a-019e383cfd41]: result sent to server for task: name=train, id=04a30539-7868-4a89-8f9a-019e383cfd41
2022-12-06 18:25:23,084 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:25:25,037 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:25,163 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:25:27,050 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:27,183 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:25:29,062 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:29,195 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:25:31,074 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:31,207 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:25:33,086 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:33,176 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 18:25:33,219 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:25:33,675 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 18:25:33,676 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 5
2022-12-06 18:25:33,822 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 18:25:33,823 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 18:25:34,523 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 18:25:34,523 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 5 finished.
2022-12-06 18:25:34,523 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 6 started.
2022-12-06 18:25:34,524 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 18:25:35,096 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=9becc18c-f68c-44a0-81d3-b5e304f3fd78]: assigned task to client site-1: name=train, id=9becc18c-f68c-44a0-81d3-b5e304f3fd78
2022-12-06 18:25:35,097 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=9becc18c-f68c-44a0-81d3-b5e304f3fd78]: sent task assignment to client
2022-12-06 18:25:35,969 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 18:25:36,390 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=097247d0-1050-4b3c-a928-646afc10235b]: assigned task to client site-2: name=train, id=097247d0-1050-4b3c-a928-646afc10235b
2022-12-06 18:25:36,392 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=097247d0-1050-4b3c-a928-646afc10235b]: sent task assignment to client
2022-12-06 18:25:37,198 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 18:25:58,640 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.547202825546265 seconds
2022-12-06 18:25:58,646 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:25:59,087 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=9becc18c-f68c-44a0-81d3-b5e304f3fd78
2022-12-06 18:25:59,088 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9becc18c-f68c-44a0-81d3-b5e304f3fd78]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:25:59,088 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9becc18c-f68c-44a0-81d3-b5e304f3fd78]: Client trainer got task: train
2022-12-06 18:25:59,812 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.586760759353638 seconds
2022-12-06 18:25:59,829 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:26:00,241 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=097247d0-1050-4b3c-a928-646afc10235b
2022-12-06 18:26:00,242 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=097247d0-1050-4b3c-a928-646afc10235b]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:26:00,242 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=097247d0-1050-4b3c-a928-646afc10235b]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 18:26:21,255 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9becc18c-f68c-44a0-81d3-b5e304f3fd78]: Accuracy when validating site-1's model on site-1s data: 0.9586621232863972
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 18:26:22,337 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=097247d0-1050-4b3c-a928-646afc10235b]: Accuracy when validating site-2's model on site-2s data: 0.9589854393724012
2022-12-06 18:35:04,530 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
-------------------------------------------------- save local model: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.44      0.16      0.24       222
         eve       0.30      0.18      0.22        96
         geo       0.82      0.84      0.83     14594
         gpe       0.93      0.89      0.91      5584
         nat       0.62      0.24      0.35       116
         org       0.70      0.68      0.69      8377
         per       0.74      0.78      0.76      7230
         tim       0.81      0.76      0.78      6802

   micro avg       0.79      0.79      0.79     43021
   macro avg       0.67      0.57      0.60     43021
weighted avg       0.79      0.79      0.79     43021

F1-score: 0.9633023467498437
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.29      0.12      0.17        16
         geo       0.83      0.82      0.83      1819
         gpe       0.89      0.95      0.92       731
         nat       0.00      0.00      0.00         6
         org       0.61      0.65      0.63       991
         per       0.69      0.76      0.72       907
         tim       0.83      0.81      0.82       854

   micro avg       0.77      0.79      0.78      5343
   macro avg       0.52      0.51      0.51      5343
weighted avg       0.77      0.79      0.78      5343

F1-score: 0.9600720754891237
2022-12-06 18:35:04,531 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9becc18c-f68c-44a0-81d3-b5e304f3fd78]: train:
              precision    recall  f1-score   support

         art       0.44      0.16      0.24       222
         eve       0.30      0.18      0.22        96
         geo       0.82      0.84      0.83     14594
         gpe       0.93      0.89      0.91      5584
         nat       0.62      0.24      0.35       116
         org       0.70      0.68      0.69      8377
         per       0.74      0.78      0.76      7230
         tim       0.81      0.76      0.78      6802

   micro avg       0.79      0.79      0.79     43021
   macro avg       0.67      0.57      0.60     43021
weighted avg       0.79      0.79      0.79     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.29      0.12      0.17        16
         geo       0.83      0.82      0.83      1819
         gpe       0.89      0.95      0.92       731
         nat       0.00      0.00      0.00         6
         org       0.61      0.65      0.63       991
         per       0.69      0.76      0.72       907
         tim       0.83      0.81      0.82       854

   micro avg       0.77      0.79      0.78      5343
   macro avg       0.52      0.51      0.51      5343
weighted avg       0.77      0.79      0.78      5343

-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 18:35:05,417 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9becc18c-f68c-44a0-81d3-b5e304f3fd78]: finished processing task
2022-12-06 18:35:05,419 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:35:06,242 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 18:35:08,283 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.51      0.15      0.24       176
         eve       0.43      0.19      0.26       117
         geo       0.82      0.84      0.83     14724
         gpe       0.93      0.89      0.91      5503
         nat       0.51      0.22      0.31        95
         org       0.70      0.67      0.68      8238
         per       0.71      0.76      0.73      6998
         tim       0.81      0.77      0.79      6773

   micro avg       0.79      0.78      0.79     42624
   macro avg       0.68      0.56      0.59     42624
weighted avg       0.79      0.78      0.78     42624

F1-score: 0.9636954424521141
val 0/1: 
              precision    recall  f1-score   support

         art       0.67      0.09      0.16        45
         eve       0.75      0.23      0.35        13
         geo       0.81      0.87      0.84      1773
         gpe       0.93      0.90      0.91       640
         nat       0.00      0.00      0.00        12
         org       0.67      0.68      0.68      1045
         per       0.73      0.73      0.73       940
         tim       0.79      0.82      0.81       859

   micro avg       0.78      0.79      0.79      5327
   macro avg       0.67      0.54      0.56      5327
weighted avg       0.78      0.79      0.78      5327

F1-score: 0.9614196001839177
2022-12-06 18:35:08,821 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=097247d0-1050-4b3c-a928-646afc10235b]: train:
              precision    recall  f1-score   support

         art       0.51      0.15      0.24       176
         eve       0.43      0.19      0.26       117
         geo       0.82      0.84      0.83     14724
         gpe       0.93      0.89      0.91      5503
         nat       0.51      0.22      0.31        95
         org       0.70      0.67      0.68      8238
         per       0.71      0.76      0.73      6998
         tim       0.81      0.77      0.79      6773

   micro avg       0.79      0.78      0.79     42624
   macro avg       0.68      0.56      0.59     42624
weighted avg       0.79      0.78      0.78     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.67      0.09      0.16        45
         eve       0.75      0.23      0.35        13
         geo       0.81      0.87      0.84      1773
         gpe       0.93      0.90      0.91       640
         nat       0.00      0.00      0.00        12
         org       0.67      0.68      0.68      1045
         per       0.73      0.73      0.73       940
         tim       0.79      0.82      0.81       859

   micro avg       0.78      0.79      0.79      5327
   macro avg       0.67      0.54      0.56      5327
weighted avg       0.78      0.79      0.78      5327

-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 18:35:09,719 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=097247d0-1050-4b3c-a928-646afc10235b]: finished processing task
2022-12-06 18:35:09,721 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:35:10,513 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 18:35:28,920 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670351728 seconds)
2022-12-06 18:35:28,921 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=9becc18c-f68c-44a0-81d3-b5e304f3fd78
2022-12-06 18:35:28,921 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9becc18c-f68c-44a0-81d3-b5e304f3fd78]: invoking result_received_cb ...
2022-12-06 18:35:28,993 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9becc18c-f68c-44a0-81d3-b5e304f3fd78]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 18:35:28,993 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9becc18c-f68c-44a0-81d3-b5e304f3fd78]: finished processing client result by scatter_and_gather
2022-12-06 18:35:29,026 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670351728 seconds). SubmitUpdate time: 22.783148288726807 seconds
2022-12-06 18:35:29,082 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9becc18c-f68c-44a0-81d3-b5e304f3fd78]: result sent to server for task: name=train, id=9becc18c-f68c-44a0-81d3-b5e304f3fd78
2022-12-06 18:35:29,082 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:35:33,218 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670351733 seconds)
2022-12-06 18:35:33,218 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=097247d0-1050-4b3c-a928-646afc10235b
2022-12-06 18:35:33,219 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=097247d0-1050-4b3c-a928-646afc10235b]: invoking result_received_cb ...
2022-12-06 18:35:33,374 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=097247d0-1050-4b3c-a928-646afc10235b]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 18:35:33,374 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=097247d0-1050-4b3c-a928-646afc10235b]: finished processing client result by scatter_and_gather
2022-12-06 18:35:33,410 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670351733 seconds). SubmitUpdate time: 22.89627242088318 seconds
2022-12-06 18:35:33,415 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:35:33,444 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=097247d0-1050-4b3c-a928-646afc10235b]: result sent to server for task: name=train, id=097247d0-1050-4b3c-a928-646afc10235b
2022-12-06 18:35:33,444 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:35:35,427 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:35:35,523 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:35:37,440 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:35:37,535 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:35:39,453 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:35:39,545 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:35:41,465 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:35:41,557 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:35:43,478 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:35:43,569 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:35:43,570 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 18:35:44,070 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 18:35:44,071 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 6
2022-12-06 18:35:44,203 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 18:35:44,203 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 18:35:44,995 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 18:35:44,996 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 6 finished.
2022-12-06 18:35:44,996 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 7 started.
2022-12-06 18:35:44,997 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 18:35:45,488 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=a6989481-061c-43b2-adb3-be46840823a2]: assigned task to client site-1: name=train, id=a6989481-061c-43b2-adb3-be46840823a2
2022-12-06 18:35:45,489 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=a6989481-061c-43b2-adb3-be46840823a2]: sent task assignment to client
2022-12-06 18:35:46,353 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 18:35:46,772 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7]: assigned task to client site-2: name=train, id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7
2022-12-06 18:35:46,773 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7]: sent task assignment to client
2022-12-06 18:35:47,585 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 18:36:09,142 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.657591342926025 seconds
2022-12-06 18:36:09,180 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:36:09,595 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=a6989481-061c-43b2-adb3-be46840823a2
2022-12-06 18:36:09,596 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a6989481-061c-43b2-adb3-be46840823a2]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:36:09,596 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a6989481-061c-43b2-adb3-be46840823a2]: Client trainer got task: train
2022-12-06 18:36:10,230 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.654610633850098 seconds
2022-12-06 18:36:10,247 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:36:10,652 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7
2022-12-06 18:36:10,652 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:36:10,652 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 18:36:31,743 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a6989481-061c-43b2-adb3-be46840823a2]: Accuracy when validating site-1's model on site-1s data: 0.9609368135907413
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 18:36:32,715 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7]: Accuracy when validating site-2's model on site-2s data: 0.9618495473081724
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.49      0.27      0.35       222
         eve       0.25      0.16      0.19        96
         geo       0.82      0.85      0.84     14594
         gpe       0.94      0.90      0.92      5584
         nat       0.62      0.30      0.41       116
         org       0.72      0.70      0.71      8377
         per       0.76      0.79      0.78      7230
         tim       0.83      0.78      0.80      6802

   micro avg       0.81      0.80      0.80     43021
   macro avg       0.68      0.59      0.62     43021
weighted avg       0.81      0.80      0.80     43021

F1-score: 0.9661720807072414
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.38      0.19      0.25        16
         geo       0.78      0.84      0.81      1819
         gpe       0.87      0.93      0.90       731
         nat       0.00      0.00      0.00         6
         org       0.68      0.57      0.62       991
         per       0.66      0.79      0.72       907
         tim       0.77      0.79      0.78       854

   micro avg       0.75      0.78      0.77      5343
   macro avg       0.52      0.51      0.51      5343
weighted avg       0.75      0.78      0.76      5343

F1-score: 0.9553235819337881
2022-12-06 18:45:14,116 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a6989481-061c-43b2-adb3-be46840823a2]: train:
              precision    recall  f1-score   support

         art       0.49      0.27      0.35       222
         eve       0.25      0.16      0.19        96
         geo       0.82      0.85      0.84     14594
         gpe       0.94      0.90      0.92      5584
         nat       0.62      0.30      0.41       116
         org       0.72      0.70      0.71      8377
         per       0.76      0.79      0.78      7230
         tim       0.83      0.78      0.80      6802

   micro avg       0.81      0.80      0.80     43021
   macro avg       0.68      0.59      0.62     43021
weighted avg       0.81      0.80      0.80     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.38      0.19      0.25        16
         geo       0.78      0.84      0.81      1819
         gpe       0.87      0.93      0.90       731
         nat       0.00      0.00      0.00         6
         org       0.68      0.57      0.62       991
         per       0.66      0.79      0.72       907
         tim       0.77      0.79      0.78       854

   micro avg       0.75      0.78      0.77      5343
   macro avg       0.52      0.51      0.51      5343
weighted avg       0.75      0.78      0.76      5343

-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 18:45:15,026 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a6989481-061c-43b2-adb3-be46840823a2]: finished processing task
2022-12-06 18:45:15,027 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:45:15,212 - SimulatorServer - INFO - getting AuxCommunicate request
2022-12-06 18:45:15,853 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.43      0.19      0.27       176
         eve       0.37      0.19      0.25       117
         geo       0.83      0.86      0.84     14724
         gpe       0.93      0.90      0.91      5503
         nat       0.62      0.34      0.44        95
         org       0.72      0.69      0.71      8238
         per       0.74      0.77      0.75      6998
         tim       0.83      0.78      0.80      6773

   micro avg       0.80      0.80      0.80     42624
   macro avg       0.68      0.59      0.62     42624
weighted avg       0.80      0.80      0.80     42624

F1-score: 0.9665301824629093
val 0/1: 
              precision    recall  f1-score   support

         art       0.62      0.18      0.28        45
         eve       0.29      0.15      0.20        13
         geo       0.82      0.80      0.81      1773
         gpe       0.78      0.93      0.85       640
         nat       0.00      0.00      0.00        12
         org       0.71      0.63      0.67      1045
         per       0.70      0.74      0.72       940
         tim       0.83      0.77      0.80       859

   micro avg       0.77      0.76      0.77      5327
   macro avg       0.59      0.53      0.54      5327
weighted avg       0.77      0.76      0.76      5327

F1-score: 0.9564523594709141
2022-12-06 18:45:17,635 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7]: train:
              precision    recall  f1-score   support

         art       0.43      0.19      0.27       176
         eve       0.37      0.19      0.25       117
         geo       0.83      0.86      0.84     14724
         gpe       0.93      0.90      0.91      5503
         nat       0.62      0.34      0.44        95
         org       0.72      0.69      0.71      8238
         per       0.74      0.77      0.75      6998
         tim       0.83      0.78      0.80      6773

   micro avg       0.80      0.80      0.80     42624
   macro avg       0.68      0.59      0.62     42624
weighted avg       0.80      0.80      0.80     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.62      0.18      0.28        45
         eve       0.29      0.15      0.20        13
         geo       0.82      0.80      0.81      1773
         gpe       0.78      0.93      0.85       640
         nat       0.00      0.00      0.00        12
         org       0.71      0.63      0.67      1045
         per       0.70      0.74      0.72       940
         tim       0.83      0.77      0.80       859

   micro avg       0.77      0.76      0.77      5327
   macro avg       0.59      0.53      0.54      5327
weighted avg       0.77      0.76      0.76      5327

2022-12-06 18:45:18,640 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 18:45:18,699 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7]: finished processing task
2022-12-06 18:45:18,701 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:45:19,486 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 18:45:38,550 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670352338 seconds)
2022-12-06 18:45:38,551 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=a6989481-061c-43b2-adb3-be46840823a2
2022-12-06 18:45:38,551 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a6989481-061c-43b2-adb3-be46840823a2]: invoking result_received_cb ...
2022-12-06 18:45:38,621 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a6989481-061c-43b2-adb3-be46840823a2]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 18:45:38,622 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a6989481-061c-43b2-adb3-be46840823a2]: finished processing client result by scatter_and_gather
2022-12-06 18:45:38,653 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670352338 seconds). SubmitUpdate time: 22.799985647201538 seconds
2022-12-06 18:45:38,692 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a6989481-061c-43b2-adb3-be46840823a2]: result sent to server for task: name=train, id=a6989481-061c-43b2-adb3-be46840823a2
2022-12-06 18:45:38,693 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:45:42,233 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670352342 seconds)
2022-12-06 18:45:42,233 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7
2022-12-06 18:45:42,234 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7]: invoking result_received_cb ...
2022-12-06 18:45:42,394 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 18:45:42,395 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7]: finished processing client result by scatter_and_gather
2022-12-06 18:45:42,430 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670352342 seconds). SubmitUpdate time: 22.94369101524353 seconds
2022-12-06 18:45:42,432 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:45:42,487 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7]: result sent to server for task: name=train, id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7
2022-12-06 18:45:42,487 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:45:44,444 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:45:44,554 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:45:46,456 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:45:46,566 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:45:48,468 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:45:48,578 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:45:50,480 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:45:50,590 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:45:52,492 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:45:52,584 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 18:45:52,602 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:45:53,083 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 18:45:53,084 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 7
2022-12-06 18:45:53,186 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 18:45:53,186 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 18:45:54,034 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 18:45:54,034 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 7 finished.
2022-12-06 18:45:54,035 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 8 started.
2022-12-06 18:45:54,035 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 18:45:54,501 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=eb958c28-06eb-4da4-8350-13ae58d8f65b]: assigned task to client site-1: name=train, id=eb958c28-06eb-4da4-8350-13ae58d8f65b
2022-12-06 18:45:54,502 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=eb958c28-06eb-4da4-8350-13ae58d8f65b]: sent task assignment to client
2022-12-06 18:45:55,357 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 18:45:55,770 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=7d20ed5b-a686-43dd-9a94-4f2756b907a6]: assigned task to client site-2: name=train, id=7d20ed5b-a686-43dd-9a94-4f2756b907a6
2022-12-06 18:45:55,772 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=7d20ed5b-a686-43dd-9a94-4f2756b907a6]: sent task assignment to client
2022-12-06 18:45:56,594 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 18:46:18,057 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.558822870254517 seconds
2022-12-06 18:46:18,076 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:46:18,517 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=eb958c28-06eb-4da4-8350-13ae58d8f65b
2022-12-06 18:46:18,517 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=eb958c28-06eb-4da4-8350-13ae58d8f65b]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:46:18,518 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=eb958c28-06eb-4da4-8350-13ae58d8f65b]: Client trainer got task: train
2022-12-06 18:46:19,287 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.679088830947876 seconds
2022-12-06 18:46:19,304 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:46:19,705 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=7d20ed5b-a686-43dd-9a94-4f2756b907a6
2022-12-06 18:46:19,705 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7d20ed5b-a686-43dd-9a94-4f2756b907a6]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:46:19,705 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7d20ed5b-a686-43dd-9a94-4f2756b907a6]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 18:46:40,693 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=eb958c28-06eb-4da4-8350-13ae58d8f65b]: Accuracy when validating site-1's model on site-1s data: 0.95819349072297
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 18:46:41,749 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7d20ed5b-a686-43dd-9a94-4f2756b907a6]: Accuracy when validating site-2's model on site-2s data: 0.9581287828608872
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.57      0.33      0.42       222
         eve       0.35      0.25      0.29        96
         geo       0.84      0.87      0.85     14594
         gpe       0.94      0.91      0.93      5584
         nat       0.60      0.36      0.45       116
         org       0.73      0.71      0.72      8377
         per       0.78      0.81      0.79      7230
         tim       0.83      0.79      0.81      6802

   micro avg       0.82      0.81      0.82     43021
   macro avg       0.70      0.63      0.66     43021
weighted avg       0.82      0.81      0.81     43021

F1-score: 0.9686082517227577
val 0/1: 
              precision    recall  f1-score   support

         art       0.06      0.05      0.06        19
         eve       0.12      0.06      0.08        16
         geo       0.85      0.80      0.82      1819
         gpe       0.92      0.95      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.56      0.71      0.62       991
         per       0.73      0.71      0.72       907
         tim       0.81      0.81      0.81       854

   micro avg       0.76      0.78      0.77      5343
   macro avg       0.51      0.51      0.51      5343
weighted avg       0.77      0.78      0.78      5343

F1-score: 0.9576937901112339
2022-12-06 18:55:20,793 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=eb958c28-06eb-4da4-8350-13ae58d8f65b]: train:
              precision    recall  f1-score   support

         art       0.57      0.33      0.42       222
         eve       0.35      0.25      0.29        96
         geo       0.84      0.87      0.85     14594
         gpe       0.94      0.91      0.93      5584
         nat       0.60      0.36      0.45       116
         org       0.73      0.71      0.72      8377
         per       0.78      0.81      0.79      7230
         tim       0.83      0.79      0.81      6802

   micro avg       0.82      0.81      0.82     43021
   macro avg       0.70      0.63      0.66     43021
weighted avg       0.82      0.81      0.81     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.06      0.05      0.06        19
         eve       0.12      0.06      0.08        16
         geo       0.85      0.80      0.82      1819
         gpe       0.92      0.95      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.56      0.71      0.62       991
         per       0.73      0.71      0.72       907
         tim       0.81      0.81      0.81       854

   micro avg       0.76      0.78      0.77      5343
   macro avg       0.51      0.51      0.51      5343
weighted avg       0.77      0.78      0.78      5343

2022-12-06 18:55:20,966 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 18:55:21,723 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=eb958c28-06eb-4da4-8350-13ae58d8f65b]: finished processing task
2022-12-06 18:55:21,724 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:55:22,531 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 18:55:26,668 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.53      0.29      0.38       176
         eve       0.34      0.24      0.28       117
         geo       0.84      0.86      0.85     14724
         gpe       0.94      0.90      0.92      5503
         nat       0.55      0.35      0.43        95
         org       0.73      0.71      0.72      8238
         per       0.75      0.79      0.77      6998
         tim       0.84      0.80      0.82      6773

   micro avg       0.81      0.81      0.81     42624
   macro avg       0.69      0.62      0.65     42624
weighted avg       0.81      0.81      0.81     42624

F1-score: 0.9690565219386498
val 0/1: 
              precision    recall  f1-score   support

         art       0.59      0.22      0.32        45
         eve       0.50      0.15      0.24        13
         geo       0.83      0.86      0.84      1773
         gpe       0.91      0.93      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.70      0.69      0.69      1045
         per       0.74      0.73      0.74       940
         tim       0.83      0.81      0.82       859

   micro avg       0.80      0.79      0.79      5327
   macro avg       0.64      0.55      0.57      5327
weighted avg       0.79      0.79      0.79      5327

F1-score: 0.9619184317634502
2022-12-06 18:55:27,393 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7d20ed5b-a686-43dd-9a94-4f2756b907a6]: train:
              precision    recall  f1-score   support

         art       0.53      0.29      0.38       176
         eve       0.34      0.24      0.28       117
         geo       0.84      0.86      0.85     14724
         gpe       0.94      0.90      0.92      5503
         nat       0.55      0.35      0.43        95
         org       0.73      0.71      0.72      8238
         per       0.75      0.79      0.77      6998
         tim       0.84      0.80      0.82      6773

   micro avg       0.81      0.81      0.81     42624
   macro avg       0.69      0.62      0.65     42624
weighted avg       0.81      0.81      0.81     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.59      0.22      0.32        45
         eve       0.50      0.15      0.24        13
         geo       0.83      0.86      0.84      1773
         gpe       0.91      0.93      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.70      0.69      0.69      1045
         per       0.74      0.73      0.74       940
         tim       0.83      0.81      0.82       859

   micro avg       0.80      0.79      0.79      5327
   macro avg       0.64      0.55      0.57      5327
weighted avg       0.79      0.79      0.79      5327

-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 18:55:28,294 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7d20ed5b-a686-43dd-9a94-4f2756b907a6]: finished processing task
2022-12-06 18:55:28,295 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:55:29,115 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 18:55:45,256 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670352945 seconds)
2022-12-06 18:55:45,256 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=eb958c28-06eb-4da4-8350-13ae58d8f65b
2022-12-06 18:55:45,257 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=eb958c28-06eb-4da4-8350-13ae58d8f65b]: invoking result_received_cb ...
2022-12-06 18:55:45,327 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=eb958c28-06eb-4da4-8350-13ae58d8f65b]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 18:55:45,327 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=eb958c28-06eb-4da4-8350-13ae58d8f65b]: finished processing client result by scatter_and_gather
2022-12-06 18:55:45,359 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670352945 seconds). SubmitUpdate time: 22.82833743095398 seconds
2022-12-06 18:55:45,415 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=eb958c28-06eb-4da4-8350-13ae58d8f65b]: result sent to server for task: name=train, id=eb958c28-06eb-4da4-8350-13ae58d8f65b
2022-12-06 18:55:45,416 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:55:47,475 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:55:51,880 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670352951 seconds)
2022-12-06 18:55:51,880 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=7d20ed5b-a686-43dd-9a94-4f2756b907a6
2022-12-06 18:55:51,881 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7d20ed5b-a686-43dd-9a94-4f2756b907a6]: invoking result_received_cb ...
2022-12-06 18:55:52,034 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7d20ed5b-a686-43dd-9a94-4f2756b907a6]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 18:55:52,035 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7d20ed5b-a686-43dd-9a94-4f2756b907a6]: finished processing client result by scatter_and_gather
2022-12-06 18:55:52,039 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:55:52,066 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670352951 seconds). SubmitUpdate time: 22.95097255706787 seconds
2022-12-06 18:55:52,120 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7d20ed5b-a686-43dd-9a94-4f2756b907a6]: result sent to server for task: name=train, id=7d20ed5b-a686-43dd-9a94-4f2756b907a6
2022-12-06 18:55:52,121 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:55:54,073 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:55:54,204 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:55:56,085 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:55:56,223 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:55:58,097 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:55:58,235 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:56:00,109 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:56:00,247 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:56:02,121 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:56:02,236 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 18:56:02,259 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:56:02,734 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 18:56:02,735 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 8
2022-12-06 18:56:02,879 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 18:56:02,879 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 18:56:03,500 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 18:56:03,501 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 8 finished.
2022-12-06 18:56:03,501 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 9 started.
2022-12-06 18:56:03,502 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 18:56:04,131 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=31dcf95f-d841-4ecb-851f-6048fad6d4bf]: assigned task to client site-1: name=train, id=31dcf95f-d841-4ecb-851f-6048fad6d4bf
2022-12-06 18:56:04,132 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=31dcf95f-d841-4ecb-851f-6048fad6d4bf]: sent task assignment to client
2022-12-06 18:56:04,992 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 18:56:05,406 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=55c5923f-188e-4ed6-af7f-66a0b73175fb]: assigned task to client site-2: name=train, id=55c5923f-188e-4ed6-af7f-66a0b73175fb
2022-12-06 18:56:05,407 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=55c5923f-188e-4ed6-af7f-66a0b73175fb]: sent task assignment to client
2022-12-06 18:56:06,212 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 18:56:27,604 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.4770290851593 seconds
2022-12-06 18:56:27,637 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:56:28,052 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=31dcf95f-d841-4ecb-851f-6048fad6d4bf
2022-12-06 18:56:28,053 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=31dcf95f-d841-4ecb-851f-6048fad6d4bf]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:56:28,053 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=31dcf95f-d841-4ecb-851f-6048fad6d4bf]: Client trainer got task: train
2022-12-06 18:56:28,905 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.642326831817627 seconds
2022-12-06 18:56:28,922 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:56:29,350 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=55c5923f-188e-4ed6-af7f-66a0b73175fb
2022-12-06 18:56:29,350 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=55c5923f-188e-4ed6-af7f-66a0b73175fb]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:56:29,351 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=55c5923f-188e-4ed6-af7f-66a0b73175fb]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 18:56:50,211 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=31dcf95f-d841-4ecb-851f-6048fad6d4bf]: Accuracy when validating site-1's model on site-1s data: 0.9609886486532433
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 18:56:51,414 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=55c5923f-188e-4ed6-af7f-66a0b73175fb]: Accuracy when validating site-2's model on site-2s data: 0.9623519629814776
2022-12-06 19:05:32,226 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
-------------------------------------------------- save local model: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.64      0.40      0.49       222
         eve       0.28      0.20      0.23        96
         geo       0.84      0.87      0.86     14594
         gpe       0.94      0.91      0.92      5584
         nat       0.55      0.31      0.40       116
         org       0.75      0.73      0.74      8377
         per       0.79      0.81      0.80      7230
         tim       0.84      0.80      0.82      6802

   micro avg       0.83      0.82      0.83     43021
   macro avg       0.70      0.63      0.66     43021
weighted avg       0.83      0.82      0.82     43021

F1-score: 0.9705684511519617
val 0/1: 
              precision    recall  f1-score   support

         art       0.15      0.11      0.12        19
         eve       0.33      0.25      0.29        16
         geo       0.80      0.86      0.83      1819
         gpe       0.92      0.95      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.68      0.61      0.64       991
         per       0.67      0.78      0.72       907
         tim       0.84      0.81      0.83       854

   micro avg       0.78      0.80      0.79      5343
   macro avg       0.55      0.55      0.55      5343
weighted avg       0.78      0.80      0.79      5343

F1-score: 0.9606451292543022
2022-12-06 19:05:32,931 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=31dcf95f-d841-4ecb-851f-6048fad6d4bf]: train:
              precision    recall  f1-score   support

         art       0.64      0.40      0.49       222
         eve       0.28      0.20      0.23        96
         geo       0.84      0.87      0.86     14594
         gpe       0.94      0.91      0.92      5584
         nat       0.55      0.31      0.40       116
         org       0.75      0.73      0.74      8377
         per       0.79      0.81      0.80      7230
         tim       0.84      0.80      0.82      6802

   micro avg       0.83      0.82      0.83     43021
   macro avg       0.70      0.63      0.66     43021
weighted avg       0.83      0.82      0.82     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.15      0.11      0.12        19
         eve       0.33      0.25      0.29        16
         geo       0.80      0.86      0.83      1819
         gpe       0.92      0.95      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.68      0.61      0.64       991
         per       0.67      0.78      0.72       907
         tim       0.84      0.81      0.83       854

   micro avg       0.78      0.80      0.79      5343
   macro avg       0.55      0.55      0.55      5343
weighted avg       0.78      0.80      0.79      5343

-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 19:05:33,800 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=31dcf95f-d841-4ecb-851f-6048fad6d4bf]: finished processing task
2022-12-06 19:05:33,802 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:05:34,620 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 19:05:36,294 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.56      0.34      0.42       176
         eve       0.35      0.23      0.28       117
         geo       0.85      0.88      0.86     14724
         gpe       0.94      0.91      0.93      5503
         nat       0.60      0.36      0.45        95
         org       0.74      0.73      0.73      8238
         per       0.76      0.79      0.78      6998
         tim       0.85      0.82      0.83      6773

   micro avg       0.82      0.82      0.82     42624
   macro avg       0.71      0.63      0.66     42624
weighted avg       0.82      0.82      0.82     42624

F1-score: 0.9709983371968282
val 0/1: 
              precision    recall  f1-score   support

         art       0.53      0.22      0.31        45
         eve       0.38      0.23      0.29        13
         geo       0.81      0.87      0.84      1773
         gpe       0.93      0.91      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.70      0.67      0.69      1045
         per       0.72      0.74      0.73       940
         tim       0.85      0.82      0.84       859

   micro avg       0.79      0.80      0.80      5327
   macro avg       0.61      0.56      0.58      5327
weighted avg       0.79      0.80      0.79      5327

F1-score: 0.96207663657383
2022-12-06 19:05:36,346 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=55c5923f-188e-4ed6-af7f-66a0b73175fb]: train:
              precision    recall  f1-score   support

         art       0.56      0.34      0.42       176
         eve       0.35      0.23      0.28       117
         geo       0.85      0.88      0.86     14724
         gpe       0.94      0.91      0.93      5503
         nat       0.60      0.36      0.45        95
         org       0.74      0.73      0.73      8238
         per       0.76      0.79      0.78      6998
         tim       0.85      0.82      0.83      6773

   micro avg       0.82      0.82      0.82     42624
   macro avg       0.71      0.63      0.66     42624
weighted avg       0.82      0.82      0.82     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.53      0.22      0.31        45
         eve       0.38      0.23      0.29        13
         geo       0.81      0.87      0.84      1773
         gpe       0.93      0.91      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.70      0.67      0.69      1045
         per       0.72      0.74      0.73       940
         tim       0.85      0.82      0.84       859

   micro avg       0.79      0.80      0.80      5327
   macro avg       0.61      0.56      0.58      5327
weighted avg       0.79      0.80      0.79      5327

-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 19:05:37,220 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=55c5923f-188e-4ed6-af7f-66a0b73175fb]: finished processing task
2022-12-06 19:05:37,222 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:05:38,014 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 19:05:57,321 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670353557 seconds)
2022-12-06 19:05:57,321 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=31dcf95f-d841-4ecb-851f-6048fad6d4bf
2022-12-06 19:05:57,321 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=31dcf95f-d841-4ecb-851f-6048fad6d4bf]: invoking result_received_cb ...
2022-12-06 19:05:57,392 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=31dcf95f-d841-4ecb-851f-6048fad6d4bf]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 19:05:57,392 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=31dcf95f-d841-4ecb-851f-6048fad6d4bf]: finished processing client result by scatter_and_gather
2022-12-06 19:05:57,422 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670353557 seconds). SubmitUpdate time: 22.801997900009155 seconds
2022-12-06 19:05:57,474 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=31dcf95f-d841-4ecb-851f-6048fad6d4bf]: result sent to server for task: name=train, id=31dcf95f-d841-4ecb-851f-6048fad6d4bf
2022-12-06 19:05:57,475 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:06:00,694 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670353560 seconds)
2022-12-06 19:06:00,694 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=55c5923f-188e-4ed6-af7f-66a0b73175fb
2022-12-06 19:06:00,695 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=55c5923f-188e-4ed6-af7f-66a0b73175fb]: invoking result_received_cb ...
2022-12-06 19:06:00,848 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=55c5923f-188e-4ed6-af7f-66a0b73175fb]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 19:06:00,848 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=55c5923f-188e-4ed6-af7f-66a0b73175fb]: finished processing client result by scatter_and_gather
2022-12-06 19:06:00,882 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670353560 seconds). SubmitUpdate time: 22.867159605026245 seconds
2022-12-06 19:06:00,885 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:06:00,902 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=55c5923f-188e-4ed6-af7f-66a0b73175fb]: result sent to server for task: name=train, id=55c5923f-188e-4ed6-af7f-66a0b73175fb
2022-12-06 19:06:00,903 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:06:02,904 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:06:02,974 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:06:04,917 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:06:04,986 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:06:06,928 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:06:06,998 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:06:08,940 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:06:09,010 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:06:10,953 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:06:11,022 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:06:11,049 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 19:06:11,548 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 19:06:11,549 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 9
2022-12-06 19:06:11,648 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 19:06:11,648 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 19:06:12,333 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 19:06:12,334 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 9 finished.
2022-12-06 19:06:12,334 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 10 started.
2022-12-06 19:06:12,335 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 19:06:12,960 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=367b6ce1-15df-4fad-9ed8-0b10514a5693]: assigned task to client site-1: name=train, id=367b6ce1-15df-4fad-9ed8-0b10514a5693
2022-12-06 19:06:12,962 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=367b6ce1-15df-4fad-9ed8-0b10514a5693]: sent task assignment to client
2022-12-06 19:06:13,859 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 19:06:14,279 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=1eece279-1ce8-443b-b1aa-fda194700ef3]: assigned task to client site-2: name=train, id=1eece279-1ce8-443b-b1aa-fda194700ef3
2022-12-06 19:06:14,281 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=1eece279-1ce8-443b-b1aa-fda194700ef3]: sent task assignment to client
2022-12-06 19:06:15,080 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 19:06:36,572 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.615022659301758 seconds
2022-12-06 19:06:36,591 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:06:37,008 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=367b6ce1-15df-4fad-9ed8-0b10514a5693
2022-12-06 19:06:37,008 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=367b6ce1-15df-4fad-9ed8-0b10514a5693]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:06:37,008 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=367b6ce1-15df-4fad-9ed8-0b10514a5693]: Client trainer got task: train
2022-12-06 19:06:37,718 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.690598726272583 seconds
2022-12-06 19:06:37,735 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:06:38,142 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=1eece279-1ce8-443b-b1aa-fda194700ef3
2022-12-06 19:06:38,142 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1eece279-1ce8-443b-b1aa-fda194700ef3]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:06:38,142 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1eece279-1ce8-443b-b1aa-fda194700ef3]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 19:06:59,158 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=367b6ce1-15df-4fad-9ed8-0b10514a5693]: Accuracy when validating site-1's model on site-1s data: 0.9620104876858017
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 19:07:00,177 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1eece279-1ce8-443b-b1aa-fda194700ef3]: Accuracy when validating site-2's model on site-2s data: 0.9630716279895178
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.60      0.41      0.49       222
         eve       0.40      0.28      0.33        96
         geo       0.85      0.89      0.87     14594
         gpe       0.95      0.92      0.93      5584
         nat       0.66      0.37      0.48       116
         org       0.78      0.75      0.76      8377
         per       0.80      0.83      0.81      7230
         tim       0.86      0.82      0.84      6802

   micro avg       0.84      0.84      0.84     43021
   macro avg       0.74      0.66      0.69     43021
weighted avg       0.84      0.84      0.84     43021

F1-score: 0.9734217319594107
val 0/1: 
              precision    recall  f1-score   support

         art       0.22      0.11      0.14        19
         eve       0.25      0.19      0.21        16
         geo       0.78      0.83      0.81      1819
         gpe       0.92      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.57      0.63       991
         per       0.69      0.80      0.74       907
         tim       0.81      0.80      0.81       854

   micro avg       0.78      0.78      0.78      5343
   macro avg       0.55      0.53      0.53      5343
weighted avg       0.77      0.78      0.78      5343

F1-score: 0.9591796192110811
2022-12-06 19:15:40,774 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=367b6ce1-15df-4fad-9ed8-0b10514a5693]: train:
              precision    recall  f1-score   support

         art       0.60      0.41      0.49       222
         eve       0.40      0.28      0.33        96
         geo       0.85      0.89      0.87     14594
         gpe       0.95      0.92      0.93      5584
         nat       0.66      0.37      0.48       116
         org       0.78      0.75      0.76      8377
         per       0.80      0.83      0.81      7230
         tim       0.86      0.82      0.84      6802

   micro avg       0.84      0.84      0.84     43021
   macro avg       0.74      0.66      0.69     43021
weighted avg       0.84      0.84      0.84     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.22      0.11      0.14        19
         eve       0.25      0.19      0.21        16
         geo       0.78      0.83      0.81      1819
         gpe       0.92      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.57      0.63       991
         per       0.69      0.80      0.74       907
         tim       0.81      0.80      0.81       854

   micro avg       0.78      0.78      0.78      5343
   macro avg       0.55      0.53      0.53      5343
weighted avg       0.77      0.78      0.78      5343

2022-12-06 19:15:40,982 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 19:15:41,691 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=367b6ce1-15df-4fad-9ed8-0b10514a5693]: finished processing task
2022-12-06 19:15:41,693 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:15:42,500 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.40      0.28      0.33       176
         eve       0.37      0.26      0.31       117
         geo       0.85      0.87      0.86     14724
         gpe       0.94      0.90      0.92      5503
         nat       0.57      0.38      0.46        95
         org       0.75      0.73      0.74      8238
         per       0.77      0.79      0.78      6998
         tim       0.84      0.81      0.82      6773

   micro avg       0.82      0.82      0.82     42624
   macro avg       0.69      0.63      0.65     42624
weighted avg       0.82      0.82      0.82     42624

F1-score: 0.9706175928178158
val 0/1: 
              precision    recall  f1-score   support

         art       0.55      0.24      0.34        45
         eve       0.22      0.15      0.18        13
         geo       0.84      0.85      0.84      1773
         gpe       0.94      0.90      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.68      0.69      0.69      1045
         per       0.74      0.75      0.74       940
         tim       0.83      0.81      0.82       859

   micro avg       0.80      0.79      0.79      5327
   macro avg       0.60      0.55      0.57      5327
weighted avg       0.80      0.79      0.79      5327

F1-score: 0.9617612990454005
2022-12-06 19:15:43,711 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1eece279-1ce8-443b-b1aa-fda194700ef3]: train:
              precision    recall  f1-score   support

         art       0.40      0.28      0.33       176
         eve       0.37      0.26      0.31       117
         geo       0.85      0.87      0.86     14724
         gpe       0.94      0.90      0.92      5503
         nat       0.57      0.38      0.46        95
         org       0.75      0.73      0.74      8238
         per       0.77      0.79      0.78      6998
         tim       0.84      0.81      0.82      6773

   micro avg       0.82      0.82      0.82     42624
   macro avg       0.69      0.63      0.65     42624
weighted avg       0.82      0.82      0.82     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.55      0.24      0.34        45
         eve       0.22      0.15      0.18        13
         geo       0.84      0.85      0.84      1773
         gpe       0.94      0.90      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.68      0.69      0.69      1045
         per       0.74      0.75      0.74       940
         tim       0.83      0.81      0.82       859

   micro avg       0.80      0.79      0.79      5327
   macro avg       0.60      0.55      0.57      5327
weighted avg       0.80      0.79      0.79      5327

2022-12-06 19:15:44,583 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 19:15:44,629 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1eece279-1ce8-443b-b1aa-fda194700ef3]: finished processing task
2022-12-06 19:15:44,630 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:15:45,430 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 19:16:05,207 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670354165 seconds)
2022-12-06 19:16:05,207 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=367b6ce1-15df-4fad-9ed8-0b10514a5693
2022-12-06 19:16:05,208 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=367b6ce1-15df-4fad-9ed8-0b10514a5693]: invoking result_received_cb ...
2022-12-06 19:16:05,278 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=367b6ce1-15df-4fad-9ed8-0b10514a5693]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 19:16:05,278 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=367b6ce1-15df-4fad-9ed8-0b10514a5693]: finished processing client result by scatter_and_gather
2022-12-06 19:16:05,311 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670354165 seconds). SubmitUpdate time: 22.811192989349365 seconds
2022-12-06 19:16:05,358 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=367b6ce1-15df-4fad-9ed8-0b10514a5693]: result sent to server for task: name=train, id=367b6ce1-15df-4fad-9ed8-0b10514a5693
2022-12-06 19:16:05,359 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:16:08,348 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670354168 seconds)
2022-12-06 19:16:08,348 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=1eece279-1ce8-443b-b1aa-fda194700ef3
2022-12-06 19:16:08,348 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1eece279-1ce8-443b-b1aa-fda194700ef3]: invoking result_received_cb ...
2022-12-06 19:16:08,512 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1eece279-1ce8-443b-b1aa-fda194700ef3]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 19:16:08,513 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1eece279-1ce8-443b-b1aa-fda194700ef3]: finished processing client result by scatter_and_gather
2022-12-06 19:16:08,548 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670354168 seconds). SubmitUpdate time: 23.11815595626831 seconds
2022-12-06 19:16:08,555 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:16:08,594 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1eece279-1ce8-443b-b1aa-fda194700ef3]: result sent to server for task: name=train, id=1eece279-1ce8-443b-b1aa-fda194700ef3
2022-12-06 19:16:08,594 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:16:10,567 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:16:10,672 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:16:12,579 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:16:12,702 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:16:14,591 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:16:14,714 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:16:16,603 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:16:16,726 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:16:18,615 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:16:18,693 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 19:16:18,738 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:16:19,192 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 19:16:19,193 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 10
2022-12-06 19:16:19,336 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 19:16:19,337 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 19:16:20,051 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 19:16:20,051 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 10 finished.
2022-12-06 19:16:20,051 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 11 started.
2022-12-06 19:16:20,052 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 19:16:20,625 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6]: assigned task to client site-1: name=train, id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6
2022-12-06 19:16:20,626 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6]: sent task assignment to client
2022-12-06 19:16:21,484 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 19:16:21,897 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=39ef772e-12f7-4a9e-9d03-04127020faa8]: assigned task to client site-2: name=train, id=39ef772e-12f7-4a9e-9d03-04127020faa8
2022-12-06 19:16:21,898 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=39ef772e-12f7-4a9e-9d03-04127020faa8]: sent task assignment to client
2022-12-06 19:16:22,717 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 19:16:44,141 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.519423961639404 seconds
2022-12-06 19:16:44,148 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:16:44,597 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6
2022-12-06 19:16:44,598 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:16:44,598 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6]: Client trainer got task: train
2022-12-06 19:16:45,477 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.7329158782959 seconds
2022-12-06 19:16:45,493 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:16:45,893 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=39ef772e-12f7-4a9e-9d03-04127020faa8
2022-12-06 19:16:45,894 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=39ef772e-12f7-4a9e-9d03-04127020faa8]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:16:45,894 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=39ef772e-12f7-4a9e-9d03-04127020faa8]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 19:17:06,744 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6]: Accuracy when validating site-1's model on site-1s data: 0.9618459330493898
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 19:17:07,902 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=39ef772e-12f7-4a9e-9d03-04127020faa8]: Accuracy when validating site-2's model on site-2s data: 0.9622474814165196
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.71      0.50      0.59       222
         eve       0.37      0.27      0.31        96
         geo       0.86      0.89      0.88     14594
         gpe       0.95      0.93      0.94      5584
         nat       0.65      0.32      0.43       116
         org       0.78      0.76      0.77      8377
         per       0.81      0.84      0.83      7230
         tim       0.86      0.83      0.84      6802

   micro avg       0.85      0.85      0.85     43021
   macro avg       0.75      0.67      0.70     43021
weighted avg       0.85      0.85      0.85     43021

F1-score: 0.974545452204834
val 0/1: 
              precision    recall  f1-score   support

         art       0.10      0.11      0.10        19
         eve       0.25      0.19      0.21        16
         geo       0.81      0.84      0.83      1819
         gpe       0.94      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.64      0.65      0.65       991
         per       0.68      0.74      0.71       907
         tim       0.82      0.81      0.81       854

   micro avg       0.77      0.79      0.78      5343
   macro avg       0.53      0.53      0.53      5343
weighted avg       0.77      0.79      0.78      5343

F1-score: 0.9605818211427282
2022-12-06 19:25:47,577 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6]: train:
              precision    recall  f1-score   support

         art       0.71      0.50      0.59       222
         eve       0.37      0.27      0.31        96
         geo       0.86      0.89      0.88     14594
         gpe       0.95      0.93      0.94      5584
         nat       0.65      0.32      0.43       116
         org       0.78      0.76      0.77      8377
         per       0.81      0.84      0.83      7230
         tim       0.86      0.83      0.84      6802

   micro avg       0.85      0.85      0.85     43021
   macro avg       0.75      0.67      0.70     43021
weighted avg       0.85      0.85      0.85     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.10      0.11      0.10        19
         eve       0.25      0.19      0.21        16
         geo       0.81      0.84      0.83      1819
         gpe       0.94      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.64      0.65      0.65       991
         per       0.68      0.74      0.71       907
         tim       0.82      0.81      0.81       854

   micro avg       0.77      0.79      0.78      5343
   macro avg       0.53      0.53      0.53      5343
weighted avg       0.77      0.79      0.78      5343

2022-12-06 19:25:48,545 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 19:25:48,622 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6]: finished processing task
2022-12-06 19:25:48,623 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:25:49,436 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.46      0.38      0.41       176
         eve       0.45      0.31      0.37       117
         geo       0.86      0.88      0.87     14724
         gpe       0.95      0.92      0.93      5503
         nat       0.57      0.39      0.46        95
         org       0.78      0.75      0.76      8238
         per       0.79      0.82      0.81      6998
         tim       0.85      0.83      0.84      6773

   micro avg       0.84      0.84      0.84     42624
   macro avg       0.71      0.66      0.68     42624
weighted avg       0.84      0.84      0.84     42624

F1-score: 0.9739531001492493
val 0/1: 
              precision    recall  f1-score   support

         art       0.55      0.24      0.34        45
         eve       0.23      0.23      0.23        13
         geo       0.83      0.85      0.84      1773
         gpe       0.93      0.92      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.71      0.68      0.70      1045
         per       0.74      0.76      0.75       940
         tim       0.84      0.81      0.83       859

   micro avg       0.80      0.80      0.80      5327
   macro avg       0.60      0.56      0.58      5327
weighted avg       0.80      0.80      0.80      5327

F1-score: 0.9623490593861227
2022-12-06 19:25:51,085 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=39ef772e-12f7-4a9e-9d03-04127020faa8]: train:
              precision    recall  f1-score   support

         art       0.46      0.38      0.41       176
         eve       0.45      0.31      0.37       117
         geo       0.86      0.88      0.87     14724
         gpe       0.95      0.92      0.93      5503
         nat       0.57      0.39      0.46        95
         org       0.78      0.75      0.76      8238
         per       0.79      0.82      0.81      6998
         tim       0.85      0.83      0.84      6773

   micro avg       0.84      0.84      0.84     42624
   macro avg       0.71      0.66      0.68     42624
weighted avg       0.84      0.84      0.84     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.55      0.24      0.34        45
         eve       0.23      0.23      0.23        13
         geo       0.83      0.85      0.84      1773
         gpe       0.93      0.92      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.71      0.68      0.70      1045
         per       0.74      0.76      0.75       940
         tim       0.84      0.81      0.83       859

   micro avg       0.80      0.80      0.80      5327
   macro avg       0.60      0.56      0.58      5327
weighted avg       0.80      0.80      0.80      5327

2022-12-06 19:25:51,096 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 19:25:52,219 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=39ef772e-12f7-4a9e-9d03-04127020faa8]: finished processing task
2022-12-06 19:25:52,221 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:25:53,029 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 19:26:12,175 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670354772 seconds)
2022-12-06 19:26:12,175 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6
2022-12-06 19:26:12,175 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6]: invoking result_received_cb ...
2022-12-06 19:26:12,247 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 19:26:12,247 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6]: finished processing client result by scatter_and_gather
2022-12-06 19:26:12,278 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670354772 seconds). SubmitUpdate time: 22.84217119216919 seconds
2022-12-06 19:26:12,335 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6]: result sent to server for task: name=train, id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6
2022-12-06 19:26:12,335 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:26:15,775 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670354775 seconds)
2022-12-06 19:26:15,775 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=39ef772e-12f7-4a9e-9d03-04127020faa8
2022-12-06 19:26:15,775 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=39ef772e-12f7-4a9e-9d03-04127020faa8]: invoking result_received_cb ...
2022-12-06 19:26:15,930 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=39ef772e-12f7-4a9e-9d03-04127020faa8]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 19:26:15,930 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=39ef772e-12f7-4a9e-9d03-04127020faa8]: finished processing client result by scatter_and_gather
2022-12-06 19:26:15,965 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670354775 seconds). SubmitUpdate time: 22.935813188552856 seconds
2022-12-06 19:26:15,970 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:26:16,020 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=39ef772e-12f7-4a9e-9d03-04127020faa8]: result sent to server for task: name=train, id=39ef772e-12f7-4a9e-9d03-04127020faa8
2022-12-06 19:26:16,021 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:26:17,982 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:26:18,089 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:26:19,995 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:26:20,101 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:26:22,007 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:26:22,113 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:26:24,019 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:26:24,143 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:26:26,031 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:26:26,123 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 19:26:26,155 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:26:26,622 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 19:26:26,623 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 11
2022-12-06 19:26:26,760 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 19:26:26,761 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 19:26:27,378 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 19:26:27,379 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 11 finished.
2022-12-06 19:26:27,379 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 12 started.
2022-12-06 19:26:27,380 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 19:26:28,041 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=1b44ed95-e67b-4985-b0df-925079a30c24]: assigned task to client site-1: name=train, id=1b44ed95-e67b-4985-b0df-925079a30c24
2022-12-06 19:26:28,042 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=1b44ed95-e67b-4985-b0df-925079a30c24]: sent task assignment to client
2022-12-06 19:26:28,903 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 19:26:29,319 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=5fd88118-507d-41cb-823c-bf1374b840d9]: assigned task to client site-2: name=train, id=5fd88118-507d-41cb-823c-bf1374b840d9
2022-12-06 19:26:29,320 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=5fd88118-507d-41cb-823c-bf1374b840d9]: sent task assignment to client
2022-12-06 19:26:30,131 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 19:26:51,625 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.587746620178223 seconds
2022-12-06 19:26:51,639 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:26:52,076 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=1b44ed95-e67b-4985-b0df-925079a30c24
2022-12-06 19:26:52,076 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1b44ed95-e67b-4985-b0df-925079a30c24]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:26:52,077 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1b44ed95-e67b-4985-b0df-925079a30c24]: Client trainer got task: train
2022-12-06 19:26:52,800 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.64016079902649 seconds
2022-12-06 19:26:52,829 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:26:53,253 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=5fd88118-507d-41cb-823c-bf1374b840d9
2022-12-06 19:26:53,253 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5fd88118-507d-41cb-823c-bf1374b840d9]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:26:53,253 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5fd88118-507d-41cb-823c-bf1374b840d9]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 19:27:14,231 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1b44ed95-e67b-4985-b0df-925079a30c24]: Accuracy when validating site-1's model on site-1s data: 0.962456275848759
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 19:27:15,288 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5fd88118-507d-41cb-823c-bf1374b840d9]: Accuracy when validating site-2's model on site-2s data: 0.9630395501760634
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.65      0.52      0.58       222
         eve       0.38      0.24      0.29        96
         geo       0.87      0.90      0.88     14594
         gpe       0.95      0.93      0.94      5584
         nat       0.60      0.41      0.49       116
         org       0.81      0.78      0.79      8377
         per       0.82      0.84      0.83      7230
         tim       0.87      0.84      0.85      6802

   micro avg       0.86      0.86      0.86     43021
   macro avg       0.74      0.68      0.71     43021
weighted avg       0.86      0.86      0.86     43021

F1-score: 0.9763942524261018
val 0/1: 
              precision    recall  f1-score   support

         art       0.15      0.11      0.12        19
         eve       0.27      0.19      0.22        16
         geo       0.81      0.85      0.83      1819
         gpe       0.96      0.93      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.66      0.65      0.66       991
         per       0.74      0.74      0.74       907
         tim       0.83      0.81      0.82       854

   micro avg       0.79      0.79      0.79      5343
   macro avg       0.55      0.53      0.54      5343
weighted avg       0.79      0.79      0.79      5343

F1-score: 0.9617318719200648
2022-12-06 19:35:46,245 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1b44ed95-e67b-4985-b0df-925079a30c24]: train:
              precision    recall  f1-score   support

         art       0.65      0.52      0.58       222
         eve       0.38      0.24      0.29        96
         geo       0.87      0.90      0.88     14594
         gpe       0.95      0.93      0.94      5584
         nat       0.60      0.41      0.49       116
         org       0.81      0.78      0.79      8377
         per       0.82      0.84      0.83      7230
         tim       0.87      0.84      0.85      6802

   micro avg       0.86      0.86      0.86     43021
   macro avg       0.74      0.68      0.71     43021
weighted avg       0.86      0.86      0.86     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.15      0.11      0.12        19
         eve       0.27      0.19      0.22        16
         geo       0.81      0.85      0.83      1819
         gpe       0.96      0.93      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.66      0.65      0.66       991
         per       0.74      0.74      0.74       907
         tim       0.83      0.81      0.82       854

   micro avg       0.79      0.79      0.79      5343
   macro avg       0.55      0.53      0.54      5343
weighted avg       0.79      0.79      0.79      5343

2022-12-06 19:35:47,036 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 19:35:47,314 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1b44ed95-e67b-4985-b0df-925079a30c24]: finished processing task
2022-12-06 19:35:47,315 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:35:48,125 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.54      0.43      0.48       176
         eve       0.36      0.31      0.33       117
         geo       0.87      0.89      0.88     14724
         gpe       0.95      0.92      0.93      5503
         nat       0.72      0.57      0.64        95
         org       0.79      0.77      0.78      8238
         per       0.80      0.82      0.81      6998
         tim       0.86      0.84      0.85      6773

   micro avg       0.85      0.85      0.85     42624
   macro avg       0.74      0.69      0.71     42624
weighted avg       0.85      0.85      0.85     42624

F1-score: 0.9759178032265746
val 0/1: 
              precision    recall  f1-score   support

         art       0.75      0.20      0.32        45
         eve       0.29      0.15      0.20        13
         geo       0.83      0.87      0.85      1773
         gpe       0.93      0.92      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.71      0.68      0.70      1045
         per       0.74      0.73      0.74       940
         tim       0.83      0.81      0.82       859

   micro avg       0.80      0.80      0.80      5327
   macro avg       0.64      0.55      0.57      5327
weighted avg       0.80      0.80      0.80      5327

F1-score: 0.9630849206296344
2022-12-06 19:35:58,512 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5fd88118-507d-41cb-823c-bf1374b840d9]: train:
              precision    recall  f1-score   support

         art       0.54      0.43      0.48       176
         eve       0.36      0.31      0.33       117
         geo       0.87      0.89      0.88     14724
         gpe       0.95      0.92      0.93      5503
         nat       0.72      0.57      0.64        95
         org       0.79      0.77      0.78      8238
         per       0.80      0.82      0.81      6998
         tim       0.86      0.84      0.85      6773

   micro avg       0.85      0.85      0.85     42624
   macro avg       0.74      0.69      0.71     42624
weighted avg       0.85      0.85      0.85     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.75      0.20      0.32        45
         eve       0.29      0.15      0.20        13
         geo       0.83      0.87      0.85      1773
         gpe       0.93      0.92      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.71      0.68      0.70      1045
         per       0.74      0.73      0.74       940
         tim       0.83      0.81      0.82       859

   micro avg       0.80      0.80      0.80      5327
   macro avg       0.64      0.55      0.57      5327
weighted avg       0.80      0.80      0.80      5327

2022-12-06 19:35:58,699 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 19:35:59,601 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5fd88118-507d-41cb-823c-bf1374b840d9]: finished processing task
2022-12-06 19:35:59,602 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:36:00,396 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 19:36:10,749 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670355370 seconds)
2022-12-06 19:36:10,749 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=1b44ed95-e67b-4985-b0df-925079a30c24
2022-12-06 19:36:10,750 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1b44ed95-e67b-4985-b0df-925079a30c24]: invoking result_received_cb ...
2022-12-06 19:36:10,820 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1b44ed95-e67b-4985-b0df-925079a30c24]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 19:36:10,820 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1b44ed95-e67b-4985-b0df-925079a30c24]: finished processing client result by scatter_and_gather
2022-12-06 19:36:10,852 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670355370 seconds). SubmitUpdate time: 22.726833820343018 seconds
2022-12-06 19:36:10,884 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1b44ed95-e67b-4985-b0df-925079a30c24]: result sent to server for task: name=train, id=1b44ed95-e67b-4985-b0df-925079a30c24
2022-12-06 19:36:10,885 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:36:12,963 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:36:14,973 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:36:16,994 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:36:19,003 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:36:23,097 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670355383 seconds)
2022-12-06 19:36:23,098 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=5fd88118-507d-41cb-823c-bf1374b840d9
2022-12-06 19:36:23,098 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5fd88118-507d-41cb-823c-bf1374b840d9]: invoking result_received_cb ...
2022-12-06 19:36:23,253 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5fd88118-507d-41cb-823c-bf1374b840d9]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 19:36:23,254 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5fd88118-507d-41cb-823c-bf1374b840d9]: finished processing client result by scatter_and_gather
2022-12-06 19:36:23,258 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:36:23,285 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670355383 seconds). SubmitUpdate time: 22.88983130455017 seconds
2022-12-06 19:36:23,342 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5fd88118-507d-41cb-823c-bf1374b840d9]: result sent to server for task: name=train, id=5fd88118-507d-41cb-823c-bf1374b840d9
2022-12-06 19:36:23,342 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:36:25,289 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:36:25,422 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:36:27,301 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:36:27,440 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:36:29,313 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:36:29,452 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:36:31,325 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:36:31,464 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:36:33,337 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:36:33,451 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 19:36:33,476 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:36:33,951 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 19:36:33,952 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 12
2022-12-06 19:36:34,056 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 19:36:34,056 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 19:36:34,669 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 19:36:34,669 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 12 finished.
2022-12-06 19:36:34,669 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 13 started.
2022-12-06 19:36:34,670 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 19:36:35,347 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=3b14ba57-5553-4fee-b7a5-f960d19f1a22]: assigned task to client site-1: name=train, id=3b14ba57-5553-4fee-b7a5-f960d19f1a22
2022-12-06 19:36:35,348 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=3b14ba57-5553-4fee-b7a5-f960d19f1a22]: sent task assignment to client
2022-12-06 19:36:36,192 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 19:36:36,600 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=cbd87504-5a75-4d06-a128-6373da2230a7]: assigned task to client site-2: name=train, id=cbd87504-5a75-4d06-a128-6373da2230a7
2022-12-06 19:36:36,602 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=cbd87504-5a75-4d06-a128-6373da2230a7]: sent task assignment to client
2022-12-06 19:36:37,409 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 19:36:58,768 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.42452621459961 seconds
2022-12-06 19:36:58,800 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:36:59,215 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=3b14ba57-5553-4fee-b7a5-f960d19f1a22
2022-12-06 19:36:59,215 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3b14ba57-5553-4fee-b7a5-f960d19f1a22]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:36:59,215 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3b14ba57-5553-4fee-b7a5-f960d19f1a22]: Client trainer got task: train
2022-12-06 19:37:00,056 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.57427430152893 seconds
2022-12-06 19:37:00,061 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:37:00,491 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=cbd87504-5a75-4d06-a128-6373da2230a7
2022-12-06 19:37:00,491 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cbd87504-5a75-4d06-a128-6373da2230a7]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:37:00,491 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cbd87504-5a75-4d06-a128-6373da2230a7]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 19:37:21,317 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3b14ba57-5553-4fee-b7a5-f960d19f1a22]: Accuracy when validating site-1's model on site-1s data: 0.9628121422617532
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 19:37:22,501 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cbd87504-5a75-4d06-a128-6373da2230a7]: Accuracy when validating site-2's model on site-2s data: 0.9644405209533905
2022-12-06 19:46:03,382 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
-------------------------------------------------- save local model: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.67      0.49      0.57       222
         eve       0.42      0.38      0.40        96
         geo       0.87      0.90      0.89     14594
         gpe       0.96      0.93      0.94      5584
         nat       0.64      0.43      0.52       116
         org       0.81      0.79      0.80      8377
         per       0.83      0.85      0.84      7230
         tim       0.87      0.84      0.85      6802

   micro avg       0.86      0.86      0.86     43021
   macro avg       0.76      0.70      0.73     43021
weighted avg       0.86      0.86      0.86     43021

F1-score: 0.9773242374520507
val 0/1: 
              precision    recall  f1-score   support

         art       0.06      0.05      0.06        19
         eve       0.38      0.19      0.25        16
         geo       0.80      0.87      0.84      1819
         gpe       0.95      0.94      0.94       731
         nat       1.00      0.17      0.29         6
         org       0.69      0.61      0.65       991
         per       0.70      0.77      0.73       907
         tim       0.83      0.81      0.82       854

   micro avg       0.79      0.80      0.79      5343
   macro avg       0.68      0.55      0.57      5343
weighted avg       0.78      0.80      0.79      5343

F1-score: 0.9620391879875251
2022-12-06 19:46:03,675 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3b14ba57-5553-4fee-b7a5-f960d19f1a22]: train:
              precision    recall  f1-score   support

         art       0.67      0.49      0.57       222
         eve       0.42      0.38      0.40        96
         geo       0.87      0.90      0.89     14594
         gpe       0.96      0.93      0.94      5584
         nat       0.64      0.43      0.52       116
         org       0.81      0.79      0.80      8377
         per       0.83      0.85      0.84      7230
         tim       0.87      0.84      0.85      6802

   micro avg       0.86      0.86      0.86     43021
   macro avg       0.76      0.70      0.73     43021
weighted avg       0.86      0.86      0.86     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.06      0.05      0.06        19
         eve       0.38      0.19      0.25        16
         geo       0.80      0.87      0.84      1819
         gpe       0.95      0.94      0.94       731
         nat       1.00      0.17      0.29         6
         org       0.69      0.61      0.65       991
         per       0.70      0.77      0.73       907
         tim       0.83      0.81      0.82       854

   micro avg       0.79      0.80      0.79      5343
   macro avg       0.68      0.55      0.57      5343
weighted avg       0.78      0.80      0.79      5343

-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 19:46:04,482 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3b14ba57-5553-4fee-b7a5-f960d19f1a22]: finished processing task
2022-12-06 19:46:04,483 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:46:05,290 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.57      0.48      0.52       176
         eve       0.41      0.34      0.37       117
         geo       0.87      0.90      0.89     14724
         gpe       0.95      0.93      0.94      5503
         nat       0.62      0.42      0.50        95
         org       0.80      0.78      0.79      8238
         per       0.81      0.84      0.82      6998
         tim       0.87      0.85      0.86      6773

   micro avg       0.86      0.86      0.86     42624
   macro avg       0.74      0.69      0.71     42624
weighted avg       0.86      0.86      0.86     42624

F1-score: 0.9775545429560909
val 0/1: 
              precision    recall  f1-score   support

         art       0.56      0.11      0.19        45
         eve       0.43      0.23      0.30        13
         geo       0.83      0.85      0.84      1773
         gpe       0.92      0.93      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.71      0.67      0.69      1045
         per       0.73      0.76      0.75       940
         tim       0.84      0.82      0.83       859

   micro avg       0.80      0.79      0.80      5327
   macro avg       0.63      0.55      0.56      5327
weighted avg       0.80      0.79      0.79      5327

F1-score: 0.9628440103480785
2022-12-06 19:46:06,119 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cbd87504-5a75-4d06-a128-6373da2230a7]: train:
              precision    recall  f1-score   support

         art       0.57      0.48      0.52       176
         eve       0.41      0.34      0.37       117
         geo       0.87      0.90      0.89     14724
         gpe       0.95      0.93      0.94      5503
         nat       0.62      0.42      0.50        95
         org       0.80      0.78      0.79      8238
         per       0.81      0.84      0.82      6998
         tim       0.87      0.85      0.86      6773

   micro avg       0.86      0.86      0.86     42624
   macro avg       0.74      0.69      0.71     42624
weighted avg       0.86      0.86      0.86     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.56      0.11      0.19        45
         eve       0.43      0.23      0.30        13
         geo       0.83      0.85      0.84      1773
         gpe       0.92      0.93      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.71      0.67      0.69      1045
         per       0.73      0.76      0.75       940
         tim       0.84      0.82      0.83       859

   micro avg       0.80      0.79      0.80      5327
   macro avg       0.63      0.55      0.56      5327
weighted avg       0.80      0.79      0.79      5327

2022-12-06 19:46:06,475 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 19:46:07,008 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cbd87504-5a75-4d06-a128-6373da2230a7]: finished processing task
2022-12-06 19:46:07,009 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:46:07,830 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 19:46:28,018 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670355988 seconds)
2022-12-06 19:46:28,018 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=3b14ba57-5553-4fee-b7a5-f960d19f1a22
2022-12-06 19:46:28,019 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3b14ba57-5553-4fee-b7a5-f960d19f1a22]: invoking result_received_cb ...
2022-12-06 19:46:28,090 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3b14ba57-5553-4fee-b7a5-f960d19f1a22]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 19:46:28,091 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3b14ba57-5553-4fee-b7a5-f960d19f1a22]: finished processing client result by scatter_and_gather
2022-12-06 19:46:28,122 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670355988 seconds). SubmitUpdate time: 22.832010746002197 seconds
2022-12-06 19:46:28,154 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3b14ba57-5553-4fee-b7a5-f960d19f1a22]: result sent to server for task: name=train, id=3b14ba57-5553-4fee-b7a5-f960d19f1a22
2022-12-06 19:46:28,154 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:46:31,162 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670355991 seconds)
2022-12-06 19:46:31,162 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=cbd87504-5a75-4d06-a128-6373da2230a7
2022-12-06 19:46:31,163 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cbd87504-5a75-4d06-a128-6373da2230a7]: invoking result_received_cb ...
2022-12-06 19:46:31,320 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cbd87504-5a75-4d06-a128-6373da2230a7]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 19:46:31,321 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cbd87504-5a75-4d06-a128-6373da2230a7]: finished processing client result by scatter_and_gather
2022-12-06 19:46:31,356 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670355991 seconds). SubmitUpdate time: 23.526047229766846 seconds
2022-12-06 19:46:31,359 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:46:31,375 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cbd87504-5a75-4d06-a128-6373da2230a7]: result sent to server for task: name=train, id=cbd87504-5a75-4d06-a128-6373da2230a7
2022-12-06 19:46:31,375 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:46:33,372 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:46:33,458 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:46:35,384 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:46:35,470 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:46:37,396 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:46:37,482 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:46:39,408 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:46:39,494 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:46:41,420 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:46:41,506 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:46:41,521 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 19:46:42,022 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 19:46:42,023 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 13
2022-12-06 19:46:42,170 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 19:46:42,170 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 19:46:43,012 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 19:46:43,013 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 13 finished.
2022-12-06 19:46:43,013 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 14 started.
2022-12-06 19:46:43,013 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 19:46:43,430 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=f8453070-b754-4061-8038-6ac4e0e779e5]: assigned task to client site-1: name=train, id=f8453070-b754-4061-8038-6ac4e0e779e5
2022-12-06 19:46:43,431 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=f8453070-b754-4061-8038-6ac4e0e779e5]: sent task assignment to client
2022-12-06 19:46:44,272 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 19:46:44,680 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=50fe7ed2-967e-4780-8538-aa8bce59e7b3]: assigned task to client site-2: name=train, id=50fe7ed2-967e-4780-8538-aa8bce59e7b3
2022-12-06 19:46:44,695 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=50fe7ed2-967e-4780-8538-aa8bce59e7b3]: sent task assignment to client
2022-12-06 19:46:45,496 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 19:47:06,873 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.44690728187561 seconds
2022-12-06 19:47:06,889 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:47:07,294 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=f8453070-b754-4061-8038-6ac4e0e779e5
2022-12-06 19:47:07,294 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f8453070-b754-4061-8038-6ac4e0e779e5]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:47:07,294 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f8453070-b754-4061-8038-6ac4e0e779e5]: Client trainer got task: train
2022-12-06 19:47:08,062 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.549754858016968 seconds
2022-12-06 19:47:08,095 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:47:08,503 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=50fe7ed2-967e-4780-8538-aa8bce59e7b3
2022-12-06 19:47:08,504 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=50fe7ed2-967e-4780-8538-aa8bce59e7b3]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:47:08,504 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=50fe7ed2-967e-4780-8538-aa8bce59e7b3]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 19:47:29,465 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f8453070-b754-4061-8038-6ac4e0e779e5]: Accuracy when validating site-1's model on site-1s data: 0.9633588328599568
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 19:47:30,534 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=50fe7ed2-967e-4780-8538-aa8bce59e7b3]: Accuracy when validating site-2's model on site-2s data: 0.9653105012372413
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.68      0.58      0.62       222
         eve       0.44      0.32      0.37        96
         geo       0.88      0.91      0.89     14594
         gpe       0.95      0.93      0.94      5584
         nat       0.61      0.47      0.53       116
         org       0.82      0.80      0.81      8377
         per       0.84      0.86      0.85      7230
         tim       0.88      0.86      0.87      6802

   micro avg       0.87      0.87      0.87     43021
   macro avg       0.76      0.72      0.74     43021
weighted avg       0.87      0.87      0.87     43021

F1-score: 0.9788717923231733
val 0/1: 
              precision    recall  f1-score   support

         art       0.08      0.11      0.09        19
         eve       0.21      0.19      0.20        16
         geo       0.81      0.85      0.83      1819
         gpe       0.94      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.69      0.62      0.65       991
         per       0.71      0.78      0.74       907
         tim       0.80      0.81      0.81       854

   micro avg       0.78      0.79      0.79      5343
   macro avg       0.53      0.54      0.53      5343
weighted avg       0.78      0.79      0.79      5343

F1-score: 0.9598753668380853
2022-12-06 19:56:11,215 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f8453070-b754-4061-8038-6ac4e0e779e5]: train:
              precision    recall  f1-score   support

         art       0.68      0.58      0.62       222
         eve       0.44      0.32      0.37        96
         geo       0.88      0.91      0.89     14594
         gpe       0.95      0.93      0.94      5584
         nat       0.61      0.47      0.53       116
         org       0.82      0.80      0.81      8377
         per       0.84      0.86      0.85      7230
         tim       0.88      0.86      0.87      6802

   micro avg       0.87      0.87      0.87     43021
   macro avg       0.76      0.72      0.74     43021
weighted avg       0.87      0.87      0.87     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.08      0.11      0.09        19
         eve       0.21      0.19      0.20        16
         geo       0.81      0.85      0.83      1819
         gpe       0.94      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.69      0.62      0.65       991
         per       0.71      0.78      0.74       907
         tim       0.80      0.81      0.81       854

   micro avg       0.78      0.79      0.79      5343
   macro avg       0.53      0.54      0.53      5343
weighted avg       0.78      0.79      0.79      5343

2022-12-06 19:56:11,485 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 19:56:12,143 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f8453070-b754-4061-8038-6ac4e0e779e5]: finished processing task
2022-12-06 19:56:12,145 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:56:12,943 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.64      0.53      0.58       176
         eve       0.47      0.39      0.43       117
         geo       0.88      0.91      0.89     14724
         gpe       0.95      0.93      0.94      5503
         nat       0.57      0.48      0.52        95
         org       0.81      0.79      0.80      8238
         per       0.82      0.84      0.83      6998
         tim       0.87      0.85      0.86      6773

   micro avg       0.86      0.86      0.86     42624
   macro avg       0.75      0.72      0.73     42624
weighted avg       0.86      0.86      0.86     42624

F1-score: 0.9786397651655724
val 0/1: 
              precision    recall  f1-score   support

         art       0.47      0.31      0.37        45
         eve       0.21      0.23      0.22        13
         geo       0.82      0.89      0.85      1773
         gpe       0.94      0.94      0.94       640
         nat       0.50      0.08      0.14        12
         org       0.68      0.72      0.70      1045
         per       0.78      0.70      0.74       940
         tim       0.81      0.84      0.82       859

   micro avg       0.79      0.81      0.80      5327
   macro avg       0.65      0.59      0.60      5327
weighted avg       0.79      0.81      0.80      5327

F1-score: 0.9637949497476124
2022-12-06 19:56:15,804 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=50fe7ed2-967e-4780-8538-aa8bce59e7b3]: train:
              precision    recall  f1-score   support

         art       0.64      0.53      0.58       176
         eve       0.47      0.39      0.43       117
         geo       0.88      0.91      0.89     14724
         gpe       0.95      0.93      0.94      5503
         nat       0.57      0.48      0.52        95
         org       0.81      0.79      0.80      8238
         per       0.82      0.84      0.83      6998
         tim       0.87      0.85      0.86      6773

   micro avg       0.86      0.86      0.86     42624
   macro avg       0.75      0.72      0.73     42624
weighted avg       0.86      0.86      0.86     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.47      0.31      0.37        45
         eve       0.21      0.23      0.22        13
         geo       0.82      0.89      0.85      1773
         gpe       0.94      0.94      0.94       640
         nat       0.50      0.08      0.14        12
         org       0.68      0.72      0.70      1045
         per       0.78      0.70      0.74       940
         tim       0.81      0.84      0.82       859

   micro avg       0.79      0.81      0.80      5327
   macro avg       0.65      0.59      0.60      5327
weighted avg       0.79      0.81      0.80      5327

2022-12-06 19:56:15,984 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 19:56:16,806 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=50fe7ed2-967e-4780-8538-aa8bce59e7b3]: finished processing task
2022-12-06 19:56:16,808 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:56:17,612 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 19:56:35,692 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670356595 seconds)
2022-12-06 19:56:35,692 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=f8453070-b754-4061-8038-6ac4e0e779e5
2022-12-06 19:56:35,692 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f8453070-b754-4061-8038-6ac4e0e779e5]: invoking result_received_cb ...
2022-12-06 19:56:35,764 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f8453070-b754-4061-8038-6ac4e0e779e5]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 19:56:35,764 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f8453070-b754-4061-8038-6ac4e0e779e5]: finished processing client result by scatter_and_gather
2022-12-06 19:56:35,797 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670356595 seconds). SubmitUpdate time: 22.853500366210938 seconds
2022-12-06 19:56:35,849 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f8453070-b754-4061-8038-6ac4e0e779e5]: result sent to server for task: name=train, id=f8453070-b754-4061-8038-6ac4e0e779e5
2022-12-06 19:56:35,850 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:56:40,385 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670356600 seconds)
2022-12-06 19:56:40,385 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=50fe7ed2-967e-4780-8538-aa8bce59e7b3
2022-12-06 19:56:40,386 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=50fe7ed2-967e-4780-8538-aa8bce59e7b3]: invoking result_received_cb ...
2022-12-06 19:56:40,534 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=50fe7ed2-967e-4780-8538-aa8bce59e7b3]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 19:56:40,534 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=50fe7ed2-967e-4780-8538-aa8bce59e7b3]: finished processing client result by scatter_and_gather
2022-12-06 19:56:40,571 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670356600 seconds). SubmitUpdate time: 22.959871768951416 seconds
2022-12-06 19:56:40,574 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:56:40,601 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=50fe7ed2-967e-4780-8538-aa8bce59e7b3]: result sent to server for task: name=train, id=50fe7ed2-967e-4780-8538-aa8bce59e7b3
2022-12-06 19:56:40,602 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:56:42,586 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:56:42,683 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:56:44,598 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:56:44,722 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:56:46,610 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:56:46,734 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:56:48,622 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:56:48,746 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:56:50,634 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:56:50,750 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 19:56:50,757 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:56:51,249 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 19:56:51,250 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 14
2022-12-06 19:56:51,348 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 19:56:51,349 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 19:56:51,967 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 19:56:51,968 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 14 finished.
2022-12-06 19:56:51,968 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 15 started.
2022-12-06 19:56:51,968 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 19:56:52,658 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=cc968897-d4a4-437d-b6b6-4768d5ded35c]: assigned task to client site-1: name=train, id=cc968897-d4a4-437d-b6b6-4768d5ded35c
2022-12-06 19:56:52,659 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=cc968897-d4a4-437d-b6b6-4768d5ded35c]: sent task assignment to client
2022-12-06 19:56:53,506 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 19:56:53,918 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=e8917181-8096-4403-b5ab-1d45f1bb8146]: assigned task to client site-2: name=train, id=e8917181-8096-4403-b5ab-1d45f1bb8146
2022-12-06 19:56:53,920 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=e8917181-8096-4403-b5ab-1d45f1bb8146]: sent task assignment to client
2022-12-06 19:56:54,729 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 19:57:16,186 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.531770944595337 seconds
2022-12-06 19:57:16,217 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:57:16,636 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=cc968897-d4a4-437d-b6b6-4768d5ded35c
2022-12-06 19:57:16,636 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cc968897-d4a4-437d-b6b6-4768d5ded35c]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:57:16,636 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cc968897-d4a4-437d-b6b6-4768d5ded35c]: Client trainer got task: train
2022-12-06 19:57:17,412 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.648990869522095 seconds
2022-12-06 19:57:17,428 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:57:17,829 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=e8917181-8096-4403-b5ab-1d45f1bb8146
2022-12-06 19:57:17,829 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e8917181-8096-4403-b5ab-1d45f1bb8146]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:57:17,829 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e8917181-8096-4403-b5ab-1d45f1bb8146]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 19:57:38,811 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cc968897-d4a4-437d-b6b6-4768d5ded35c]: Accuracy when validating site-1's model on site-1s data: 0.9622565440781227
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 19:57:39,888 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e8917181-8096-4403-b5ab-1d45f1bb8146]: Accuracy when validating site-2's model on site-2s data: 0.9645065398058573
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.61      0.56      0.59       222
         eve       0.51      0.43      0.47        96
         geo       0.88      0.91      0.90     14594
         gpe       0.96      0.94      0.95      5584
         nat       0.61      0.45      0.52       116
         org       0.82      0.80      0.81      8377
         per       0.84      0.86      0.85      7230
         tim       0.87      0.86      0.87      6802

   micro avg       0.87      0.87      0.87     43021
   macro avg       0.76      0.73      0.74     43021
weighted avg       0.87      0.87      0.87     43021

F1-score: 0.9796300731038896
val 0/1: 
              precision    recall  f1-score   support

         art       0.15      0.11      0.12        19
         eve       0.33      0.19      0.24        16
         geo       0.80      0.86      0.83      1819
         gpe       0.95      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.67      0.64      0.66       991
         per       0.71      0.79      0.75       907
         tim       0.81      0.82      0.81       854

   micro avg       0.78      0.81      0.79      5343
   macro avg       0.55      0.54      0.54      5343
weighted avg       0.78      0.81      0.79      5343

F1-score: 0.961757605583812
2022-12-06 20:06:21,112 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cc968897-d4a4-437d-b6b6-4768d5ded35c]: train:
              precision    recall  f1-score   support

         art       0.61      0.56      0.59       222
         eve       0.51      0.43      0.47        96
         geo       0.88      0.91      0.90     14594
         gpe       0.96      0.94      0.95      5584
         nat       0.61      0.45      0.52       116
         org       0.82      0.80      0.81      8377
         per       0.84      0.86      0.85      7230
         tim       0.87      0.86      0.87      6802

   micro avg       0.87      0.87      0.87     43021
   macro avg       0.76      0.73      0.74     43021
weighted avg       0.87      0.87      0.87     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.15      0.11      0.12        19
         eve       0.33      0.19      0.24        16
         geo       0.80      0.86      0.83      1819
         gpe       0.95      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.67      0.64      0.66       991
         per       0.71      0.79      0.75       907
         tim       0.81      0.82      0.81       854

   micro avg       0.78      0.81      0.79      5343
   macro avg       0.55      0.54      0.54      5343
weighted avg       0.78      0.81      0.79      5343

2022-12-06 20:06:22,075 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 20:06:22,291 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cc968897-d4a4-437d-b6b6-4768d5ded35c]: finished processing task
2022-12-06 20:06:22,292 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:06:23,099 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.65      0.58      0.61       176
         eve       0.45      0.42      0.44       117
         geo       0.89      0.91      0.90     14724
         gpe       0.96      0.93      0.94      5503
         nat       0.60      0.49      0.54        95
         org       0.83      0.81      0.82      8238
         per       0.84      0.86      0.85      6998
         tim       0.89      0.87      0.88      6773

   micro avg       0.87      0.88      0.87     42624
   macro avg       0.76      0.73      0.75     42624
weighted avg       0.87      0.88      0.87     42624

F1-score: 0.9805346293867527
val 0/1: 
              precision    recall  f1-score   support

         art       0.52      0.29      0.37        45
         eve       0.33      0.23      0.27        13
         geo       0.84      0.88      0.86      1773
         gpe       0.91      0.95      0.93       640
         nat       0.00      0.00      0.00        12
         org       0.72      0.69      0.70      1045
         per       0.72      0.78      0.75       940
         tim       0.82      0.83      0.82       859

   micro avg       0.80      0.82      0.81      5327
   macro avg       0.61      0.58      0.59      5327
weighted avg       0.79      0.82      0.80      5327

F1-score: 0.9634180567087124
2022-12-06 20:06:23,777 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e8917181-8096-4403-b5ab-1d45f1bb8146]: train:
              precision    recall  f1-score   support

         art       0.65      0.58      0.61       176
         eve       0.45      0.42      0.44       117
         geo       0.89      0.91      0.90     14724
         gpe       0.96      0.93      0.94      5503
         nat       0.60      0.49      0.54        95
         org       0.83      0.81      0.82      8238
         per       0.84      0.86      0.85      6998
         tim       0.89      0.87      0.88      6773

   micro avg       0.87      0.88      0.87     42624
   macro avg       0.76      0.73      0.75     42624
weighted avg       0.87      0.88      0.87     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.52      0.29      0.37        45
         eve       0.33      0.23      0.27        13
         geo       0.84      0.88      0.86      1773
         gpe       0.91      0.95      0.93       640
         nat       0.00      0.00      0.00        12
         org       0.72      0.69      0.70      1045
         per       0.72      0.78      0.75       940
         tim       0.82      0.83      0.82       859

   micro avg       0.80      0.82      0.81      5327
   macro avg       0.61      0.58      0.59      5327
weighted avg       0.79      0.82      0.80      5327

2022-12-06 20:06:24,058 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 20:06:24,783 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e8917181-8096-4403-b5ab-1d45f1bb8146]: finished processing task
2022-12-06 20:06:24,784 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:06:25,581 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 20:06:45,802 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670357205 seconds)
2022-12-06 20:06:45,802 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=cc968897-d4a4-437d-b6b6-4768d5ded35c
2022-12-06 20:06:45,803 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cc968897-d4a4-437d-b6b6-4768d5ded35c]: invoking result_received_cb ...
2022-12-06 20:06:45,874 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cc968897-d4a4-437d-b6b6-4768d5ded35c]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 20:06:45,874 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cc968897-d4a4-437d-b6b6-4768d5ded35c]: finished processing client result by scatter_and_gather
2022-12-06 20:06:45,906 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670357205 seconds). SubmitUpdate time: 22.80636715888977 seconds
2022-12-06 20:06:45,957 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cc968897-d4a4-437d-b6b6-4768d5ded35c]: result sent to server for task: name=train, id=cc968897-d4a4-437d-b6b6-4768d5ded35c
2022-12-06 20:06:45,958 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:06:48,961 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670357208 seconds)
2022-12-06 20:06:48,961 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=e8917181-8096-4403-b5ab-1d45f1bb8146
2022-12-06 20:06:48,962 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e8917181-8096-4403-b5ab-1d45f1bb8146]: invoking result_received_cb ...
2022-12-06 20:06:49,117 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e8917181-8096-4403-b5ab-1d45f1bb8146]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 20:06:49,117 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e8917181-8096-4403-b5ab-1d45f1bb8146]: finished processing client result by scatter_and_gather
2022-12-06 20:06:49,152 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670357208 seconds). SubmitUpdate time: 23.57050919532776 seconds
2022-12-06 20:06:49,154 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:06:49,204 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e8917181-8096-4403-b5ab-1d45f1bb8146]: result sent to server for task: name=train, id=e8917181-8096-4403-b5ab-1d45f1bb8146
2022-12-06 20:06:49,205 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:06:51,166 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:06:51,289 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:06:53,178 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:06:53,301 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:06:55,197 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:06:55,313 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:06:57,209 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:06:57,325 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:06:59,222 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:06:59,321 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 20:06:59,337 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:06:59,820 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 20:06:59,821 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 15
2022-12-06 20:06:59,968 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 20:06:59,968 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 20:07:00,596 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 20:07:00,597 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 15 finished.
2022-12-06 20:07:00,597 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 16 started.
2022-12-06 20:07:00,598 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 20:07:01,231 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=26109fc8-a42f-4199-bace-f89925a80efb]: assigned task to client site-1: name=train, id=26109fc8-a42f-4199-bace-f89925a80efb
2022-12-06 20:07:01,232 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=26109fc8-a42f-4199-bace-f89925a80efb]: sent task assignment to client
2022-12-06 20:07:02,099 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 20:07:02,517 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=bc312146-57a9-479c-9dfc-b28f50f75f9f]: assigned task to client site-2: name=train, id=bc312146-57a9-479c-9dfc-b28f50f75f9f
2022-12-06 20:07:02,518 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=bc312146-57a9-479c-9dfc-b28f50f75f9f]: sent task assignment to client
2022-12-06 20:07:03,321 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 20:07:24,715 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.487525701522827 seconds
2022-12-06 20:07:24,747 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:07:25,158 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=26109fc8-a42f-4199-bace-f89925a80efb
2022-12-06 20:07:25,158 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=26109fc8-a42f-4199-bace-f89925a80efb]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:07:25,158 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=26109fc8-a42f-4199-bace-f89925a80efb]: Client trainer got task: train
2022-12-06 20:07:25,948 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.60518980026245 seconds
2022-12-06 20:07:25,964 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:07:26,390 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=bc312146-57a9-479c-9dfc-b28f50f75f9f
2022-12-06 20:07:26,391 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bc312146-57a9-479c-9dfc-b28f50f75f9f]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:07:26,391 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bc312146-57a9-479c-9dfc-b28f50f75f9f]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 20:07:47,454 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=26109fc8-a42f-4199-bace-f89925a80efb]: Accuracy when validating site-1's model on site-1s data: 0.9623104036165977
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 20:07:48,465 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bc312146-57a9-479c-9dfc-b28f50f75f9f]: Accuracy when validating site-2's model on site-2s data: 0.9644591346671672
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.74      0.68      0.71       222
         eve       0.49      0.42      0.45        96
         geo       0.89      0.92      0.91     14594
         gpe       0.96      0.94      0.95      5584
         nat       0.62      0.47      0.54       116
         org       0.85      0.82      0.83      8377
         per       0.85      0.87      0.86      7230
         tim       0.89      0.88      0.89      6802

   micro avg       0.88      0.89      0.89     43021
   macro avg       0.79      0.75      0.77     43021
weighted avg       0.88      0.89      0.89     43021

F1-score: 0.9818129599971932
val 0/1: 
              precision    recall  f1-score   support

         art       0.11      0.16      0.13        19
         eve       0.19      0.19      0.19        16
         geo       0.79      0.87      0.83      1819
         gpe       0.95      0.94      0.95       731
         nat       0.00      0.00      0.00         6
         org       0.70      0.62      0.66       991
         per       0.73      0.77      0.75       907
         tim       0.85      0.81      0.83       854

   micro avg       0.79      0.80      0.80      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.79      0.80      0.79      5343

F1-score: 0.9622037387802984
2022-12-06 20:16:30,033 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=26109fc8-a42f-4199-bace-f89925a80efb]: train:
              precision    recall  f1-score   support

         art       0.74      0.68      0.71       222
         eve       0.49      0.42      0.45        96
         geo       0.89      0.92      0.91     14594
         gpe       0.96      0.94      0.95      5584
         nat       0.62      0.47      0.54       116
         org       0.85      0.82      0.83      8377
         per       0.85      0.87      0.86      7230
         tim       0.89      0.88      0.89      6802

   micro avg       0.88      0.89      0.89     43021
   macro avg       0.79      0.75      0.77     43021
weighted avg       0.88      0.89      0.89     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.11      0.16      0.13        19
         eve       0.19      0.19      0.19        16
         geo       0.79      0.87      0.83      1819
         gpe       0.95      0.94      0.95       731
         nat       0.00      0.00      0.00         6
         org       0.70      0.62      0.66       991
         per       0.73      0.77      0.75       907
         tim       0.85      0.81      0.83       854

   micro avg       0.79      0.80      0.80      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.79      0.80      0.79      5343

2022-12-06 20:16:30,344 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 20:16:31,148 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=26109fc8-a42f-4199-bace-f89925a80efb]: finished processing task
2022-12-06 20:16:31,150 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:16:31,955 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.61      0.60      0.61       176
         eve       0.54      0.49      0.51       117
         geo       0.89      0.92      0.91     14724
         gpe       0.96      0.93      0.94      5503
         nat       0.68      0.53      0.59        95
         org       0.85      0.82      0.83      8238
         per       0.85      0.87      0.86      6998
         tim       0.88      0.87      0.88      6773

   micro avg       0.88      0.88      0.88     42624
   macro avg       0.78      0.75      0.77     42624
weighted avg       0.88      0.88      0.88     42624

F1-score: 0.9818792059710945
val 0/1: 
              precision    recall  f1-score   support

         art       0.59      0.36      0.44        45
         eve       0.20      0.23      0.21        13
         geo       0.84      0.86      0.85      1773
         gpe       0.89      0.94      0.91       640
         nat       0.00      0.00      0.00        12
         org       0.74      0.66      0.69      1045
         per       0.72      0.79      0.75       940
         tim       0.82      0.84      0.83       859

   micro avg       0.80      0.81      0.80      5327
   macro avg       0.60      0.58      0.59      5327
weighted avg       0.79      0.81      0.80      5327

F1-score: 0.9626537717013757
2022-12-06 20:16:32,471 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bc312146-57a9-479c-9dfc-b28f50f75f9f]: train:
              precision    recall  f1-score   support

         art       0.61      0.60      0.61       176
         eve       0.54      0.49      0.51       117
         geo       0.89      0.92      0.91     14724
         gpe       0.96      0.93      0.94      5503
         nat       0.68      0.53      0.59        95
         org       0.85      0.82      0.83      8238
         per       0.85      0.87      0.86      6998
         tim       0.88      0.87      0.88      6773

   micro avg       0.88      0.88      0.88     42624
   macro avg       0.78      0.75      0.77     42624
weighted avg       0.88      0.88      0.88     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.59      0.36      0.44        45
         eve       0.20      0.23      0.21        13
         geo       0.84      0.86      0.85      1773
         gpe       0.89      0.94      0.91       640
         nat       0.00      0.00      0.00        12
         org       0.74      0.66      0.69      1045
         per       0.72      0.79      0.75       940
         tim       0.82      0.84      0.83       859

   micro avg       0.80      0.81      0.80      5327
   macro avg       0.60      0.58      0.59      5327
weighted avg       0.79      0.81      0.80      5327

2022-12-06 20:16:32,643 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 20:16:33,381 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bc312146-57a9-479c-9dfc-b28f50f75f9f]: finished processing task
2022-12-06 20:16:33,383 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:16:34,182 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 20:16:54,677 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670357814 seconds)
2022-12-06 20:16:54,678 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=26109fc8-a42f-4199-bace-f89925a80efb
2022-12-06 20:16:54,678 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=26109fc8-a42f-4199-bace-f89925a80efb]: invoking result_received_cb ...
2022-12-06 20:16:54,747 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=26109fc8-a42f-4199-bace-f89925a80efb]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 20:16:54,747 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=26109fc8-a42f-4199-bace-f89925a80efb]: finished processing client result by scatter_and_gather
2022-12-06 20:16:54,780 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670357814 seconds). SubmitUpdate time: 22.824718952178955 seconds
2022-12-06 20:16:54,838 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=26109fc8-a42f-4199-bace-f89925a80efb]: result sent to server for task: name=train, id=26109fc8-a42f-4199-bace-f89925a80efb
2022-12-06 20:16:54,839 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:16:57,780 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670357817 seconds)
2022-12-06 20:16:57,780 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=bc312146-57a9-479c-9dfc-b28f50f75f9f
2022-12-06 20:16:57,780 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=bc312146-57a9-479c-9dfc-b28f50f75f9f]: invoking result_received_cb ...
2022-12-06 20:16:57,937 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=bc312146-57a9-479c-9dfc-b28f50f75f9f]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 20:16:57,937 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=bc312146-57a9-479c-9dfc-b28f50f75f9f]: finished processing client result by scatter_and_gather
2022-12-06 20:16:57,973 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670357817 seconds). SubmitUpdate time: 23.791749238967896 seconds
2022-12-06 20:16:57,977 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:16:58,026 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bc312146-57a9-479c-9dfc-b28f50f75f9f]: result sent to server for task: name=train, id=bc312146-57a9-479c-9dfc-b28f50f75f9f
2022-12-06 20:16:58,027 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:16:59,989 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:17:00,111 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:17:02,002 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:17:02,123 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:17:04,014 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:17:04,136 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:17:06,026 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:17:06,149 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:17:08,038 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:17:08,144 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 20:17:08,161 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:17:08,644 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 20:17:08,645 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 16
2022-12-06 20:17:08,747 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 20:17:08,747 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 20:17:09,354 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 20:17:09,354 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 16 finished.
2022-12-06 20:17:09,354 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 17 started.
2022-12-06 20:17:09,355 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 20:17:10,046 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=69b1aeba-5735-405b-b223-394c8a552aa1]: assigned task to client site-1: name=train, id=69b1aeba-5735-405b-b223-394c8a552aa1
2022-12-06 20:17:10,047 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=69b1aeba-5735-405b-b223-394c8a552aa1]: sent task assignment to client
2022-12-06 20:17:10,895 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 20:17:11,335 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=32ed6ddc-2511-4477-b0e7-57d325d052b4]: assigned task to client site-2: name=train, id=32ed6ddc-2511-4477-b0e7-57d325d052b4
2022-12-06 20:17:11,336 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=32ed6ddc-2511-4477-b0e7-57d325d052b4]: sent task assignment to client
2022-12-06 20:17:12,163 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 20:17:33,656 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.613555192947388 seconds
2022-12-06 20:17:33,675 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:17:34,081 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=69b1aeba-5735-405b-b223-394c8a552aa1
2022-12-06 20:17:34,081 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=69b1aeba-5735-405b-b223-394c8a552aa1]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:17:34,081 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=69b1aeba-5735-405b-b223-394c8a552aa1]: Client trainer got task: train
2022-12-06 20:17:34,880 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.713578701019287 seconds
2022-12-06 20:17:34,897 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:17:35,291 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=32ed6ddc-2511-4477-b0e7-57d325d052b4
2022-12-06 20:17:35,291 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=32ed6ddc-2511-4477-b0e7-57d325d052b4]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:17:35,291 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=32ed6ddc-2511-4477-b0e7-57d325d052b4]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 20:17:56,262 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=69b1aeba-5735-405b-b223-394c8a552aa1]: Accuracy when validating site-1's model on site-1s data: 0.9631731139291766
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 20:17:57,359 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=32ed6ddc-2511-4477-b0e7-57d325d052b4]: Accuracy when validating site-2's model on site-2s data: 0.9647373691707478
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.81      0.71      0.76       222
         eve       0.52      0.47      0.49        96
         geo       0.90      0.92      0.91     14594
         gpe       0.96      0.94      0.95      5584
         nat       0.67      0.49      0.57       116
         org       0.85      0.83      0.84      8377
         per       0.86      0.88      0.87      7230
         tim       0.90      0.88      0.89      6802

   micro avg       0.89      0.89      0.89     43021
   macro avg       0.81      0.76      0.78     43021
weighted avg       0.89      0.89      0.89     43021

F1-score: 0.9822518946360601
val 0/1: 
              precision    recall  f1-score   support

         art       0.14      0.11      0.12        19
         eve       0.25      0.31      0.28        16
         geo       0.80      0.88      0.84      1819
         gpe       0.93      0.95      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.72      0.60      0.66       991
         per       0.73      0.79      0.76       907
         tim       0.82      0.81      0.82       854

   micro avg       0.79      0.80      0.80      5343
   macro avg       0.55      0.56      0.55      5343
weighted avg       0.79      0.80      0.80      5343

F1-score: 0.9623354118575612
2022-12-06 20:26:39,306 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=69b1aeba-5735-405b-b223-394c8a552aa1]: train:
              precision    recall  f1-score   support

         art       0.81      0.71      0.76       222
         eve       0.52      0.47      0.49        96
         geo       0.90      0.92      0.91     14594
         gpe       0.96      0.94      0.95      5584
         nat       0.67      0.49      0.57       116
         org       0.85      0.83      0.84      8377
         per       0.86      0.88      0.87      7230
         tim       0.90      0.88      0.89      6802

   micro avg       0.89      0.89      0.89     43021
   macro avg       0.81      0.76      0.78     43021
weighted avg       0.89      0.89      0.89     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.14      0.11      0.12        19
         eve       0.25      0.31      0.28        16
         geo       0.80      0.88      0.84      1819
         gpe       0.93      0.95      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.72      0.60      0.66       991
         per       0.73      0.79      0.76       907
         tim       0.82      0.81      0.82       854

   micro avg       0.79      0.80      0.80      5343
   macro avg       0.55      0.56      0.55      5343
weighted avg       0.79      0.80      0.80      5343

2022-12-06 20:26:40,056 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 20:26:40,488 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=69b1aeba-5735-405b-b223-394c8a552aa1]: finished processing task
2022-12-06 20:26:40,489 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:26:41,308 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.68      0.64      0.66       176
         eve       0.44      0.40      0.42       117
         geo       0.90      0.92      0.91     14724
         gpe       0.96      0.94      0.95      5503
         nat       0.67      0.57      0.61        95
         org       0.84      0.82      0.83      8238
         per       0.85      0.87      0.86      6998
         tim       0.89      0.88      0.89      6773

   micro avg       0.88      0.88      0.88     42624
   macro avg       0.78      0.75      0.77     42624
weighted avg       0.88      0.88      0.88     42624

F1-score: 0.9821789802043868
val 0/1: 
              precision    recall  f1-score   support

         art       0.71      0.22      0.34        45
         eve       0.25      0.23      0.24        13
         geo       0.83      0.88      0.86      1773
         gpe       0.96      0.91      0.94       640
         nat       0.50      0.08      0.14        12
         org       0.71      0.72      0.72      1045
         per       0.77      0.75      0.76       940
         tim       0.82      0.82      0.82       859

   micro avg       0.81      0.81      0.81      5327
   macro avg       0.69      0.58      0.60      5327
weighted avg       0.81      0.81      0.81      5327

F1-score: 0.9645194195595633
2022-12-06 20:26:42,740 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=32ed6ddc-2511-4477-b0e7-57d325d052b4]: train:
              precision    recall  f1-score   support

         art       0.68      0.64      0.66       176
         eve       0.44      0.40      0.42       117
         geo       0.90      0.92      0.91     14724
         gpe       0.96      0.94      0.95      5503
         nat       0.67      0.57      0.61        95
         org       0.84      0.82      0.83      8238
         per       0.85      0.87      0.86      6998
         tim       0.89      0.88      0.89      6773

   micro avg       0.88      0.88      0.88     42624
   macro avg       0.78      0.75      0.77     42624
weighted avg       0.88      0.88      0.88     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.71      0.22      0.34        45
         eve       0.25      0.23      0.24        13
         geo       0.83      0.88      0.86      1773
         gpe       0.96      0.91      0.94       640
         nat       0.50      0.08      0.14        12
         org       0.71      0.72      0.72      1045
         per       0.77      0.75      0.76       940
         tim       0.82      0.82      0.82       859

   micro avg       0.81      0.81      0.81      5327
   macro avg       0.69      0.58      0.60      5327
weighted avg       0.81      0.81      0.81      5327

2022-12-06 20:26:43,287 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 20:26:43,783 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=32ed6ddc-2511-4477-b0e7-57d325d052b4]: finished processing task
2022-12-06 20:26:43,785 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:26:44,594 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 20:27:04,000 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670358424 seconds)
2022-12-06 20:27:04,000 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=69b1aeba-5735-405b-b223-394c8a552aa1
2022-12-06 20:27:04,001 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=69b1aeba-5735-405b-b223-394c8a552aa1]: invoking result_received_cb ...
2022-12-06 20:27:04,069 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=69b1aeba-5735-405b-b223-394c8a552aa1]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 20:27:04,070 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=69b1aeba-5735-405b-b223-394c8a552aa1]: finished processing client result by scatter_and_gather
2022-12-06 20:27:04,100 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670358424 seconds). SubmitUpdate time: 22.79232358932495 seconds
2022-12-06 20:27:04,155 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=69b1aeba-5735-405b-b223-394c8a552aa1]: result sent to server for task: name=train, id=69b1aeba-5735-405b-b223-394c8a552aa1
2022-12-06 20:27:04,156 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:27:07,394 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670358427 seconds)
2022-12-06 20:27:07,394 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=32ed6ddc-2511-4477-b0e7-57d325d052b4
2022-12-06 20:27:07,395 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=32ed6ddc-2511-4477-b0e7-57d325d052b4]: invoking result_received_cb ...
2022-12-06 20:27:07,551 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=32ed6ddc-2511-4477-b0e7-57d325d052b4]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 20:27:07,551 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=32ed6ddc-2511-4477-b0e7-57d325d052b4]: finished processing client result by scatter_and_gather
2022-12-06 20:27:07,585 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670358427 seconds). SubmitUpdate time: 22.991461277008057 seconds
2022-12-06 20:27:07,591 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:27:07,617 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=32ed6ddc-2511-4477-b0e7-57d325d052b4]: result sent to server for task: name=train, id=32ed6ddc-2511-4477-b0e7-57d325d052b4
2022-12-06 20:27:07,617 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:27:09,603 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:27:09,685 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:27:11,615 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:27:11,697 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:27:13,628 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:27:13,709 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:27:15,641 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:27:15,722 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:27:17,653 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:27:17,733 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:27:17,748 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 20:27:18,247 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 20:27:18,248 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 17
2022-12-06 20:27:18,389 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 20:27:18,389 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 20:27:19,009 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 20:27:19,009 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 17 finished.
2022-12-06 20:27:19,010 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 18 started.
2022-12-06 20:27:19,010 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 20:27:19,663 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=0750aad7-f28c-4698-8b28-d82e003e5628]: assigned task to client site-1: name=train, id=0750aad7-f28c-4698-8b28-d82e003e5628
2022-12-06 20:27:19,664 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=0750aad7-f28c-4698-8b28-d82e003e5628]: sent task assignment to client
2022-12-06 20:27:20,511 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 20:27:20,921 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c]: assigned task to client site-2: name=train, id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c
2022-12-06 20:27:20,923 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c]: sent task assignment to client
2022-12-06 20:27:21,742 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 20:27:43,153 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.493608474731445 seconds
2022-12-06 20:27:43,173 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:27:43,612 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=0750aad7-f28c-4698-8b28-d82e003e5628
2022-12-06 20:27:43,613 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0750aad7-f28c-4698-8b28-d82e003e5628]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:27:43,613 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0750aad7-f28c-4698-8b28-d82e003e5628]: Client trainer got task: train
2022-12-06 20:27:44,435 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.695988178253174 seconds
2022-12-06 20:27:44,452 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:27:44,855 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c
2022-12-06 20:27:44,856 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:27:44,856 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 20:28:05,806 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0750aad7-f28c-4698-8b28-d82e003e5628]: Accuracy when validating site-1's model on site-1s data: 0.9625115719857865
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 20:28:06,952 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c]: Accuracy when validating site-2's model on site-2s data: 0.9652295667781505
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.73      0.67      0.70       222
         eve       0.58      0.53      0.55        96
         geo       0.90      0.93      0.92     14594
         gpe       0.96      0.94      0.95      5584
         nat       0.62      0.55      0.58       116
         org       0.86      0.84      0.85      8377
         per       0.87      0.88      0.88      7230
         tim       0.91      0.89      0.90      6802

   micro avg       0.90      0.90      0.90     43021
   macro avg       0.80      0.78      0.79     43021
weighted avg       0.90      0.90      0.90     43021

F1-score: 0.9836797037156614
val 0/1: 
              precision    recall  f1-score   support

         art       0.17      0.11      0.13        19
         eve       0.30      0.19      0.23        16
         geo       0.81      0.87      0.84      1819
         gpe       0.95      0.95      0.95       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.62      0.66       991
         per       0.71      0.78      0.74       907
         tim       0.83      0.83      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.56      0.54      0.55      5343
weighted avg       0.79      0.81      0.80      5343

F1-score: 0.9634649563875994
2022-12-06 20:36:48,133 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0750aad7-f28c-4698-8b28-d82e003e5628]: train:
              precision    recall  f1-score   support

         art       0.73      0.67      0.70       222
         eve       0.58      0.53      0.55        96
         geo       0.90      0.93      0.92     14594
         gpe       0.96      0.94      0.95      5584
         nat       0.62      0.55      0.58       116
         org       0.86      0.84      0.85      8377
         per       0.87      0.88      0.88      7230
         tim       0.91      0.89      0.90      6802

   micro avg       0.90      0.90      0.90     43021
   macro avg       0.80      0.78      0.79     43021
weighted avg       0.90      0.90      0.90     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.17      0.11      0.13        19
         eve       0.30      0.19      0.23        16
         geo       0.81      0.87      0.84      1819
         gpe       0.95      0.95      0.95       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.62      0.66       991
         per       0.71      0.78      0.74       907
         tim       0.83      0.83      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.56      0.54      0.55      5343
weighted avg       0.79      0.81      0.80      5343

2022-12-06 20:36:48,765 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 20:36:49,106 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0750aad7-f28c-4698-8b28-d82e003e5628]: finished processing task
2022-12-06 20:36:49,107 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:36:49,920 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.68      0.61      0.65       176
         eve       0.55      0.56      0.56       117
         geo       0.90      0.92      0.91     14724
         gpe       0.96      0.94      0.95      5503
         nat       0.62      0.52      0.56        95
         org       0.85      0.83      0.84      8238
         per       0.86      0.87      0.86      6998
         tim       0.90      0.89      0.89      6773

   micro avg       0.89      0.89      0.89     42624
   macro avg       0.79      0.77      0.78     42624
weighted avg       0.89      0.89      0.89     42624

F1-score: 0.9830011276205597
val 0/1: 
              precision    recall  f1-score   support

         art       0.55      0.24      0.34        45
         eve       0.18      0.15      0.17        13
         geo       0.85      0.86      0.85      1773
         gpe       0.93      0.93      0.93       640
         nat       0.25      0.08      0.12        12
         org       0.69      0.72      0.70      1045
         per       0.75      0.75      0.75       940
         tim       0.86      0.85      0.85       859

   micro avg       0.81      0.81      0.81      5327
   macro avg       0.63      0.57      0.59      5327
weighted avg       0.80      0.81      0.81      5327

F1-score: 0.9637248297014425
2022-12-06 20:36:52,174 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c]: train:
              precision    recall  f1-score   support

         art       0.68      0.61      0.65       176
         eve       0.55      0.56      0.56       117
         geo       0.90      0.92      0.91     14724
         gpe       0.96      0.94      0.95      5503
         nat       0.62      0.52      0.56        95
         org       0.85      0.83      0.84      8238
         per       0.86      0.87      0.86      6998
         tim       0.90      0.89      0.89      6773

   micro avg       0.89      0.89      0.89     42624
   macro avg       0.79      0.77      0.78     42624
weighted avg       0.89      0.89      0.89     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.55      0.24      0.34        45
         eve       0.18      0.15      0.17        13
         geo       0.85      0.86      0.85      1773
         gpe       0.93      0.93      0.93       640
         nat       0.25      0.08      0.12        12
         org       0.69      0.72      0.70      1045
         per       0.75      0.75      0.75       940
         tim       0.86      0.85      0.85       859

   micro avg       0.81      0.81      0.81      5327
   macro avg       0.63      0.57      0.59      5327
weighted avg       0.80      0.81      0.81      5327

2022-12-06 20:36:52,846 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 20:36:53,303 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c]: finished processing task
2022-12-06 20:36:53,305 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:36:54,104 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 20:37:12,620 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670359032 seconds)
2022-12-06 20:37:12,620 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=0750aad7-f28c-4698-8b28-d82e003e5628
2022-12-06 20:37:12,621 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0750aad7-f28c-4698-8b28-d82e003e5628]: invoking result_received_cb ...
2022-12-06 20:37:12,691 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0750aad7-f28c-4698-8b28-d82e003e5628]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 20:37:12,691 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0750aad7-f28c-4698-8b28-d82e003e5628]: finished processing client result by scatter_and_gather
2022-12-06 20:37:12,723 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670359032 seconds). SubmitUpdate time: 22.802682161331177 seconds
2022-12-06 20:37:12,763 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0750aad7-f28c-4698-8b28-d82e003e5628]: result sent to server for task: name=train, id=0750aad7-f28c-4698-8b28-d82e003e5628
2022-12-06 20:37:12,764 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:37:16,814 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670359036 seconds)
2022-12-06 20:37:16,814 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c
2022-12-06 20:37:16,814 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c]: invoking result_received_cb ...
2022-12-06 20:37:16,978 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 20:37:16,978 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c]: finished processing client result by scatter_and_gather
2022-12-06 20:37:17,013 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670359036 seconds). SubmitUpdate time: 22.909233331680298 seconds
2022-12-06 20:37:17,018 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:37:17,046 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c]: result sent to server for task: name=train, id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c
2022-12-06 20:37:17,047 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:37:19,031 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:37:19,128 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:37:21,043 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:37:21,140 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:37:23,056 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:37:23,153 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:37:25,069 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:37:25,165 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:37:27,081 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:37:27,161 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 20:37:27,177 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:37:27,660 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 20:37:27,661 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 18
2022-12-06 20:37:27,759 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 20:37:27,759 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 20:37:28,380 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 20:37:28,381 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 18 finished.
2022-12-06 20:37:28,381 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 19 started.
2022-12-06 20:37:28,382 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 20:37:29,091 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=ca97bf4c-c553-40f4-92bf-8365411f14fb]: assigned task to client site-1: name=train, id=ca97bf4c-c553-40f4-92bf-8365411f14fb
2022-12-06 20:37:29,092 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=ca97bf4c-c553-40f4-92bf-8365411f14fb]: sent task assignment to client
2022-12-06 20:37:29,943 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 20:37:30,355 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79]: assigned task to client site-2: name=train, id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79
2022-12-06 20:37:30,356 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79]: sent task assignment to client
2022-12-06 20:37:31,160 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 20:37:52,526 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.437853813171387 seconds
2022-12-06 20:37:52,531 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:37:52,956 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=ca97bf4c-c553-40f4-92bf-8365411f14fb
2022-12-06 20:37:52,957 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ca97bf4c-c553-40f4-92bf-8365411f14fb]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:37:52,957 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ca97bf4c-c553-40f4-92bf-8365411f14fb]: Client trainer got task: train
2022-12-06 20:37:53,793 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.61038589477539 seconds
2022-12-06 20:37:53,810 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:37:54,224 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79
2022-12-06 20:37:54,224 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:37:54,224 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 20:38:15,150 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ca97bf4c-c553-40f4-92bf-8365411f14fb]: Accuracy when validating site-1's model on site-1s data: 0.9642388640600199
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 20:38:16,323 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79]: Accuracy when validating site-2's model on site-2s data: 0.965496327045058
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.78      0.70      0.74       222
         eve       0.63      0.61      0.62        96
         geo       0.91      0.93      0.92     14594
         gpe       0.97      0.95      0.96      5584
         nat       0.73      0.62      0.67       116
         org       0.87      0.85      0.86      8377
         per       0.87      0.89      0.88      7230
         tim       0.91      0.90      0.90      6802

   micro avg       0.90      0.90      0.90     43021
   macro avg       0.83      0.81      0.82     43021
weighted avg       0.90      0.90      0.90     43021

F1-score: 0.9844205492391785
val 0/1: 
              precision    recall  f1-score   support

         art       0.17      0.05      0.08        19
         eve       0.20      0.19      0.19        16
         geo       0.81      0.86      0.84      1819
         gpe       0.93      0.95      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.69      0.64      0.66       991
         per       0.74      0.79      0.77       907
         tim       0.85      0.80      0.82       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.55      0.54      0.54      5343
weighted avg       0.80      0.81      0.80      5343

F1-score: 0.9635240893031117
2022-12-06 20:46:58,281 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ca97bf4c-c553-40f4-92bf-8365411f14fb]: train:
              precision    recall  f1-score   support

         art       0.78      0.70      0.74       222
         eve       0.63      0.61      0.62        96
         geo       0.91      0.93      0.92     14594
         gpe       0.97      0.95      0.96      5584
         nat       0.73      0.62      0.67       116
         org       0.87      0.85      0.86      8377
         per       0.87      0.89      0.88      7230
         tim       0.91      0.90      0.90      6802

   micro avg       0.90      0.90      0.90     43021
   macro avg       0.83      0.81      0.82     43021
weighted avg       0.90      0.90      0.90     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.17      0.05      0.08        19
         eve       0.20      0.19      0.19        16
         geo       0.81      0.86      0.84      1819
         gpe       0.93      0.95      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.69      0.64      0.66       991
         per       0.74      0.79      0.77       907
         tim       0.85      0.80      0.82       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.55      0.54      0.54      5343
weighted avg       0.80      0.81      0.80      5343

2022-12-06 20:46:59,150 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 20:46:59,310 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ca97bf4c-c553-40f4-92bf-8365411f14fb]: finished processing task
2022-12-06 20:46:59,312 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:47:00,112 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.75      0.67      0.71       176
         eve       0.58      0.55      0.56       117
         geo       0.91      0.93      0.92     14724
         gpe       0.97      0.94      0.95      5503
         nat       0.71      0.58      0.64        95
         org       0.86      0.85      0.86      8238
         per       0.87      0.88      0.87      6998
         tim       0.90      0.89      0.90      6773

   micro avg       0.90      0.90      0.90     42624
   macro avg       0.82      0.79      0.80     42624
weighted avg       0.90      0.90      0.90     42624

F1-score: 0.9845802764763962
val 0/1: 
              precision    recall  f1-score   support

         art       0.48      0.29      0.36        45
         eve       0.20      0.31      0.24        13
         geo       0.83      0.88      0.85      1773
         gpe       0.93      0.93      0.93       640
         nat       0.50      0.08      0.14        12
         org       0.74      0.65      0.69      1045
         per       0.71      0.78      0.74       940
         tim       0.83      0.84      0.84       859

   micro avg       0.80      0.81      0.80      5327
   macro avg       0.65      0.59      0.60      5327
weighted avg       0.80      0.81      0.80      5327

F1-score: 0.963298826116985
2022-12-06 20:47:02,014 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79]: train:
              precision    recall  f1-score   support

         art       0.75      0.67      0.71       176
         eve       0.58      0.55      0.56       117
         geo       0.91      0.93      0.92     14724
         gpe       0.97      0.94      0.95      5503
         nat       0.71      0.58      0.64        95
         org       0.86      0.85      0.86      8238
         per       0.87      0.88      0.87      6998
         tim       0.90      0.89      0.90      6773

   micro avg       0.90      0.90      0.90     42624
   macro avg       0.82      0.79      0.80     42624
weighted avg       0.90      0.90      0.90     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.48      0.29      0.36        45
         eve       0.20      0.31      0.24        13
         geo       0.83      0.88      0.85      1773
         gpe       0.93      0.93      0.93       640
         nat       0.50      0.08      0.14        12
         org       0.74      0.65      0.69      1045
         per       0.71      0.78      0.74       940
         tim       0.83      0.84      0.84       859

   micro avg       0.80      0.81      0.80      5327
   macro avg       0.65      0.59      0.60      5327
weighted avg       0.80      0.81      0.80      5327

2022-12-06 20:47:02,200 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 20:47:03,075 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79]: finished processing task
2022-12-06 20:47:03,076 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:47:03,853 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 20:47:22,841 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670359642 seconds)
2022-12-06 20:47:22,842 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=ca97bf4c-c553-40f4-92bf-8365411f14fb
2022-12-06 20:47:22,842 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ca97bf4c-c553-40f4-92bf-8365411f14fb]: invoking result_received_cb ...
2022-12-06 20:47:22,914 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ca97bf4c-c553-40f4-92bf-8365411f14fb]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 20:47:22,915 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ca97bf4c-c553-40f4-92bf-8365411f14fb]: finished processing client result by scatter_and_gather
2022-12-06 20:47:22,948 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670359642 seconds). SubmitUpdate time: 22.83581280708313 seconds
2022-12-06 20:47:22,983 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ca97bf4c-c553-40f4-92bf-8365411f14fb]: result sent to server for task: name=train, id=ca97bf4c-c553-40f4-92bf-8365411f14fb
2022-12-06 20:47:22,983 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:47:26,565 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670359646 seconds)
2022-12-06 20:47:26,565 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79
2022-12-06 20:47:26,566 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79]: invoking result_received_cb ...
2022-12-06 20:47:26,726 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 20:47:26,727 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79]: finished processing client result by scatter_and_gather
2022-12-06 20:47:26,762 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670359646 seconds). SubmitUpdate time: 22.908923625946045 seconds
2022-12-06 20:47:26,766 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:47:26,816 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79]: result sent to server for task: name=train, id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79
2022-12-06 20:47:26,816 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:47:28,777 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:47:28,890 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:47:30,789 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:47:30,909 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:47:32,802 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:47:32,921 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:47:34,815 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:47:34,934 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:47:36,827 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:47:36,918 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 20:47:36,918 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 20:47:36,919 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 19
2022-12-06 20:47:36,947 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:47:37,063 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 20:47:37,063 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 20:47:37,849 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 20:47:37,849 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 19 finished.
2022-12-06 20:47:37,850 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 20 started.
2022-12-06 20:47:37,850 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 20:47:38,836 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=6ff52a70-3ede-4379-b517-fb7cdff38ea0]: assigned task to client site-1: name=train, id=6ff52a70-3ede-4379-b517-fb7cdff38ea0
2022-12-06 20:47:38,837 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=6ff52a70-3ede-4379-b517-fb7cdff38ea0]: sent task assignment to client
2022-12-06 20:47:39,701 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 20:47:40,117 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507]: assigned task to client site-2: name=train, id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507
2022-12-06 20:47:40,118 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507]: sent task assignment to client
2022-12-06 20:47:40,923 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 20:48:02,484 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.651232481002808 seconds
2022-12-06 20:48:02,520 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:48:02,929 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=6ff52a70-3ede-4379-b517-fb7cdff38ea0
2022-12-06 20:48:02,930 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6ff52a70-3ede-4379-b517-fb7cdff38ea0]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:48:02,930 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6ff52a70-3ede-4379-b517-fb7cdff38ea0]: Client trainer got task: train
2022-12-06 20:48:03,630 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.676631927490234 seconds
2022-12-06 20:48:03,646 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:48:04,060 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507
2022-12-06 20:48:04,061 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:48:04,061 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 20:48:25,108 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6ff52a70-3ede-4379-b517-fb7cdff38ea0]: Accuracy when validating site-1's model on site-1s data: 0.9642929190043401
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 20:48:26,153 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507]: Accuracy when validating site-2's model on site-2s data: 0.9654720713129803
2022-12-06 20:57:08,875 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
-------------------------------------------------- save local model: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.76      0.71      0.73       222
         eve       0.65      0.61      0.63        96
         geo       0.91      0.94      0.92     14594
         gpe       0.97      0.95      0.96      5584
         nat       0.75      0.59      0.66       116
         org       0.88      0.86      0.87      8377
         per       0.89      0.90      0.89      7230
         tim       0.91      0.90      0.91      6802

   micro avg       0.91      0.91      0.91     43021
   macro avg       0.84      0.81      0.82     43021
weighted avg       0.91      0.91      0.91     43021

F1-score: 0.9857167352395549
val 0/1: 
              precision    recall  f1-score   support

         art       0.15      0.11      0.12        19
         eve       0.26      0.31      0.29        16
         geo       0.85      0.83      0.84      1819
         gpe       0.95      0.95      0.95       731
         nat       0.25      0.17      0.20         6
         org       0.66      0.68      0.67       991
         per       0.70      0.79      0.74       907
         tim       0.82      0.83      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.58      0.58      0.58      5343
weighted avg       0.79      0.81      0.80      5343

F1-score: 0.9623157607541724
2022-12-06 20:57:08,977 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6ff52a70-3ede-4379-b517-fb7cdff38ea0]: train:
              precision    recall  f1-score   support

         art       0.76      0.71      0.73       222
         eve       0.65      0.61      0.63        96
         geo       0.91      0.94      0.92     14594
         gpe       0.97      0.95      0.96      5584
         nat       0.75      0.59      0.66       116
         org       0.88      0.86      0.87      8377
         per       0.89      0.90      0.89      7230
         tim       0.91      0.90      0.91      6802

   micro avg       0.91      0.91      0.91     43021
   macro avg       0.84      0.81      0.82     43021
weighted avg       0.91      0.91      0.91     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.15      0.11      0.12        19
         eve       0.26      0.31      0.29        16
         geo       0.85      0.83      0.84      1819
         gpe       0.95      0.95      0.95       731
         nat       0.25      0.17      0.20         6
         org       0.66      0.68      0.67       991
         per       0.70      0.79      0.74       907
         tim       0.82      0.83      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.58      0.58      0.58      5343
weighted avg       0.79      0.81      0.80      5343

-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 20:57:09,989 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6ff52a70-3ede-4379-b517-fb7cdff38ea0]: finished processing task
2022-12-06 20:57:09,991 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:57:10,795 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.69      0.66      0.67       176
         eve       0.67      0.67      0.67       117
         geo       0.90      0.93      0.92     14724
         gpe       0.96      0.93      0.95      5503
         nat       0.75      0.62      0.68        95
         org       0.85      0.84      0.84      8238
         per       0.85      0.87      0.86      6998
         tim       0.90      0.89      0.89      6773

   micro avg       0.89      0.89      0.89     42624
   macro avg       0.82      0.80      0.81     42624
weighted avg       0.89      0.89      0.89     42624

F1-score: 0.9835160455084436
val 0/1: 
              precision    recall  f1-score   support

         art       0.47      0.18      0.26        45
         eve       0.30      0.23      0.26        13
         geo       0.84      0.87      0.86      1773
         gpe       0.93      0.93      0.93       640
         nat       0.25      0.08      0.12        12
         org       0.69      0.71      0.70      1045
         per       0.74      0.75      0.74       940
         tim       0.84      0.83      0.83       859

   micro avg       0.80      0.81      0.81      5327
   macro avg       0.63      0.57      0.59      5327
weighted avg       0.80      0.81      0.80      5327

F1-score: 0.9636930000265647
2022-12-06 20:57:12,039 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507]: train:
              precision    recall  f1-score   support

         art       0.69      0.66      0.67       176
         eve       0.67      0.67      0.67       117
         geo       0.90      0.93      0.92     14724
         gpe       0.96      0.93      0.95      5503
         nat       0.75      0.62      0.68        95
         org       0.85      0.84      0.84      8238
         per       0.85      0.87      0.86      6998
         tim       0.90      0.89      0.89      6773

   micro avg       0.89      0.89      0.89     42624
   macro avg       0.82      0.80      0.81     42624
weighted avg       0.89      0.89      0.89     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.47      0.18      0.26        45
         eve       0.30      0.23      0.26        13
         geo       0.84      0.87      0.86      1773
         gpe       0.93      0.93      0.93       640
         nat       0.25      0.08      0.12        12
         org       0.69      0.71      0.70      1045
         per       0.74      0.75      0.74       940
         tim       0.84      0.83      0.83       859

   micro avg       0.80      0.81      0.81      5327
   macro avg       0.63      0.57      0.59      5327
weighted avg       0.80      0.81      0.80      5327

2022-12-06 20:57:12,259 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 20:57:12,939 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507]: finished processing task
2022-12-06 20:57:12,940 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:57:13,765 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 20:57:33,493 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670360253 seconds)
2022-12-06 20:57:33,493 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=6ff52a70-3ede-4379-b517-fb7cdff38ea0
2022-12-06 20:57:33,493 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=6ff52a70-3ede-4379-b517-fb7cdff38ea0]: invoking result_received_cb ...
2022-12-06 20:57:33,565 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=6ff52a70-3ede-4379-b517-fb7cdff38ea0]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 20:57:33,565 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=6ff52a70-3ede-4379-b517-fb7cdff38ea0]: finished processing client result by scatter_and_gather
2022-12-06 20:57:33,596 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670360253 seconds). SubmitUpdate time: 22.8011634349823 seconds
2022-12-06 20:57:33,648 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6ff52a70-3ede-4379-b517-fb7cdff38ea0]: result sent to server for task: name=train, id=6ff52a70-3ede-4379-b517-fb7cdff38ea0
2022-12-06 20:57:33,648 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:57:36,635 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670360256 seconds)
2022-12-06 20:57:36,635 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507
2022-12-06 20:57:36,635 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507]: invoking result_received_cb ...
2022-12-06 20:57:36,793 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 20:57:36,793 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507]: finished processing client result by scatter_and_gather
2022-12-06 20:57:36,828 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670360256 seconds). SubmitUpdate time: 23.063011407852173 seconds
2022-12-06 20:57:36,834 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:57:36,880 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507]: result sent to server for task: name=train, id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507
2022-12-06 20:57:36,881 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:57:38,853 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:57:38,960 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:57:40,866 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:57:40,972 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:57:42,879 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:57:42,985 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:57:44,891 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:57:45,004 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:57:46,902 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:57:46,996 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 20:57:47,015 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:57:47,495 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 20:57:47,496 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 20
2022-12-06 20:57:47,598 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 20:57:47,598 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 20:57:48,591 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 20:57:48,592 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 20 finished.
2022-12-06 20:57:48,593 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 21 started.
2022-12-06 20:57:48,594 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 20:57:48,912 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=096055e3-9b61-455c-9cf2-de19199d4344]: assigned task to client site-1: name=train, id=096055e3-9b61-455c-9cf2-de19199d4344
2022-12-06 20:57:48,913 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=096055e3-9b61-455c-9cf2-de19199d4344]: sent task assignment to client
2022-12-06 20:57:49,765 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 20:57:50,178 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e]: assigned task to client site-2: name=train, id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e
2022-12-06 20:57:50,179 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e]: sent task assignment to client
2022-12-06 20:57:50,980 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 20:58:12,543 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.634782552719116 seconds
2022-12-06 20:58:12,562 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:58:12,983 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=096055e3-9b61-455c-9cf2-de19199d4344
2022-12-06 20:58:12,983 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=096055e3-9b61-455c-9cf2-de19199d4344]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:58:12,983 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=096055e3-9b61-455c-9cf2-de19199d4344]: Client trainer got task: train
2022-12-06 20:58:13,641 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.621467351913452 seconds
2022-12-06 20:58:13,646 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:58:14,057 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e
2022-12-06 20:58:14,058 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:58:14,058 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 20:58:35,170 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=096055e3-9b61-455c-9cf2-de19199d4344]: Accuracy when validating site-1's model on site-1s data: 0.9638006983978186
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 20:58:36,129 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e]: Accuracy when validating site-2's model on site-2s data: 0.9657098544825949
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.81      0.77      0.79       222
         eve       0.65      0.65      0.65        96
         geo       0.91      0.94      0.92     14594
         gpe       0.97      0.95      0.96      5584
         nat       0.67      0.61      0.64       116
         org       0.87      0.86      0.87      8377
         per       0.88      0.90      0.89      7230
         tim       0.91      0.91      0.91      6802

   micro avg       0.91      0.91      0.91     43021
   macro avg       0.83      0.82      0.83     43021
weighted avg       0.91      0.91      0.91     43021

F1-score: 0.9857131382447839
val 0/1: 
              precision    recall  f1-score   support

         art       0.11      0.11      0.11        19
         eve       0.29      0.38      0.32        16
         geo       0.82      0.85      0.83      1819
         gpe       0.95      0.93      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.68      0.64      0.66       991
         per       0.72      0.78      0.75       907
         tim       0.82      0.81      0.82       854

   micro avg       0.79      0.80      0.79      5343
   macro avg       0.55      0.56      0.55      5343
weighted avg       0.79      0.80      0.79      5343

F1-score: 0.9617133165672492
2022-12-06 21:07:17,793 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=096055e3-9b61-455c-9cf2-de19199d4344]: train:
              precision    recall  f1-score   support

         art       0.81      0.77      0.79       222
         eve       0.65      0.65      0.65        96
         geo       0.91      0.94      0.92     14594
         gpe       0.97      0.95      0.96      5584
         nat       0.67      0.61      0.64       116
         org       0.87      0.86      0.87      8377
         per       0.88      0.90      0.89      7230
         tim       0.91      0.91      0.91      6802

   micro avg       0.91      0.91      0.91     43021
   macro avg       0.83      0.82      0.83     43021
weighted avg       0.91      0.91      0.91     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.11      0.11      0.11        19
         eve       0.29      0.38      0.32        16
         geo       0.82      0.85      0.83      1819
         gpe       0.95      0.93      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.68      0.64      0.66       991
         per       0.72      0.78      0.75       907
         tim       0.82      0.81      0.82       854

   micro avg       0.79      0.80      0.79      5343
   macro avg       0.55      0.56      0.55      5343
weighted avg       0.79      0.80      0.79      5343

2022-12-06 21:07:17,965 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 21:07:18,943 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=096055e3-9b61-455c-9cf2-de19199d4344]: finished processing task
2022-12-06 21:07:18,944 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:07:19,773 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 21:07:22,044 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.74      0.69      0.71       176
         eve       0.57      0.62      0.59       117
         geo       0.92      0.94      0.93     14724
         gpe       0.96      0.95      0.96      5503
         nat       0.76      0.61      0.68        95
         org       0.88      0.86      0.87      8238
         per       0.87      0.89      0.88      6998
         tim       0.91      0.90      0.91      6773

   micro avg       0.90      0.91      0.91     42624
   macro avg       0.83      0.81      0.82     42624
weighted avg       0.90      0.91      0.91     42624

F1-score: 0.98604488884687
val 0/1: 
              precision    recall  f1-score   support

         art       0.57      0.36      0.44        45
         eve       0.27      0.23      0.25        13
         geo       0.83      0.88      0.86      1773
         gpe       0.95      0.92      0.94       640
         nat       0.09      0.08      0.09        12
         org       0.72      0.72      0.72      1045
         per       0.74      0.79      0.76       940
         tim       0.83      0.85      0.84       859

   micro avg       0.80      0.83      0.82      5327
   macro avg       0.63      0.60      0.61      5327
weighted avg       0.80      0.83      0.81      5327

F1-score: 0.9647737324835111
2022-12-06 21:07:22,094 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e]: train:
              precision    recall  f1-score   support

         art       0.74      0.69      0.71       176
         eve       0.57      0.62      0.59       117
         geo       0.92      0.94      0.93     14724
         gpe       0.96      0.95      0.96      5503
         nat       0.76      0.61      0.68        95
         org       0.88      0.86      0.87      8238
         per       0.87      0.89      0.88      6998
         tim       0.91      0.90      0.91      6773

   micro avg       0.90      0.91      0.91     42624
   macro avg       0.83      0.81      0.82     42624
weighted avg       0.90      0.91      0.91     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.57      0.36      0.44        45
         eve       0.27      0.23      0.25        13
         geo       0.83      0.88      0.86      1773
         gpe       0.95      0.92      0.94       640
         nat       0.09      0.08      0.09        12
         org       0.72      0.72      0.72      1045
         per       0.74      0.79      0.76       940
         tim       0.83      0.85      0.84       859

   micro avg       0.80      0.83      0.82      5327
   macro avg       0.63      0.60      0.61      5327
weighted avg       0.80      0.83      0.81      5327

-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 21:07:22,898 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e]: finished processing task
2022-12-06 21:07:22,900 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:07:23,684 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 21:07:42,494 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670360862 seconds)
2022-12-06 21:07:42,494 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=096055e3-9b61-455c-9cf2-de19199d4344
2022-12-06 21:07:42,495 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=096055e3-9b61-455c-9cf2-de19199d4344]: invoking result_received_cb ...
2022-12-06 21:07:42,565 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=096055e3-9b61-455c-9cf2-de19199d4344]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 21:07:42,566 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=096055e3-9b61-455c-9cf2-de19199d4344]: finished processing client result by scatter_and_gather
2022-12-06 21:07:42,599 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670360862 seconds). SubmitUpdate time: 22.825472593307495 seconds
2022-12-06 21:07:42,632 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=096055e3-9b61-455c-9cf2-de19199d4344]: result sent to server for task: name=train, id=096055e3-9b61-455c-9cf2-de19199d4344
2022-12-06 21:07:42,633 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:07:46,414 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670360866 seconds)
2022-12-06 21:07:46,414 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e
2022-12-06 21:07:46,415 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e]: invoking result_received_cb ...
2022-12-06 21:07:46,573 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 21:07:46,573 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e]: finished processing client result by scatter_and_gather
2022-12-06 21:07:46,607 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670360866 seconds). SubmitUpdate time: 22.923760890960693 seconds
2022-12-06 21:07:46,624 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:07:46,652 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e]: result sent to server for task: name=train, id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e
2022-12-06 21:07:46,652 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:07:48,649 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:07:48,736 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:07:50,660 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:07:50,746 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:07:52,673 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:07:52,759 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:07:54,686 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:07:54,771 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:07:56,699 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:07:56,768 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 21:07:56,783 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:07:57,266 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 21:07:57,267 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 21
2022-12-06 21:07:57,415 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 21:07:57,415 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 21:07:58,432 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 21:07:58,432 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 21 finished.
2022-12-06 21:07:58,432 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 22 started.
2022-12-06 21:07:58,432 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 21:07:58,708 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6]: assigned task to client site-1: name=train, id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6
2022-12-06 21:07:58,709 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6]: sent task assignment to client
2022-12-06 21:07:59,543 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 21:07:59,955 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c]: assigned task to client site-2: name=train, id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c
2022-12-06 21:07:59,957 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c]: sent task assignment to client
2022-12-06 21:08:00,764 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 21:08:22,203 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.497693061828613 seconds
2022-12-06 21:08:22,221 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:08:22,627 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6
2022-12-06 21:08:22,628 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:08:22,628 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6]: Client trainer got task: train
2022-12-06 21:08:23,668 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.879143476486206 seconds
2022-12-06 21:08:23,685 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:08:24,104 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c
2022-12-06 21:08:24,104 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:08:24,104 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 21:08:44,760 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6]: Accuracy when validating site-1's model on site-1s data: 0.9635057440358857
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 21:08:46,180 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c]: Accuracy when validating site-2's model on site-2s data: 0.9659692295075513
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.76      0.71      0.73       222
         eve       0.55      0.53      0.54        96
         geo       0.90      0.92      0.91     14594
         gpe       0.96      0.94      0.95      5584
         nat       0.67      0.54      0.60       116
         org       0.85      0.83      0.84      8377
         per       0.86      0.87      0.86      7230
         tim       0.91      0.89      0.90      6802

   micro avg       0.89      0.89      0.89     43021
   macro avg       0.81      0.78      0.79     43021
weighted avg       0.89      0.89      0.89     43021

F1-score: 0.9825666119861592
val 0/1: 
              precision    recall  f1-score   support

         art       0.09      0.16      0.12        19
         eve       0.21      0.31      0.25        16
         geo       0.81      0.87      0.84      1819
         gpe       0.94      0.94      0.94       731
         nat       0.50      0.17      0.25         6
         org       0.73      0.62      0.67       991
         per       0.72      0.80      0.76       907
         tim       0.82      0.81      0.82       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.60      0.59      0.58      5343
weighted avg       0.79      0.81      0.80      5343

F1-score: 0.962457901512011
2022-12-06 21:17:27,014 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6]: train:
              precision    recall  f1-score   support

         art       0.76      0.71      0.73       222
         eve       0.55      0.53      0.54        96
         geo       0.90      0.92      0.91     14594
         gpe       0.96      0.94      0.95      5584
         nat       0.67      0.54      0.60       116
         org       0.85      0.83      0.84      8377
         per       0.86      0.87      0.86      7230
         tim       0.91      0.89      0.90      6802

   micro avg       0.89      0.89      0.89     43021
   macro avg       0.81      0.78      0.79     43021
weighted avg       0.89      0.89      0.89     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.09      0.16      0.12        19
         eve       0.21      0.31      0.25        16
         geo       0.81      0.87      0.84      1819
         gpe       0.94      0.94      0.94       731
         nat       0.50      0.17      0.25         6
         org       0.73      0.62      0.67       991
         per       0.72      0.80      0.76       907
         tim       0.82      0.81      0.82       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.60      0.59      0.58      5343
weighted avg       0.79      0.81      0.80      5343

2022-12-06 21:17:27,596 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 21:17:27,934 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6]: finished processing task
2022-12-06 21:17:27,936 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:17:28,736 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.76      0.75      0.76       176
         eve       0.63      0.65      0.64       117
         geo       0.92      0.94      0.93     14724
         gpe       0.97      0.95      0.96      5503
         nat       0.77      0.76      0.76        95
         org       0.88      0.87      0.87      8238
         per       0.89      0.90      0.89      6998
         tim       0.92      0.91      0.92      6773

   micro avg       0.91      0.91      0.91     42624
   macro avg       0.84      0.84      0.84     42624
weighted avg       0.91      0.91      0.91     42624

F1-score: 0.9870277938889768
val 0/1: 
              precision    recall  f1-score   support

         art       0.67      0.31      0.42        45
         eve       0.20      0.23      0.21        13
         geo       0.82      0.89      0.86      1773
         gpe       0.94      0.94      0.94       640
         nat       0.50      0.08      0.14        12
         org       0.72      0.69      0.71      1045
         per       0.74      0.80      0.77       940
         tim       0.83      0.85      0.84       859

   micro avg       0.80      0.83      0.81      5327
   macro avg       0.68      0.60      0.61      5327
weighted avg       0.80      0.83      0.81      5327

F1-score: 0.9649728433495754
2022-12-06 21:17:31,328 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c]: train:
              precision    recall  f1-score   support

         art       0.76      0.75      0.76       176
         eve       0.63      0.65      0.64       117
         geo       0.92      0.94      0.93     14724
         gpe       0.97      0.95      0.96      5503
         nat       0.77      0.76      0.76        95
         org       0.88      0.87      0.87      8238
         per       0.89      0.90      0.89      6998
         tim       0.92      0.91      0.92      6773

   micro avg       0.91      0.91      0.91     42624
   macro avg       0.84      0.84      0.84     42624
weighted avg       0.91      0.91      0.91     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.67      0.31      0.42        45
         eve       0.20      0.23      0.21        13
         geo       0.82      0.89      0.86      1773
         gpe       0.94      0.94      0.94       640
         nat       0.50      0.08      0.14        12
         org       0.72      0.69      0.71      1045
         per       0.74      0.80      0.77       940
         tim       0.83      0.85      0.84       859

   micro avg       0.80      0.83      0.81      5327
   macro avg       0.68      0.60      0.61      5327
weighted avg       0.80      0.83      0.81      5327

2022-12-06 21:17:31,532 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 21:17:32,251 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c]: finished processing task
2022-12-06 21:17:32,252 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:17:33,041 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 21:17:51,482 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670361471 seconds)
2022-12-06 21:17:51,483 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6
2022-12-06 21:17:51,483 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6]: invoking result_received_cb ...
2022-12-06 21:17:51,552 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 21:17:51,553 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6]: finished processing client result by scatter_and_gather
2022-12-06 21:17:51,585 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670361471 seconds). SubmitUpdate time: 22.8485746383667 seconds
2022-12-06 21:17:51,633 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6]: result sent to server for task: name=train, id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6
2022-12-06 21:17:51,634 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:17:55,732 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670361475 seconds)
2022-12-06 21:17:55,733 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c
2022-12-06 21:17:55,733 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c]: invoking result_received_cb ...
2022-12-06 21:17:55,890 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 21:17:55,904 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c]: finished processing client result by scatter_and_gather
2022-12-06 21:17:55,936 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670361475 seconds). SubmitUpdate time: 22.89568591117859 seconds
2022-12-06 21:17:55,954 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:17:55,990 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c]: result sent to server for task: name=train, id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c
2022-12-06 21:17:55,991 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:17:57,967 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:17:58,075 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:17:59,978 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:18:00,088 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:18:01,990 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:18:02,107 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:18:04,002 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:18:04,120 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:18:06,015 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:18:06,096 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 21:18:06,132 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:18:06,595 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 21:18:06,596 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 22
2022-12-06 21:18:06,694 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 21:18:06,694 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 21:18:07,729 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 21:18:07,730 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 22 finished.
2022-12-06 21:18:07,730 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 23 started.
2022-12-06 21:18:07,730 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 21:18:08,025 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99]: assigned task to client site-1: name=train, id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99
2022-12-06 21:18:08,026 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99]: sent task assignment to client
2022-12-06 21:18:08,889 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 21:18:09,306 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=ada6babf-acbc-4096-9ea5-8374f2e90a11]: assigned task to client site-2: name=train, id=ada6babf-acbc-4096-9ea5-8374f2e90a11
2022-12-06 21:18:09,308 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=ada6babf-acbc-4096-9ea5-8374f2e90a11]: sent task assignment to client
2022-12-06 21:18:10,110 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 21:18:31,503 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.48206639289856 seconds
2022-12-06 21:18:31,535 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:18:31,932 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99
2022-12-06 21:18:31,933 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:18:31,933 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99]: Client trainer got task: train
2022-12-06 21:18:32,773 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.63586664199829 seconds
2022-12-06 21:18:32,791 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:18:33,219 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=ada6babf-acbc-4096-9ea5-8374f2e90a11
2022-12-06 21:18:33,219 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ada6babf-acbc-4096-9ea5-8374f2e90a11]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:18:33,219 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ada6babf-acbc-4096-9ea5-8374f2e90a11]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 21:18:54,090 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99]: Accuracy when validating site-1's model on site-1s data: 0.9638163225288371
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 21:18:55,289 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ada6babf-acbc-4096-9ea5-8374f2e90a11]: Accuracy when validating site-2's model on site-2s data: 0.9657940002172598
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.84      0.80      0.82       222
         eve       0.61      0.64      0.62        96
         geo       0.92      0.94      0.93     14594
         gpe       0.97      0.95      0.96      5584
         nat       0.76      0.67      0.71       116
         org       0.89      0.88      0.88      8377
         per       0.89      0.91      0.90      7230
         tim       0.92      0.92      0.92      6802

   micro avg       0.92      0.92      0.92     43021
   macro avg       0.85      0.84      0.84     43021
weighted avg       0.92      0.92      0.92     43021

F1-score: 0.9874169453548733
val 0/1: 
              precision    recall  f1-score   support

         art       0.10      0.11      0.10        19
         eve       0.30      0.19      0.23        16
         geo       0.83      0.86      0.84      1819
         gpe       0.93      0.95      0.94       731
         nat       0.50      0.17      0.25         6
         org       0.71      0.66      0.68       991
         per       0.72      0.81      0.77       907
         tim       0.84      0.82      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.62      0.57      0.58      5343
weighted avg       0.80      0.82      0.81      5343

F1-score: 0.9641728274921625
2022-12-06 21:27:36,495 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99]: train:
              precision    recall  f1-score   support

         art       0.84      0.80      0.82       222
         eve       0.61      0.64      0.62        96
         geo       0.92      0.94      0.93     14594
         gpe       0.97      0.95      0.96      5584
         nat       0.76      0.67      0.71       116
         org       0.89      0.88      0.88      8377
         per       0.89      0.91      0.90      7230
         tim       0.92      0.92      0.92      6802

   micro avg       0.92      0.92      0.92     43021
   macro avg       0.85      0.84      0.84     43021
weighted avg       0.92      0.92      0.92     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.10      0.11      0.10        19
         eve       0.30      0.19      0.23        16
         geo       0.83      0.86      0.84      1819
         gpe       0.93      0.95      0.94       731
         nat       0.50      0.17      0.25         6
         org       0.71      0.66      0.68       991
         per       0.72      0.81      0.77       907
         tim       0.84      0.82      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.62      0.57      0.58      5343
weighted avg       0.80      0.82      0.81      5343

2022-12-06 21:27:37,042 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 21:27:37,435 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99]: finished processing task
2022-12-06 21:27:37,436 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:27:38,237 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.79      0.75      0.77       176
         eve       0.69      0.69      0.69       117
         geo       0.92      0.94      0.93     14724
         gpe       0.97      0.95      0.96      5503
         nat       0.84      0.72      0.77        95
         org       0.89      0.87      0.88      8238
         per       0.89      0.90      0.89      6998
         tim       0.92      0.92      0.92      6773

   micro avg       0.91      0.92      0.91     42624
   macro avg       0.86      0.84      0.85     42624
weighted avg       0.91      0.92      0.91     42624

F1-score: 0.9872628156656778
val 0/1: 
              precision    recall  f1-score   support

         art       0.42      0.31      0.36        45
         eve       0.20      0.23      0.21        13
         geo       0.83      0.89      0.86      1773
         gpe       0.94      0.94      0.94       640
         nat       0.00      0.00      0.00        12
         org       0.75      0.67      0.71      1045
         per       0.73      0.78      0.76       940
         tim       0.85      0.86      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.59      0.58      0.59      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9656412644854816
2022-12-06 21:27:39,648 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ada6babf-acbc-4096-9ea5-8374f2e90a11]: train:
              precision    recall  f1-score   support

         art       0.79      0.75      0.77       176
         eve       0.69      0.69      0.69       117
         geo       0.92      0.94      0.93     14724
         gpe       0.97      0.95      0.96      5503
         nat       0.84      0.72      0.77        95
         org       0.89      0.87      0.88      8238
         per       0.89      0.90      0.89      6998
         tim       0.92      0.92      0.92      6773

   micro avg       0.91      0.92      0.91     42624
   macro avg       0.86      0.84      0.85     42624
weighted avg       0.91      0.92      0.91     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.42      0.31      0.36        45
         eve       0.20      0.23      0.21        13
         geo       0.83      0.89      0.86      1773
         gpe       0.94      0.94      0.94       640
         nat       0.00      0.00      0.00        12
         org       0.75      0.67      0.71      1045
         per       0.73      0.78      0.76       940
         tim       0.85      0.86      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.59      0.58      0.59      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-06 21:27:40,211 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 21:27:40,568 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ada6babf-acbc-4096-9ea5-8374f2e90a11]: finished processing task
2022-12-06 21:27:40,569 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:27:41,354 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 21:28:00,959 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670362080 seconds)
2022-12-06 21:28:00,959 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99
2022-12-06 21:28:00,959 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99]: invoking result_received_cb ...
2022-12-06 21:28:01,033 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 21:28:01,034 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99]: finished processing client result by scatter_and_gather
2022-12-06 21:28:01,065 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670362080 seconds). SubmitUpdate time: 22.828686952590942 seconds
2022-12-06 21:28:01,107 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99]: result sent to server for task: name=train, id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99
2022-12-06 21:28:01,108 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:28:04,136 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670362084 seconds)
2022-12-06 21:28:04,136 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=ada6babf-acbc-4096-9ea5-8374f2e90a11
2022-12-06 21:28:04,137 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ada6babf-acbc-4096-9ea5-8374f2e90a11]: invoking result_received_cb ...
2022-12-06 21:28:04,295 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ada6babf-acbc-4096-9ea5-8374f2e90a11]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 21:28:04,295 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ada6babf-acbc-4096-9ea5-8374f2e90a11]: finished processing client result by scatter_and_gather
2022-12-06 21:28:04,330 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670362084 seconds). SubmitUpdate time: 22.97588562965393 seconds
2022-12-06 21:28:04,345 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:28:04,355 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ada6babf-acbc-4096-9ea5-8374f2e90a11]: result sent to server for task: name=train, id=ada6babf-acbc-4096-9ea5-8374f2e90a11
2022-12-06 21:28:04,356 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:28:06,358 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:28:06,439 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:28:08,370 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:28:08,450 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:28:10,383 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:28:10,463 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:28:12,395 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:28:12,475 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:28:14,408 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:28:14,488 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:28:14,494 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 21:28:14,993 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 21:28:14,994 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 23
2022-12-06 21:28:15,138 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 21:28:15,139 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 21:28:15,768 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 21:28:15,768 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 23 finished.
2022-12-06 21:28:15,768 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 24 started.
2022-12-06 21:28:15,769 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 21:28:16,418 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=8557244e-38f0-46b4-bcee-b28fcb0cab7f]: assigned task to client site-1: name=train, id=8557244e-38f0-46b4-bcee-b28fcb0cab7f
2022-12-06 21:28:16,419 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=8557244e-38f0-46b4-bcee-b28fcb0cab7f]: sent task assignment to client
2022-12-06 21:28:17,280 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 21:28:17,697 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=99e0b9a9-2c41-49ee-b87c-fede80132ee5]: assigned task to client site-2: name=train, id=99e0b9a9-2c41-49ee-b87c-fede80132ee5
2022-12-06 21:28:17,698 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=99e0b9a9-2c41-49ee-b87c-fede80132ee5]: sent task assignment to client
2022-12-06 21:28:18,515 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 21:28:39,947 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.532519578933716 seconds
2022-12-06 21:28:39,957 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:28:40,378 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=8557244e-38f0-46b4-bcee-b28fcb0cab7f
2022-12-06 21:28:40,378 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8557244e-38f0-46b4-bcee-b28fcb0cab7f]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:28:40,378 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8557244e-38f0-46b4-bcee-b28fcb0cab7f]: Client trainer got task: train
2022-12-06 21:28:41,247 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.75338077545166 seconds
2022-12-06 21:28:41,263 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:28:41,662 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=99e0b9a9-2c41-49ee-b87c-fede80132ee5
2022-12-06 21:28:41,662 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=99e0b9a9-2c41-49ee-b87c-fede80132ee5]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:28:41,663 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=99e0b9a9-2c41-49ee-b87c-fede80132ee5]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 21:29:02,553 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8557244e-38f0-46b4-bcee-b28fcb0cab7f]: Accuracy when validating site-1's model on site-1s data: 0.965299216723917
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 21:29:03,698 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=99e0b9a9-2c41-49ee-b87c-fede80132ee5]: Accuracy when validating site-2's model on site-2s data: 0.9665088756486897
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.80      0.75      0.77       176
         eve       0.68      0.68      0.68       117
         geo       0.92      0.94      0.93     14724
         gpe       0.97      0.94      0.96      5503
         nat       0.89      0.81      0.85        95
         org       0.89      0.88      0.88      8238
         per       0.89      0.90      0.90      6998
         tim       0.92      0.92      0.92      6773

   micro avg       0.92      0.92      0.92     42624
   macro avg       0.87      0.85      0.86     42624
weighted avg       0.92      0.92      0.92     42624

F1-score: 0.9877721137195237
val 0/1: 
              precision    recall  f1-score   support

         art       0.41      0.27      0.32        45
         eve       0.18      0.23      0.20        13
         geo       0.82      0.90      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.20      0.08      0.12        12
         org       0.72      0.71      0.72      1045
         per       0.76      0.70      0.73       940
         tim       0.85      0.84      0.84       859

   micro avg       0.80      0.81      0.81      5327
   macro avg       0.61      0.58      0.59      5327
weighted avg       0.80      0.81      0.81      5327

F1-score: 0.9640228566688349
2022-12-06 21:37:41,325 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=99e0b9a9-2c41-49ee-b87c-fede80132ee5]: train:
              precision    recall  f1-score   support

         art       0.80      0.75      0.77       176
         eve       0.68      0.68      0.68       117
         geo       0.92      0.94      0.93     14724
         gpe       0.97      0.94      0.96      5503
         nat       0.89      0.81      0.85        95
         org       0.89      0.88      0.88      8238
         per       0.89      0.90      0.90      6998
         tim       0.92      0.92      0.92      6773

   micro avg       0.92      0.92      0.92     42624
   macro avg       0.87      0.85      0.86     42624
weighted avg       0.92      0.92      0.92     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.41      0.27      0.32        45
         eve       0.18      0.23      0.20        13
         geo       0.82      0.90      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.20      0.08      0.12        12
         org       0.72      0.71      0.72      1045
         per       0.76      0.70      0.73       940
         tim       0.85      0.84      0.84       859

   micro avg       0.80      0.81      0.81      5327
   macro avg       0.61      0.58      0.59      5327
weighted avg       0.80      0.81      0.81      5327

2022-12-06 21:37:41,658 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 21:37:42,249 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=99e0b9a9-2c41-49ee-b87c-fede80132ee5]: finished processing task
2022-12-06 21:37:42,250 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:37:43,053 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.84      0.82      0.83       222
         eve       0.69      0.67      0.68        96
         geo       0.93      0.94      0.93     14594
         gpe       0.97      0.96      0.96      5584
         nat       0.76      0.67      0.71       116
         org       0.89      0.88      0.89      8377
         per       0.90      0.92      0.91      7230
         tim       0.93      0.92      0.92      6802

   micro avg       0.92      0.92      0.92     43021
   macro avg       0.86      0.85      0.85     43021
weighted avg       0.92      0.92      0.92     43021

F1-score: 0.9879773494173315
val 0/1: 
              precision    recall  f1-score   support

         art       0.14      0.11      0.12        19
         eve       0.20      0.19      0.19        16
         geo       0.82      0.86      0.84      1819
         gpe       0.93      0.95      0.94       731
         nat       0.20      0.17      0.18         6
         org       0.71      0.64      0.67       991
         per       0.71      0.81      0.76       907
         tim       0.84      0.81      0.82       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.57      0.57      0.57      5343
weighted avg       0.79      0.81      0.80      5343

F1-score: 0.9631852726925889
2022-12-06 21:37:45,252 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8557244e-38f0-46b4-bcee-b28fcb0cab7f]: train:
              precision    recall  f1-score   support

         art       0.84      0.82      0.83       222
         eve       0.69      0.67      0.68        96
         geo       0.93      0.94      0.93     14594
         gpe       0.97      0.96      0.96      5584
         nat       0.76      0.67      0.71       116
         org       0.89      0.88      0.89      8377
         per       0.90      0.92      0.91      7230
         tim       0.93      0.92      0.92      6802

   micro avg       0.92      0.92      0.92     43021
   macro avg       0.86      0.85      0.85     43021
weighted avg       0.92      0.92      0.92     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.14      0.11      0.12        19
         eve       0.20      0.19      0.19        16
         geo       0.82      0.86      0.84      1819
         gpe       0.93      0.95      0.94       731
         nat       0.20      0.17      0.18         6
         org       0.71      0.64      0.67       991
         per       0.71      0.81      0.76       907
         tim       0.84      0.81      0.82       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.57      0.57      0.57      5343
weighted avg       0.79      0.81      0.80      5343

2022-12-06 21:37:45,423 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 21:37:46,166 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8557244e-38f0-46b4-bcee-b28fcb0cab7f]: finished processing task
2022-12-06 21:37:46,167 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:37:46,980 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 21:38:05,749 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670362685 seconds)
2022-12-06 21:38:05,750 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=99e0b9a9-2c41-49ee-b87c-fede80132ee5
2022-12-06 21:38:05,750 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=99e0b9a9-2c41-49ee-b87c-fede80132ee5]: invoking result_received_cb ...
2022-12-06 21:38:05,818 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=99e0b9a9-2c41-49ee-b87c-fede80132ee5]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 21:38:05,819 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=99e0b9a9-2c41-49ee-b87c-fede80132ee5]: finished processing client result by scatter_and_gather
2022-12-06 21:38:05,852 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670362685 seconds). SubmitUpdate time: 22.798869609832764 seconds
2022-12-06 21:38:05,906 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=99e0b9a9-2c41-49ee-b87c-fede80132ee5]: result sent to server for task: name=train, id=99e0b9a9-2c41-49ee-b87c-fede80132ee5
2022-12-06 21:38:05,907 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:38:09,686 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670362689 seconds)
2022-12-06 21:38:09,687 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=8557244e-38f0-46b4-bcee-b28fcb0cab7f
2022-12-06 21:38:09,687 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=8557244e-38f0-46b4-bcee-b28fcb0cab7f]: invoking result_received_cb ...
2022-12-06 21:38:09,844 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=8557244e-38f0-46b4-bcee-b28fcb0cab7f]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 21:38:09,844 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=8557244e-38f0-46b4-bcee-b28fcb0cab7f]: finished processing client result by scatter_and_gather
2022-12-06 21:38:09,879 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670362689 seconds). SubmitUpdate time: 22.89942240715027 seconds
2022-12-06 21:38:09,886 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:38:09,909 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8557244e-38f0-46b4-bcee-b28fcb0cab7f]: result sent to server for task: name=train, id=8557244e-38f0-46b4-bcee-b28fcb0cab7f
2022-12-06 21:38:09,910 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:38:11,898 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:38:11,986 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:38:13,911 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:38:14,024 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:38:15,923 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:38:16,037 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:38:17,936 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:38:18,049 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:38:19,947 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:38:20,050 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 21:38:20,061 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:38:20,549 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 21:38:20,550 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 24
2022-12-06 21:38:20,652 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 21:38:20,652 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 21:38:21,336 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 21:38:21,337 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 24 finished.
2022-12-06 21:38:21,337 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 25 started.
2022-12-06 21:38:21,338 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 21:38:21,957 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=b02dd267-3619-4be0-85ac-30762954f1ba]: assigned task to client site-2: name=train, id=b02dd267-3619-4be0-85ac-30762954f1ba
2022-12-06 21:38:21,958 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=b02dd267-3619-4be0-85ac-30762954f1ba]: sent task assignment to client
2022-12-06 21:38:22,807 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 21:38:23,219 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c]: assigned task to client site-1: name=train, id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c
2022-12-06 21:38:23,220 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c]: sent task assignment to client
2022-12-06 21:38:24,031 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 21:38:45,434 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.480189085006714 seconds
2022-12-06 21:38:45,466 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:38:45,882 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=b02dd267-3619-4be0-85ac-30762954f1ba
2022-12-06 21:38:45,896 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b02dd267-3619-4be0-85ac-30762954f1ba]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:38:45,897 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b02dd267-3619-4be0-85ac-30762954f1ba]: Client trainer got task: train
2022-12-06 21:38:46,756 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.689066648483276 seconds
2022-12-06 21:38:46,773 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:38:47,199 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c
2022-12-06 21:38:47,199 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:38:47,200 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c]: Client trainer got task: train
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 21:39:07,952 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b02dd267-3619-4be0-85ac-30762954f1ba]: Accuracy when validating site-2's model on site-2s data: 0.9658938451117404
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 21:39:09,369 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c]: Accuracy when validating site-1's model on site-1s data: 0.9641270947056564
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.86      0.82      0.84       222
         eve       0.61      0.66      0.63        96
         geo       0.93      0.95      0.94     14594
         gpe       0.97      0.96      0.96      5584
         nat       0.83      0.78      0.80       116
         org       0.90      0.89      0.90      8377
         per       0.90      0.92      0.91      7230
         tim       0.93      0.93      0.93      6802

   micro avg       0.92      0.93      0.93     43021
   macro avg       0.87      0.86      0.86     43021
weighted avg       0.92      0.93      0.93     43021

F1-score: 0.9889370630823684
val 0/1: 
              precision    recall  f1-score   support

         art       0.09      0.11      0.10        19
         eve       0.22      0.31      0.26        16
         geo       0.83      0.83      0.83      1819
         gpe       0.93      0.92      0.92       731
         nat       0.00      0.00      0.00         6
         org       0.72      0.64      0.68       991
         per       0.72      0.81      0.77       907
         tim       0.80      0.80      0.80       854

   micro avg       0.79      0.79      0.79      5343
   macro avg       0.54      0.55      0.54      5343
weighted avg       0.79      0.79      0.79      5343

F1-score: 0.9616888641601489
2022-12-06 21:47:51,580 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c]: train:
              precision    recall  f1-score   support

         art       0.86      0.82      0.84       222
         eve       0.61      0.66      0.63        96
         geo       0.93      0.95      0.94     14594
         gpe       0.97      0.96      0.96      5584
         nat       0.83      0.78      0.80       116
         org       0.90      0.89      0.90      8377
         per       0.90      0.92      0.91      7230
         tim       0.93      0.93      0.93      6802

   micro avg       0.92      0.93      0.93     43021
   macro avg       0.87      0.86      0.86     43021
weighted avg       0.92      0.93      0.93     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.09      0.11      0.10        19
         eve       0.22      0.31      0.26        16
         geo       0.83      0.83      0.83      1819
         gpe       0.93      0.92      0.92       731
         nat       0.00      0.00      0.00         6
         org       0.72      0.64      0.68       991
         per       0.72      0.81      0.77       907
         tim       0.80      0.80      0.80       854

   micro avg       0.79      0.79      0.79      5343
   macro avg       0.54      0.55      0.54      5343
weighted avg       0.79      0.79      0.79      5343

2022-12-06 21:47:52,175 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 21:47:52,762 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c]: finished processing task
2022-12-06 21:47:52,763 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:47:53,121 - SimulatorServer - INFO - getting AuxCommunicate request
2022-12-06 21:47:53,588 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.74      0.73      0.74       176
         eve       0.64      0.67      0.65       117
         geo       0.92      0.94      0.93     14724
         gpe       0.97      0.95      0.96      5503
         nat       0.77      0.76      0.77        95
         org       0.89      0.88      0.89      8238
         per       0.89      0.91      0.90      6998
         tim       0.93      0.93      0.93      6773

   micro avg       0.92      0.92      0.92     42624
   macro avg       0.84      0.84      0.84     42624
weighted avg       0.92      0.92      0.92     42624

F1-score: 0.9880801174296693
val 0/1: 
              precision    recall  f1-score   support

         art       0.48      0.27      0.34        45
         eve       0.19      0.23      0.21        13
         geo       0.84      0.87      0.86      1773
         gpe       0.93      0.95      0.94       640
         nat       0.38      0.25      0.30        12
         org       0.72      0.72      0.72      1045
         per       0.76      0.76      0.76       940
         tim       0.84      0.85      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.64      0.61      0.62      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.965582867685271
2022-12-06 21:47:53,594 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b02dd267-3619-4be0-85ac-30762954f1ba]: train:
              precision    recall  f1-score   support

         art       0.74      0.73      0.74       176
         eve       0.64      0.67      0.65       117
         geo       0.92      0.94      0.93     14724
         gpe       0.97      0.95      0.96      5503
         nat       0.77      0.76      0.77        95
         org       0.89      0.88      0.89      8238
         per       0.89      0.91      0.90      6998
         tim       0.93      0.93      0.93      6773

   micro avg       0.92      0.92      0.92     42624
   macro avg       0.84      0.84      0.84     42624
weighted avg       0.92      0.92      0.92     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.48      0.27      0.34        45
         eve       0.19      0.23      0.21        13
         geo       0.84      0.87      0.86      1773
         gpe       0.93      0.95      0.94       640
         nat       0.38      0.25      0.30        12
         org       0.72      0.72      0.72      1045
         per       0.76      0.76      0.76       940
         tim       0.84      0.85      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.64      0.61      0.62      5327
weighted avg       0.81      0.82      0.81      5327

-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 21:47:54,407 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b02dd267-3619-4be0-85ac-30762954f1ba]: finished processing task
2022-12-06 21:47:54,408 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:47:55,203 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 21:48:16,416 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670363296 seconds)
2022-12-06 21:48:16,416 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c
2022-12-06 21:48:16,417 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c]: invoking result_received_cb ...
2022-12-06 21:48:16,487 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 21:48:16,488 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c]: finished processing client result by scatter_and_gather
2022-12-06 21:48:16,523 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670363296 seconds). SubmitUpdate time: 22.93495488166809 seconds
2022-12-06 21:48:16,577 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c]: result sent to server for task: name=train, id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c
2022-12-06 21:48:16,578 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:48:19,605 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670363299 seconds)
2022-12-06 21:48:19,605 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=b02dd267-3619-4be0-85ac-30762954f1ba
2022-12-06 21:48:19,605 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b02dd267-3619-4be0-85ac-30762954f1ba]: invoking result_received_cb ...
2022-12-06 21:48:19,768 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b02dd267-3619-4be0-85ac-30762954f1ba]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 21:48:19,768 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b02dd267-3619-4be0-85ac-30762954f1ba]: finished processing client result by scatter_and_gather
2022-12-06 21:48:19,802 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670363299 seconds). SubmitUpdate time: 24.59847640991211 seconds
2022-12-06 21:48:19,807 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:48:19,851 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b02dd267-3619-4be0-85ac-30762954f1ba]: result sent to server for task: name=train, id=b02dd267-3619-4be0-85ac-30762954f1ba
2022-12-06 21:48:19,852 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:48:21,819 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:48:21,921 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:48:23,832 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:48:23,947 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:48:25,845 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:48:25,959 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:48:27,858 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:48:27,971 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:48:29,870 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:48:29,946 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 21:48:29,983 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:48:30,444 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 21:48:30,445 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 25
2022-12-06 21:48:30,594 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 21:48:30,594 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 21:48:31,483 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 21:48:31,484 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 25 finished.
2022-12-06 21:48:31,484 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 26 started.
2022-12-06 21:48:31,485 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 21:48:31,879 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e]: assigned task to client site-1: name=train, id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e
2022-12-06 21:48:31,881 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e]: sent task assignment to client
2022-12-06 21:48:32,733 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 21:48:33,148 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=51c0f3b1-e879-4ff1-bec4-8c536da2469c]: assigned task to client site-2: name=train, id=51c0f3b1-e879-4ff1-bec4-8c536da2469c
2022-12-06 21:48:33,149 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=51c0f3b1-e879-4ff1-bec4-8c536da2469c]: sent task assignment to client
2022-12-06 21:48:33,969 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 21:48:55,490 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.613584995269775 seconds
2022-12-06 21:48:55,492 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:48:55,935 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e
2022-12-06 21:48:55,936 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:48:55,936 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e]: Client trainer got task: train
2022-12-06 21:48:56,702 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.713131189346313 seconds
2022-12-06 21:48:56,720 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:48:57,118 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=51c0f3b1-e879-4ff1-bec4-8c536da2469c
2022-12-06 21:48:57,119 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=51c0f3b1-e879-4ff1-bec4-8c536da2469c]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:48:57,119 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=51c0f3b1-e879-4ff1-bec4-8c536da2469c]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 21:49:18,116 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e]: Accuracy when validating site-1's model on site-1s data: 0.9635246912728733
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 21:49:19,161 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=51c0f3b1-e879-4ff1-bec4-8c536da2469c]: Accuracy when validating site-2's model on site-2s data: 0.9663181199062616
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.88      0.82      0.85       222
         eve       0.59      0.64      0.61        96
         geo       0.92      0.94      0.93     14594
         gpe       0.97      0.95      0.96      5584
         nat       0.79      0.70      0.74       116
         org       0.89      0.88      0.88      8377
         per       0.90      0.92      0.91      7230
         tim       0.92      0.92      0.92      6802

   micro avg       0.92      0.92      0.92     43021
   macro avg       0.86      0.85      0.85     43021
weighted avg       0.92      0.92      0.92     43021

F1-score: 0.9875176868501666
val 0/1: 
              precision    recall  f1-score   support

         art       0.11      0.11      0.11        19
         eve       0.19      0.19      0.19        16
         geo       0.83      0.87      0.85      1819
         gpe       0.95      0.95      0.95       731
         nat       0.00      0.00      0.00         6
         org       0.66      0.66      0.66       991
         per       0.72      0.79      0.75       907
         tim       0.86      0.82      0.84       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.54      0.55      0.54      5343
weighted avg       0.80      0.81      0.80      5343

F1-score: 0.9646093539868604
2022-12-06 21:58:00,513 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e]: train:
              precision    recall  f1-score   support

         art       0.88      0.82      0.85       222
         eve       0.59      0.64      0.61        96
         geo       0.92      0.94      0.93     14594
         gpe       0.97      0.95      0.96      5584
         nat       0.79      0.70      0.74       116
         org       0.89      0.88      0.88      8377
         per       0.90      0.92      0.91      7230
         tim       0.92      0.92      0.92      6802

   micro avg       0.92      0.92      0.92     43021
   macro avg       0.86      0.85      0.85     43021
weighted avg       0.92      0.92      0.92     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.11      0.11      0.11        19
         eve       0.19      0.19      0.19        16
         geo       0.83      0.87      0.85      1819
         gpe       0.95      0.95      0.95       731
         nat       0.00      0.00      0.00         6
         org       0.66      0.66      0.66       991
         per       0.72      0.79      0.75       907
         tim       0.86      0.82      0.84       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.54      0.55      0.54      5343
weighted avg       0.80      0.81      0.80      5343

2022-12-06 21:58:00,896 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 21:58:01,662 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e]: finished processing task
2022-12-06 21:58:01,663 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:58:02,468 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.88      0.81      0.84       176
         eve       0.72      0.74      0.73       117
         geo       0.93      0.95      0.94     14724
         gpe       0.97      0.95      0.96      5503
         nat       0.82      0.79      0.81        95
         org       0.90      0.89      0.90      8238
         per       0.90      0.91      0.91      6998
         tim       0.93      0.92      0.93      6773

   micro avg       0.92      0.93      0.93     42624
   macro avg       0.88      0.87      0.88     42624
weighted avg       0.92      0.93      0.93     42624

F1-score: 0.9891683228595096
val 0/1: 
              precision    recall  f1-score   support

         art       0.61      0.31      0.41        45
         eve       0.17      0.23      0.19        13
         geo       0.85      0.86      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.33      0.08      0.13        12
         org       0.69      0.73      0.71      1045
         per       0.76      0.77      0.76       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.65      0.60      0.61      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9652001328915353
2022-12-06 21:58:04,210 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=51c0f3b1-e879-4ff1-bec4-8c536da2469c]: train:
              precision    recall  f1-score   support

         art       0.88      0.81      0.84       176
         eve       0.72      0.74      0.73       117
         geo       0.93      0.95      0.94     14724
         gpe       0.97      0.95      0.96      5503
         nat       0.82      0.79      0.81        95
         org       0.90      0.89      0.90      8238
         per       0.90      0.91      0.91      6998
         tim       0.93      0.92      0.93      6773

   micro avg       0.92      0.93      0.93     42624
   macro avg       0.88      0.87      0.88     42624
weighted avg       0.92      0.93      0.93     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.61      0.31      0.41        45
         eve       0.17      0.23      0.19        13
         geo       0.85      0.86      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.33      0.08      0.13        12
         org       0.69      0.73      0.71      1045
         per       0.76      0.77      0.76       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.65      0.60      0.61      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-06 21:58:04,382 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 21:58:05,107 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=51c0f3b1-e879-4ff1-bec4-8c536da2469c]: finished processing task
2022-12-06 21:58:05,108 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:58:05,894 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 21:58:25,344 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670363905 seconds)
2022-12-06 21:58:25,344 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e
2022-12-06 21:58:25,344 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e]: invoking result_received_cb ...
2022-12-06 21:58:25,416 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 21:58:25,417 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e]: finished processing client result by scatter_and_gather
2022-12-06 21:58:25,448 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670363905 seconds). SubmitUpdate time: 22.97977328300476 seconds
2022-12-06 21:58:25,501 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e]: result sent to server for task: name=train, id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e
2022-12-06 21:58:25,501 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:58:28,719 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670363908 seconds)
2022-12-06 21:58:28,719 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=51c0f3b1-e879-4ff1-bec4-8c536da2469c
2022-12-06 21:58:28,719 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=51c0f3b1-e879-4ff1-bec4-8c536da2469c]: invoking result_received_cb ...
2022-12-06 21:58:28,878 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=51c0f3b1-e879-4ff1-bec4-8c536da2469c]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 21:58:28,878 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=51c0f3b1-e879-4ff1-bec4-8c536da2469c]: finished processing client result by scatter_and_gather
2022-12-06 21:58:28,910 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670363908 seconds). SubmitUpdate time: 23.016035556793213 seconds
2022-12-06 21:58:28,918 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:58:28,966 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=51c0f3b1-e879-4ff1-bec4-8c536da2469c]: result sent to server for task: name=train, id=51c0f3b1-e879-4ff1-bec4-8c536da2469c
2022-12-06 21:58:28,967 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:58:30,937 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:58:31,047 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:58:32,950 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:58:33,060 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:58:34,961 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:58:35,072 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:58:36,974 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:58:37,084 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:58:38,986 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:58:39,075 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 21:58:39,096 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:58:39,573 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 21:58:39,574 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 26
2022-12-06 21:58:39,663 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 21:58:39,664 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 21:58:40,555 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 21:58:40,556 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 26 finished.
2022-12-06 21:58:40,556 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 27 started.
2022-12-06 21:58:40,556 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 21:58:40,996 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9]: assigned task to client site-1: name=train, id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9
2022-12-06 21:58:40,997 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9]: sent task assignment to client
2022-12-06 21:58:41,853 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 21:58:42,269 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e]: assigned task to client site-2: name=train, id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e
2022-12-06 21:58:42,271 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e]: sent task assignment to client
2022-12-06 21:58:43,074 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 21:59:04,580 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.587476015090942 seconds
2022-12-06 21:59:04,612 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:59:05,032 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9
2022-12-06 21:59:05,033 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:59:05,033 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9]: Client trainer got task: train
2022-12-06 21:59:05,722 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.621071815490723 seconds
2022-12-06 21:59:05,739 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:59:06,151 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e
2022-12-06 21:59:06,151 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:59:06,152 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 21:59:27,192 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9]: Accuracy when validating site-1's model on site-1s data: 0.9663267390277305
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 21:59:28,226 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e]: Accuracy when validating site-2's model on site-2s data: 0.9658812251781551
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.84      0.83      0.84       222
         eve       0.72      0.69      0.70        96
         geo       0.93      0.95      0.94     14594
         gpe       0.97      0.96      0.96      5584
         nat       0.78      0.72      0.75       116
         org       0.90      0.89      0.89      8377
         per       0.90      0.92      0.91      7230
         tim       0.94      0.94      0.94      6802

   micro avg       0.93      0.93      0.93     43021
   macro avg       0.87      0.86      0.87     43021
weighted avg       0.93      0.93      0.93     43021

F1-score: 0.9894927354731852
val 0/1: 
              precision    recall  f1-score   support

         art       0.27      0.16      0.20        19
         eve       0.25      0.25      0.25        16
         geo       0.83      0.87      0.85      1819
         gpe       0.95      0.94      0.95       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.67      0.69       991
         per       0.73      0.80      0.76       907
         tim       0.84      0.81      0.82       854

   micro avg       0.81      0.82      0.81      5343
   macro avg       0.57      0.56      0.57      5343
weighted avg       0.81      0.82      0.81      5343

F1-score: 0.9651935941025052
2022-12-06 22:08:03,452 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9]: train:
              precision    recall  f1-score   support

         art       0.84      0.83      0.84       222
         eve       0.72      0.69      0.70        96
         geo       0.93      0.95      0.94     14594
         gpe       0.97      0.96      0.96      5584
         nat       0.78      0.72      0.75       116
         org       0.90      0.89      0.89      8377
         per       0.90      0.92      0.91      7230
         tim       0.94      0.94      0.94      6802

   micro avg       0.93      0.93      0.93     43021
   macro avg       0.87      0.86      0.87     43021
weighted avg       0.93      0.93      0.93     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.27      0.16      0.20        19
         eve       0.25      0.25      0.25        16
         geo       0.83      0.87      0.85      1819
         gpe       0.95      0.94      0.95       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.67      0.69       991
         per       0.73      0.80      0.76       907
         tim       0.84      0.81      0.82       854

   micro avg       0.81      0.82      0.81      5343
   macro avg       0.57      0.56      0.57      5343
weighted avg       0.81      0.82      0.81      5343

2022-12-06 22:08:04,197 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 22:08:04,283 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9]: finished processing task
2022-12-06 22:08:04,284 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:08:05,084 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.85      0.84      0.85       176
         eve       0.75      0.81      0.78       117
         geo       0.94      0.95      0.95     14724
         gpe       0.97      0.96      0.96      5503
         nat       0.87      0.73      0.79        95
         org       0.91      0.90      0.91      8238
         per       0.92      0.92      0.92      6998
         tim       0.94      0.93      0.94      6773

   micro avg       0.93      0.93      0.93     42624
   macro avg       0.89      0.88      0.89     42624
weighted avg       0.93      0.93      0.93     42624

F1-score: 0.990195518857742
val 0/1: 
              precision    recall  f1-score   support

         art       0.59      0.22      0.32        45
         eve       0.23      0.23      0.23        13
         geo       0.84      0.88      0.86      1773
         gpe       0.93      0.93      0.93       640
         nat       0.33      0.08      0.13        12
         org       0.68      0.72      0.70      1045
         per       0.75      0.76      0.75       940
         tim       0.86      0.86      0.86       859

   micro avg       0.80      0.82      0.81      5327
   macro avg       0.65      0.59      0.60      5327
weighted avg       0.80      0.82      0.81      5327

F1-score: 0.9645185976770688
2022-12-06 22:08:13,231 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e]: train:
              precision    recall  f1-score   support

         art       0.85      0.84      0.85       176
         eve       0.75      0.81      0.78       117
         geo       0.94      0.95      0.95     14724
         gpe       0.97      0.96      0.96      5503
         nat       0.87      0.73      0.79        95
         org       0.91      0.90      0.91      8238
         per       0.92      0.92      0.92      6998
         tim       0.94      0.93      0.94      6773

   micro avg       0.93      0.93      0.93     42624
   macro avg       0.89      0.88      0.89     42624
weighted avg       0.93      0.93      0.93     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.59      0.22      0.32        45
         eve       0.23      0.23      0.23        13
         geo       0.84      0.88      0.86      1773
         gpe       0.93      0.93      0.93       640
         nat       0.33      0.08      0.13        12
         org       0.68      0.72      0.70      1045
         per       0.75      0.76      0.75       940
         tim       0.86      0.86      0.86       859

   micro avg       0.80      0.82      0.81      5327
   macro avg       0.65      0.59      0.60      5327
weighted avg       0.80      0.82      0.81      5327

2022-12-06 22:08:13,404 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 22:08:14,391 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e]: finished processing task
2022-12-06 22:08:14,392 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:08:15,202 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 22:08:27,831 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670364507 seconds)
2022-12-06 22:08:27,831 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9
2022-12-06 22:08:27,831 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9]: invoking result_received_cb ...
2022-12-06 22:08:27,903 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 22:08:27,903 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9]: finished processing client result by scatter_and_gather
2022-12-06 22:08:27,934 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670364507 seconds). SubmitUpdate time: 22.850295305252075 seconds
2022-12-06 22:08:27,989 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9]: result sent to server for task: name=train, id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9
2022-12-06 22:08:27,989 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:08:30,044 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:08:32,054 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:08:34,063 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:08:38,039 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670364518 seconds)
2022-12-06 22:08:38,039 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e
2022-12-06 22:08:38,040 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e]: invoking result_received_cb ...
2022-12-06 22:08:38,197 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 22:08:38,197 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e]: finished processing client result by scatter_and_gather
2022-12-06 22:08:38,201 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:08:38,228 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670364518 seconds). SubmitUpdate time: 23.025827169418335 seconds
2022-12-06 22:08:38,265 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e]: result sent to server for task: name=train, id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e
2022-12-06 22:08:38,266 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:08:40,234 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:08:40,345 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:08:42,247 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:08:42,358 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:08:44,259 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:08:44,394 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:08:46,286 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:08:46,406 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:08:48,298 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:08:48,386 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 22:08:48,417 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:08:48,884 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 22:08:48,885 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 27
2022-12-06 22:08:49,018 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 22:08:49,019 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 22:08:49,894 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 22:08:49,895 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 27 finished.
2022-12-06 22:08:49,895 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 28 started.
2022-12-06 22:08:49,895 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 22:08:50,308 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=f100f96b-3d31-47ef-95f0-68e1d97ebe02]: assigned task to client site-1: name=train, id=f100f96b-3d31-47ef-95f0-68e1d97ebe02
2022-12-06 22:08:50,309 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=f100f96b-3d31-47ef-95f0-68e1d97ebe02]: sent task assignment to client
2022-12-06 22:08:51,163 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 22:08:51,579 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=caae5dab-aca2-4e75-8efa-278418c1d904]: assigned task to client site-2: name=train, id=caae5dab-aca2-4e75-8efa-278418c1d904
2022-12-06 22:08:51,581 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=caae5dab-aca2-4e75-8efa-278418c1d904]: sent task assignment to client
2022-12-06 22:08:52,403 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 22:09:13,836 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.53203535079956 seconds
2022-12-06 22:09:13,841 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:09:14,283 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=f100f96b-3d31-47ef-95f0-68e1d97ebe02
2022-12-06 22:09:14,283 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f100f96b-3d31-47ef-95f0-68e1d97ebe02]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:09:14,297 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f100f96b-3d31-47ef-95f0-68e1d97ebe02]: Client trainer got task: train
2022-12-06 22:09:15,061 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.638065099716187 seconds
2022-12-06 22:09:15,091 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:09:15,510 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=caae5dab-aca2-4e75-8efa-278418c1d904
2022-12-06 22:09:15,511 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=caae5dab-aca2-4e75-8efa-278418c1d904]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:09:15,511 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=caae5dab-aca2-4e75-8efa-278418c1d904]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 22:09:36,572 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f100f96b-3d31-47ef-95f0-68e1d97ebe02]: Accuracy when validating site-1's model on site-1s data: 0.9656236927022477
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 22:09:37,598 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=caae5dab-aca2-4e75-8efa-278418c1d904]: Accuracy when validating site-2's model on site-2s data: 0.9652927832027034
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.89      0.86      0.88       222
         eve       0.71      0.70      0.71        96
         geo       0.94      0.96      0.95     14594
         gpe       0.97      0.96      0.96      5584
         nat       0.69      0.69      0.69       116
         org       0.91      0.90      0.90      8377
         per       0.92      0.93      0.92      7230
         tim       0.94      0.93      0.94      6802

   micro avg       0.93      0.93      0.93     43021
   macro avg       0.87      0.87      0.87     43021
weighted avg       0.93      0.93      0.93     43021

F1-score: 0.9899036717904298
val 0/1: 
              precision    recall  f1-score   support

         art       0.14      0.16      0.15        19
         eve       0.22      0.31      0.26        16
         geo       0.84      0.85      0.84      1819
         gpe       0.94      0.95      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.65      0.68       991
         per       0.70      0.81      0.75       907
         tim       0.82      0.83      0.82       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.55      0.57      0.56      5343
weighted avg       0.80      0.81      0.80      5343

F1-score: 0.9639136544713831
2022-12-06 22:18:18,116 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f100f96b-3d31-47ef-95f0-68e1d97ebe02]: train:
              precision    recall  f1-score   support

         art       0.89      0.86      0.88       222
         eve       0.71      0.70      0.71        96
         geo       0.94      0.96      0.95     14594
         gpe       0.97      0.96      0.96      5584
         nat       0.69      0.69      0.69       116
         org       0.91      0.90      0.90      8377
         per       0.92      0.93      0.92      7230
         tim       0.94      0.93      0.94      6802

   micro avg       0.93      0.93      0.93     43021
   macro avg       0.87      0.87      0.87     43021
weighted avg       0.93      0.93      0.93     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.14      0.16      0.15        19
         eve       0.22      0.31      0.26        16
         geo       0.84      0.85      0.84      1819
         gpe       0.94      0.95      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.65      0.68       991
         per       0.70      0.81      0.75       907
         tim       0.82      0.83      0.82       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.55      0.57      0.56      5343
weighted avg       0.80      0.81      0.80      5343

2022-12-06 22:18:18,715 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 22:18:19,031 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f100f96b-3d31-47ef-95f0-68e1d97ebe02]: finished processing task
2022-12-06 22:18:19,033 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:18:19,834 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.82      0.81      0.81       176
         eve       0.83      0.86      0.85       117
         geo       0.94      0.95      0.95     14724
         gpe       0.97      0.96      0.96      5503
         nat       0.77      0.76      0.76        95
         org       0.91      0.90      0.91      8238
         per       0.91      0.92      0.92      6998
         tim       0.94      0.94      0.94      6773

   micro avg       0.93      0.94      0.93     42624
   macro avg       0.89      0.89      0.89     42624
weighted avg       0.93      0.94      0.93     42624

F1-score: 0.9903329969883637
val 0/1: 
              precision    recall  f1-score   support

         art       0.53      0.22      0.31        45
         eve       0.21      0.23      0.22        13
         geo       0.81      0.89      0.85      1773
         gpe       0.96      0.93      0.95       640
         nat       0.50      0.08      0.14        12
         org       0.73      0.71      0.72      1045
         per       0.77      0.75      0.76       940
         tim       0.84      0.86      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.67      0.58      0.60      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9644407408804961
2022-12-06 22:18:22,725 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=caae5dab-aca2-4e75-8efa-278418c1d904]: train:
              precision    recall  f1-score   support

         art       0.82      0.81      0.81       176
         eve       0.83      0.86      0.85       117
         geo       0.94      0.95      0.95     14724
         gpe       0.97      0.96      0.96      5503
         nat       0.77      0.76      0.76        95
         org       0.91      0.90      0.91      8238
         per       0.91      0.92      0.92      6998
         tim       0.94      0.94      0.94      6773

   micro avg       0.93      0.94      0.93     42624
   macro avg       0.89      0.89      0.89     42624
weighted avg       0.93      0.94      0.93     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.53      0.22      0.31        45
         eve       0.21      0.23      0.22        13
         geo       0.81      0.89      0.85      1773
         gpe       0.96      0.93      0.95       640
         nat       0.50      0.08      0.14        12
         org       0.73      0.71      0.72      1045
         per       0.77      0.75      0.76       940
         tim       0.84      0.86      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.67      0.58      0.60      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-06 22:18:22,898 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 22:18:23,616 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=caae5dab-aca2-4e75-8efa-278418c1d904]: finished processing task
2022-12-06 22:18:23,617 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:18:24,424 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 22:18:42,552 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670365122 seconds)
2022-12-06 22:18:42,552 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=f100f96b-3d31-47ef-95f0-68e1d97ebe02
2022-12-06 22:18:42,552 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f100f96b-3d31-47ef-95f0-68e1d97ebe02]: invoking result_received_cb ...
2022-12-06 22:18:42,621 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f100f96b-3d31-47ef-95f0-68e1d97ebe02]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 22:18:42,622 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f100f96b-3d31-47ef-95f0-68e1d97ebe02]: finished processing client result by scatter_and_gather
2022-12-06 22:18:42,653 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670365122 seconds). SubmitUpdate time: 22.818336486816406 seconds
2022-12-06 22:18:42,707 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f100f96b-3d31-47ef-95f0-68e1d97ebe02]: result sent to server for task: name=train, id=f100f96b-3d31-47ef-95f0-68e1d97ebe02
2022-12-06 22:18:42,708 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:18:47,154 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670365127 seconds)
2022-12-06 22:18:47,154 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=caae5dab-aca2-4e75-8efa-278418c1d904
2022-12-06 22:18:47,155 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=caae5dab-aca2-4e75-8efa-278418c1d904]: invoking result_received_cb ...
2022-12-06 22:18:47,303 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=caae5dab-aca2-4e75-8efa-278418c1d904]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 22:18:47,303 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=caae5dab-aca2-4e75-8efa-278418c1d904]: finished processing client result by scatter_and_gather
2022-12-06 22:18:47,337 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670365127 seconds). SubmitUpdate time: 22.912832260131836 seconds
2022-12-06 22:18:47,342 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:18:47,368 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=caae5dab-aca2-4e75-8efa-278418c1d904]: result sent to server for task: name=train, id=caae5dab-aca2-4e75-8efa-278418c1d904
2022-12-06 22:18:47,369 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:18:49,352 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:18:49,437 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:18:51,362 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:18:51,446 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:18:53,370 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:18:53,455 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:18:55,380 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:18:55,464 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:18:57,390 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:18:57,472 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:18:57,534 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 22:18:57,534 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 22:18:57,535 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 28
2022-12-06 22:18:57,603 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 22:18:57,604 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 22:18:58,191 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 22:18:58,192 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 28 finished.
2022-12-06 22:18:58,192 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 29 started.
2022-12-06 22:18:58,192 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 22:18:59,397 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=ffe8c804-9c02-4a6f-8439-0e7da2c46398]: assigned task to client site-1: name=train, id=ffe8c804-9c02-4a6f-8439-0e7da2c46398
2022-12-06 22:18:59,398 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=ffe8c804-9c02-4a6f-8439-0e7da2c46398]: sent task assignment to client
2022-12-06 22:19:00,216 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 22:19:00,636 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=786226c3-c115-4a2e-b98e-b4271f703680]: assigned task to client site-2: name=train, id=786226c3-c115-4a2e-b98e-b4271f703680
2022-12-06 22:19:00,637 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=786226c3-c115-4a2e-b98e-b4271f703680]: sent task assignment to client
2022-12-06 22:19:01,435 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 22:19:22,912 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.51667809486389 seconds
2022-12-06 22:19:22,945 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:19:23,368 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=ffe8c804-9c02-4a6f-8439-0e7da2c46398
2022-12-06 22:19:23,369 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ffe8c804-9c02-4a6f-8439-0e7da2c46398]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:19:23,369 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ffe8c804-9c02-4a6f-8439-0e7da2c46398]: Client trainer got task: train
2022-12-06 22:19:24,100 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.623175382614136 seconds
2022-12-06 22:19:24,116 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:19:24,525 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=786226c3-c115-4a2e-b98e-b4271f703680
2022-12-06 22:19:24,525 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=786226c3-c115-4a2e-b98e-b4271f703680]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:19:24,526 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=786226c3-c115-4a2e-b98e-b4271f703680]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 22:19:45,572 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ffe8c804-9c02-4a6f-8439-0e7da2c46398]: Accuracy when validating site-1's model on site-1s data: 0.964841772103368
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 22:19:46,654 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=786226c3-c115-4a2e-b98e-b4271f703680]: Accuracy when validating site-2's model on site-2s data: 0.9663811039804243
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.88      0.88      0.88       222
         eve       0.73      0.74      0.74        96
         geo       0.94      0.95      0.95     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.82      0.80      0.81       116
         org       0.91      0.90      0.91      8377
         per       0.91      0.93      0.92      7230
         tim       0.94      0.94      0.94      6802

   micro avg       0.93      0.94      0.93     43021
   macro avg       0.89      0.89      0.89     43021
weighted avg       0.93      0.94      0.93     43021

F1-score: 0.9901361257413389
val 0/1: 
              precision    recall  f1-score   support

         art       0.11      0.05      0.07        19
         eve       0.15      0.19      0.17        16
         geo       0.84      0.86      0.85      1819
         gpe       0.95      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.65      0.68       991
         per       0.71      0.80      0.75       907
         tim       0.84      0.82      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.80      0.81      0.81      5343

F1-score: 0.9642783077857755
2022-12-06 22:28:25,274 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ffe8c804-9c02-4a6f-8439-0e7da2c46398]: train:
              precision    recall  f1-score   support

         art       0.88      0.88      0.88       222
         eve       0.73      0.74      0.74        96
         geo       0.94      0.95      0.95     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.82      0.80      0.81       116
         org       0.91      0.90      0.91      8377
         per       0.91      0.93      0.92      7230
         tim       0.94      0.94      0.94      6802

   micro avg       0.93      0.94      0.93     43021
   macro avg       0.89      0.89      0.89     43021
weighted avg       0.93      0.94      0.93     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.11      0.05      0.07        19
         eve       0.15      0.19      0.17        16
         geo       0.84      0.86      0.85      1819
         gpe       0.95      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.65      0.68       991
         per       0.71      0.80      0.75       907
         tim       0.84      0.82      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.80      0.81      0.81      5343

2022-12-06 22:28:25,285 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 22:28:26,203 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ffe8c804-9c02-4a6f-8439-0e7da2c46398]: finished processing task
2022-12-06 22:28:26,204 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:28:27,020 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.86      0.84      0.85       176
         eve       0.69      0.74      0.71       117
         geo       0.94      0.95      0.95     14724
         gpe       0.97      0.96      0.97      5503
         nat       0.84      0.82      0.83        95
         org       0.91      0.90      0.91      8238
         per       0.92      0.93      0.92      6998
         tim       0.94      0.94      0.94      6773

   micro avg       0.93      0.94      0.94     42624
   macro avg       0.88      0.88      0.88     42624
weighted avg       0.93      0.94      0.94     42624

F1-score: 0.9905193979084892
val 0/1: 
              precision    recall  f1-score   support

         art       0.47      0.18      0.26        45
         eve       0.19      0.23      0.21        13
         geo       0.83      0.88      0.86      1773
         gpe       0.94      0.93      0.94       640
         nat       0.75      0.25      0.38        12
         org       0.76      0.68      0.72      1045
         per       0.72      0.80      0.76       940
         tim       0.85      0.86      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.69      0.60      0.62      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9647851300941871
2022-12-06 22:28:28,785 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=786226c3-c115-4a2e-b98e-b4271f703680]: train:
              precision    recall  f1-score   support

         art       0.86      0.84      0.85       176
         eve       0.69      0.74      0.71       117
         geo       0.94      0.95      0.95     14724
         gpe       0.97      0.96      0.97      5503
         nat       0.84      0.82      0.83        95
         org       0.91      0.90      0.91      8238
         per       0.92      0.93      0.92      6998
         tim       0.94      0.94      0.94      6773

   micro avg       0.93      0.94      0.94     42624
   macro avg       0.88      0.88      0.88     42624
weighted avg       0.93      0.94      0.94     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.47      0.18      0.26        45
         eve       0.19      0.23      0.21        13
         geo       0.83      0.88      0.86      1773
         gpe       0.94      0.93      0.94       640
         nat       0.75      0.25      0.38        12
         org       0.76      0.68      0.72      1045
         per       0.72      0.80      0.76       940
         tim       0.85      0.86      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.69      0.60      0.62      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-06 22:28:29,684 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 22:28:29,916 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=786226c3-c115-4a2e-b98e-b4271f703680]: finished processing task
2022-12-06 22:28:29,917 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:28:30,699 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 22:28:49,805 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670365729 seconds)
2022-12-06 22:28:49,806 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=ffe8c804-9c02-4a6f-8439-0e7da2c46398
2022-12-06 22:28:49,806 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ffe8c804-9c02-4a6f-8439-0e7da2c46398]: invoking result_received_cb ...
2022-12-06 22:28:49,872 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ffe8c804-9c02-4a6f-8439-0e7da2c46398]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 22:28:49,873 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ffe8c804-9c02-4a6f-8439-0e7da2c46398]: finished processing client result by scatter_and_gather
2022-12-06 22:28:49,903 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670365729 seconds). SubmitUpdate time: 22.88269829750061 seconds
2022-12-06 22:28:49,937 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ffe8c804-9c02-4a6f-8439-0e7da2c46398]: result sent to server for task: name=train, id=ffe8c804-9c02-4a6f-8439-0e7da2c46398
2022-12-06 22:28:49,937 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:28:53,454 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670365733 seconds)
2022-12-06 22:28:53,454 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=786226c3-c115-4a2e-b98e-b4271f703680
2022-12-06 22:28:53,454 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=786226c3-c115-4a2e-b98e-b4271f703680]: invoking result_received_cb ...
2022-12-06 22:28:53,611 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=786226c3-c115-4a2e-b98e-b4271f703680]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 22:28:53,611 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=786226c3-c115-4a2e-b98e-b4271f703680]: finished processing client result by scatter_and_gather
2022-12-06 22:28:53,646 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670365733 seconds). SubmitUpdate time: 22.947202444076538 seconds
2022-12-06 22:28:53,649 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:28:53,699 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=786226c3-c115-4a2e-b98e-b4271f703680]: result sent to server for task: name=train, id=786226c3-c115-4a2e-b98e-b4271f703680
2022-12-06 22:28:53,700 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:28:55,659 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:28:55,794 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:28:57,670 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:28:57,804 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:28:59,681 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:28:59,814 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:29:01,691 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:29:01,829 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:29:03,702 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:29:03,807 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 22:29:03,839 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:29:04,306 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 22:29:04,307 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 29
2022-12-06 22:29:04,420 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 22:29:04,420 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 22:29:05,414 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 22:29:05,414 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 29 finished.
2022-12-06 22:29:05,415 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 30 started.
2022-12-06 22:29:05,415 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 22:29:05,708 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=292dc6d6-cae8-49e2-9eef-2f413a4204de]: assigned task to client site-1: name=train, id=292dc6d6-cae8-49e2-9eef-2f413a4204de
2022-12-06 22:29:05,709 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=292dc6d6-cae8-49e2-9eef-2f413a4204de]: sent task assignment to client
2022-12-06 22:29:06,539 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 22:29:06,954 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=f87ed724-8347-48d6-87ec-359cc7c4dd18]: assigned task to client site-2: name=train, id=f87ed724-8347-48d6-87ec-359cc7c4dd18
2022-12-06 22:29:06,956 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=f87ed724-8347-48d6-87ec-359cc7c4dd18]: sent task assignment to client
2022-12-06 22:29:07,756 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 22:29:29,196 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.490243673324585 seconds
2022-12-06 22:29:29,217 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:29:29,648 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=292dc6d6-cae8-49e2-9eef-2f413a4204de
2022-12-06 22:29:29,648 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=292dc6d6-cae8-49e2-9eef-2f413a4204de]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:29:29,648 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=292dc6d6-cae8-49e2-9eef-2f413a4204de]: Client trainer got task: train
2022-12-06 22:29:30,428 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.583951711654663 seconds
2022-12-06 22:29:30,434 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:29:30,852 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=f87ed724-8347-48d6-87ec-359cc7c4dd18
2022-12-06 22:29:30,852 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f87ed724-8347-48d6-87ec-359cc7c4dd18]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:29:30,853 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f87ed724-8347-48d6-87ec-359cc7c4dd18]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 22:29:51,885 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=292dc6d6-cae8-49e2-9eef-2f413a4204de]: Accuracy when validating site-1's model on site-1s data: 0.9641587799980517
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 22:29:52,975 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f87ed724-8347-48d6-87ec-359cc7c4dd18]: Accuracy when validating site-2's model on site-2s data: 0.9667562078020387
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.86      0.86      0.86       222
         eve       0.74      0.76      0.75        96
         geo       0.94      0.96      0.95     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.76      0.70      0.73       116
         org       0.92      0.91      0.91      8377
         per       0.93      0.94      0.93      7230
         tim       0.95      0.95      0.95      6802

   micro avg       0.94      0.94      0.94     43021
   macro avg       0.88      0.88      0.88     43021
weighted avg       0.94      0.94      0.94     43021

F1-score: 0.9912103266800324
val 0/1: 
              precision    recall  f1-score   support

         art       0.06      0.05      0.06        19
         eve       0.21      0.19      0.20        16
         geo       0.83      0.86      0.84      1819
         gpe       0.93      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.68      0.67      0.68       991
         per       0.72      0.80      0.76       907
         tim       0.84      0.81      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.79      0.81      0.80      5343

F1-score: 0.9636866441012873
2022-12-06 22:38:32,787 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=292dc6d6-cae8-49e2-9eef-2f413a4204de]: train:
              precision    recall  f1-score   support

         art       0.86      0.86      0.86       222
         eve       0.74      0.76      0.75        96
         geo       0.94      0.96      0.95     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.76      0.70      0.73       116
         org       0.92      0.91      0.91      8377
         per       0.93      0.94      0.93      7230
         tim       0.95      0.95      0.95      6802

   micro avg       0.94      0.94      0.94     43021
   macro avg       0.88      0.88      0.88     43021
weighted avg       0.94      0.94      0.94     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.06      0.05      0.06        19
         eve       0.21      0.19      0.20        16
         geo       0.83      0.86      0.84      1819
         gpe       0.93      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.68      0.67      0.68       991
         per       0.72      0.80      0.76       907
         tim       0.84      0.81      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.79      0.81      0.80      5343

2022-12-06 22:38:33,698 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 22:38:33,703 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=292dc6d6-cae8-49e2-9eef-2f413a4204de]: finished processing task
2022-12-06 22:38:33,704 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:38:34,500 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.79      0.78      0.79       176
         eve       0.78      0.76      0.77       117
         geo       0.94      0.95      0.94     14724
         gpe       0.97      0.96      0.96      5503
         nat       0.86      0.79      0.82        95
         org       0.90      0.90      0.90      8238
         per       0.90      0.92      0.91      6998
         tim       0.93      0.93      0.93      6773

   micro avg       0.93      0.93      0.93     42624
   macro avg       0.89      0.87      0.88     42624
weighted avg       0.93      0.93      0.93     42624

F1-score: 0.9899587190377114
val 0/1: 
              precision    recall  f1-score   support

         art       0.34      0.27      0.30        45
         eve       0.14      0.23      0.18        13
         geo       0.83      0.89      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.23      0.25      0.24        12
         org       0.74      0.68      0.71      1045
         per       0.75      0.78      0.76       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.60      0.61      0.60      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9645088189596245
2022-12-06 22:38:36,144 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f87ed724-8347-48d6-87ec-359cc7c4dd18]: train:
              precision    recall  f1-score   support

         art       0.79      0.78      0.79       176
         eve       0.78      0.76      0.77       117
         geo       0.94      0.95      0.94     14724
         gpe       0.97      0.96      0.96      5503
         nat       0.86      0.79      0.82        95
         org       0.90      0.90      0.90      8238
         per       0.90      0.92      0.91      6998
         tim       0.93      0.93      0.93      6773

   micro avg       0.93      0.93      0.93     42624
   macro avg       0.89      0.87      0.88     42624
weighted avg       0.93      0.93      0.93     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.34      0.27      0.30        45
         eve       0.14      0.23      0.18        13
         geo       0.83      0.89      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.23      0.25      0.24        12
         org       0.74      0.68      0.71      1045
         per       0.75      0.78      0.76       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.60      0.61      0.60      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-06 22:38:37,020 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 22:38:37,325 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f87ed724-8347-48d6-87ec-359cc7c4dd18]: finished processing task
2022-12-06 22:38:37,327 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:38:38,109 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 22:38:57,283 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670366337 seconds)
2022-12-06 22:38:57,283 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=292dc6d6-cae8-49e2-9eef-2f413a4204de
2022-12-06 22:38:57,284 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=292dc6d6-cae8-49e2-9eef-2f413a4204de]: invoking result_received_cb ...
2022-12-06 22:38:57,353 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=292dc6d6-cae8-49e2-9eef-2f413a4204de]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 22:38:57,353 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=292dc6d6-cae8-49e2-9eef-2f413a4204de]: finished processing client result by scatter_and_gather
2022-12-06 22:38:57,377 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670366337 seconds). SubmitUpdate time: 22.87646508216858 seconds
2022-12-06 22:38:57,425 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=292dc6d6-cae8-49e2-9eef-2f413a4204de]: result sent to server for task: name=train, id=292dc6d6-cae8-49e2-9eef-2f413a4204de
2022-12-06 22:38:57,425 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:39:00,843 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670366340 seconds)
2022-12-06 22:39:00,843 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=f87ed724-8347-48d6-87ec-359cc7c4dd18
2022-12-06 22:39:00,844 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f87ed724-8347-48d6-87ec-359cc7c4dd18]: invoking result_received_cb ...
2022-12-06 22:39:01,009 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f87ed724-8347-48d6-87ec-359cc7c4dd18]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 22:39:01,009 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f87ed724-8347-48d6-87ec-359cc7c4dd18]: finished processing client result by scatter_and_gather
2022-12-06 22:39:01,046 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:39:01,046 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670366340 seconds). SubmitUpdate time: 22.93692946434021 seconds
2022-12-06 22:39:01,079 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f87ed724-8347-48d6-87ec-359cc7c4dd18]: result sent to server for task: name=train, id=f87ed724-8347-48d6-87ec-359cc7c4dd18
2022-12-06 22:39:01,079 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:39:03,058 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:39:03,139 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:39:05,069 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:39:05,149 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:39:07,078 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:39:07,160 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:39:09,089 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:39:09,170 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:39:11,098 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:39:11,180 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:39:11,205 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 22:39:11,703 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 22:39:11,704 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 30
2022-12-06 22:39:11,775 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 22:39:11,775 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 22:39:12,591 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 22:39:12,592 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 30 finished.
2022-12-06 22:39:12,592 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 31 started.
2022-12-06 22:39:12,593 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 22:39:13,105 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=e737992d-81f1-4844-9c7a-08b959d63279]: assigned task to client site-1: name=train, id=e737992d-81f1-4844-9c7a-08b959d63279
2022-12-06 22:39:13,105 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=e737992d-81f1-4844-9c7a-08b959d63279]: sent task assignment to client
2022-12-06 22:39:13,959 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 22:39:14,385 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=fa9624ce-e4c9-4401-9dfc-109500e03524]: assigned task to client site-2: name=train, id=fa9624ce-e4c9-4401-9dfc-109500e03524
2022-12-06 22:39:14,386 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=fa9624ce-e4c9-4401-9dfc-109500e03524]: sent task assignment to client
2022-12-06 22:39:15,192 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 22:39:36,884 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.781254291534424 seconds
2022-12-06 22:39:36,901 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:39:37,305 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=e737992d-81f1-4844-9c7a-08b959d63279
2022-12-06 22:39:37,305 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e737992d-81f1-4844-9c7a-08b959d63279]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:39:37,306 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e737992d-81f1-4844-9c7a-08b959d63279]: Client trainer got task: train
2022-12-06 22:39:37,818 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.63238263130188 seconds
2022-12-06 22:39:37,834 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:39:38,236 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=fa9624ce-e4c9-4401-9dfc-109500e03524
2022-12-06 22:39:38,237 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fa9624ce-e4c9-4401-9dfc-109500e03524]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:39:38,237 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fa9624ce-e4c9-4401-9dfc-109500e03524]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 22:39:59,507 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e737992d-81f1-4844-9c7a-08b959d63279]: Accuracy when validating site-1's model on site-1s data: 0.9646990101173802
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 22:40:00,369 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fa9624ce-e4c9-4401-9dfc-109500e03524]: Accuracy when validating site-2's model on site-2s data: 0.9664695545364567
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.89      0.88      0.88       222
         eve       0.72      0.76      0.74        96
         geo       0.94      0.96      0.95     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.84      0.76      0.80       116
         org       0.92      0.91      0.92      8377
         per       0.93      0.94      0.94      7230
         tim       0.95      0.95      0.95      6802

   micro avg       0.94      0.94      0.94     43021
   macro avg       0.90      0.89      0.89     43021
weighted avg       0.94      0.94      0.94     43021

F1-score: 0.991712649339651
val 0/1: 
              precision    recall  f1-score   support

         art       0.08      0.11      0.09        19
         eve       0.20      0.25      0.22        16
         geo       0.84      0.85      0.84      1819
         gpe       0.93      0.94      0.93       731
         nat       0.20      0.17      0.18         6
         org       0.71      0.68      0.69       991
         per       0.72      0.81      0.76       907
         tim       0.82      0.83      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.56      0.58      0.57      5343
weighted avg       0.80      0.81      0.80      5343

F1-score: 0.963459200725102
2022-12-06 22:48:39,866 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e737992d-81f1-4844-9c7a-08b959d63279]: train:
              precision    recall  f1-score   support

         art       0.89      0.88      0.88       222
         eve       0.72      0.76      0.74        96
         geo       0.94      0.96      0.95     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.84      0.76      0.80       116
         org       0.92      0.91      0.92      8377
         per       0.93      0.94      0.94      7230
         tim       0.95      0.95      0.95      6802

   micro avg       0.94      0.94      0.94     43021
   macro avg       0.90      0.89      0.89     43021
weighted avg       0.94      0.94      0.94     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.08      0.11      0.09        19
         eve       0.20      0.25      0.22        16
         geo       0.84      0.85      0.84      1819
         gpe       0.93      0.94      0.93       731
         nat       0.20      0.17      0.18         6
         org       0.71      0.68      0.69       991
         per       0.72      0.81      0.76       907
         tim       0.82      0.83      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.56      0.58      0.57      5343
weighted avg       0.80      0.81      0.80      5343

2022-12-06 22:48:40,268 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 22:48:40,794 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e737992d-81f1-4844-9c7a-08b959d63279]: finished processing task
2022-12-06 22:48:40,795 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:48:41,608 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.90      0.86      0.88       176
         eve       0.80      0.83      0.82       117
         geo       0.95      0.96      0.95     14724
         gpe       0.97      0.96      0.97      5503
         nat       0.89      0.85      0.87        95
         org       0.92      0.92      0.92      8238
         per       0.93      0.94      0.93      6998
         tim       0.95      0.94      0.95      6773

   micro avg       0.94      0.94      0.94     42624
   macro avg       0.91      0.91      0.91     42624
weighted avg       0.94      0.94      0.94     42624

F1-score: 0.9918469064453375
val 0/1: 
              precision    recall  f1-score   support

         art       0.43      0.27      0.33        45
         eve       0.19      0.23      0.21        13
         geo       0.85      0.87      0.86      1773
         gpe       0.93      0.94      0.94       640
         nat       0.08      0.08      0.08        12
         org       0.71      0.72      0.72      1045
         per       0.75      0.77      0.76       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.60      0.59      0.59      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9658589750344453
2022-12-06 22:48:43,184 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fa9624ce-e4c9-4401-9dfc-109500e03524]: train:
              precision    recall  f1-score   support

         art       0.90      0.86      0.88       176
         eve       0.80      0.83      0.82       117
         geo       0.95      0.96      0.95     14724
         gpe       0.97      0.96      0.97      5503
         nat       0.89      0.85      0.87        95
         org       0.92      0.92      0.92      8238
         per       0.93      0.94      0.93      6998
         tim       0.95      0.94      0.95      6773

   micro avg       0.94      0.94      0.94     42624
   macro avg       0.91      0.91      0.91     42624
weighted avg       0.94      0.94      0.94     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.43      0.27      0.33        45
         eve       0.19      0.23      0.21        13
         geo       0.85      0.87      0.86      1773
         gpe       0.93      0.94      0.94       640
         nat       0.08      0.08      0.08        12
         org       0.71      0.72      0.72      1045
         per       0.75      0.77      0.76       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.60      0.59      0.59      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-06 22:48:44,186 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 22:48:44,327 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fa9624ce-e4c9-4401-9dfc-109500e03524]: finished processing task
2022-12-06 22:48:44,328 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:48:45,134 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 22:49:04,365 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670366944 seconds)
2022-12-06 22:49:04,365 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=e737992d-81f1-4844-9c7a-08b959d63279
2022-12-06 22:49:04,366 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e737992d-81f1-4844-9c7a-08b959d63279]: invoking result_received_cb ...
2022-12-06 22:49:04,436 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e737992d-81f1-4844-9c7a-08b959d63279]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 22:49:04,437 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e737992d-81f1-4844-9c7a-08b959d63279]: finished processing client result by scatter_and_gather
2022-12-06 22:49:04,460 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670366944 seconds). SubmitUpdate time: 22.85182285308838 seconds
2022-12-06 22:49:04,499 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e737992d-81f1-4844-9c7a-08b959d63279]: result sent to server for task: name=train, id=e737992d-81f1-4844-9c7a-08b959d63279
2022-12-06 22:49:04,500 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:49:07,896 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670366947 seconds)
2022-12-06 22:49:07,896 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=fa9624ce-e4c9-4401-9dfc-109500e03524
2022-12-06 22:49:07,897 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fa9624ce-e4c9-4401-9dfc-109500e03524]: invoking result_received_cb ...
2022-12-06 22:49:08,061 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fa9624ce-e4c9-4401-9dfc-109500e03524]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 22:49:08,062 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fa9624ce-e4c9-4401-9dfc-109500e03524]: finished processing client result by scatter_and_gather
2022-12-06 22:49:08,096 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670366947 seconds). SubmitUpdate time: 22.961845874786377 seconds
2022-12-06 22:49:08,098 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:49:08,138 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fa9624ce-e4c9-4401-9dfc-109500e03524]: result sent to server for task: name=train, id=fa9624ce-e4c9-4401-9dfc-109500e03524
2022-12-06 22:49:08,138 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:49:10,109 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:49:10,185 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:49:12,120 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:49:12,194 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:49:14,129 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:49:14,205 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:49:16,139 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:49:16,215 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:49:18,149 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:49:18,225 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:49:18,238 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 22:49:18,738 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 22:49:18,739 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 31
2022-12-06 22:49:18,859 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 22:49:18,859 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 22:49:19,487 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 22:49:19,487 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 31 finished.
2022-12-06 22:49:19,488 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 32 started.
2022-12-06 22:49:19,488 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 22:49:20,157 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87]: assigned task to client site-1: name=train, id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87
2022-12-06 22:49:20,158 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87]: sent task assignment to client
2022-12-06 22:49:20,992 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 22:49:21,411 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=cb2003cc-5d6e-4a9f-8407-4148973e36c4]: assigned task to client site-2: name=train, id=cb2003cc-5d6e-4a9f-8407-4148973e36c4
2022-12-06 22:49:21,412 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=cb2003cc-5d6e-4a9f-8407-4148973e36c4]: sent task assignment to client
2022-12-06 22:49:22,238 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 22:49:43,605 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.45063829421997 seconds
2022-12-06 22:49:43,637 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:49:44,066 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87
2022-12-06 22:49:44,066 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:49:44,067 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87]: Client trainer got task: train
2022-12-06 22:49:45,178 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.948230504989624 seconds
2022-12-06 22:49:45,193 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:49:45,590 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=cb2003cc-5d6e-4a9f-8407-4148973e36c4
2022-12-06 22:49:45,591 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cb2003cc-5d6e-4a9f-8407-4148973e36c4]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:49:45,591 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cb2003cc-5d6e-4a9f-8407-4148973e36c4]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 22:50:06,252 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87]: Accuracy when validating site-1's model on site-1s data: 0.9647032090808169
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 22:50:07,732 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cb2003cc-5d6e-4a9f-8407-4148973e36c4]: Accuracy when validating site-2's model on site-2s data: 0.9660354821702899
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.91      0.89      0.90       222
         eve       0.78      0.79      0.78        96
         geo       0.95      0.96      0.95     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.84      0.79      0.82       116
         org       0.92      0.91      0.92      8377
         per       0.93      0.94      0.93      7230
         tim       0.95      0.95      0.95      6802

   micro avg       0.94      0.94      0.94     43021
   macro avg       0.91      0.90      0.90     43021
weighted avg       0.94      0.94      0.94     43021

F1-score: 0.9915833491458793
val 0/1: 
              precision    recall  f1-score   support

         art       0.21      0.16      0.18        19
         eve       0.09      0.12      0.11        16
         geo       0.84      0.85      0.84      1819
         gpe       0.94      0.94      0.94       731
         nat       0.33      0.17      0.22         6
         org       0.69      0.66      0.67       991
         per       0.71      0.79      0.74       907
         tim       0.83      0.82      0.82       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.58      0.56      0.57      5343
weighted avg       0.79      0.81      0.80      5343

F1-score: 0.9629691584002702
2022-12-06 22:58:46,673 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87]: train:
              precision    recall  f1-score   support

         art       0.91      0.89      0.90       222
         eve       0.78      0.79      0.78        96
         geo       0.95      0.96      0.95     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.84      0.79      0.82       116
         org       0.92      0.91      0.92      8377
         per       0.93      0.94      0.93      7230
         tim       0.95      0.95      0.95      6802

   micro avg       0.94      0.94      0.94     43021
   macro avg       0.91      0.90      0.90     43021
weighted avg       0.94      0.94      0.94     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.21      0.16      0.18        19
         eve       0.09      0.12      0.11        16
         geo       0.84      0.85      0.84      1819
         gpe       0.94      0.94      0.94       731
         nat       0.33      0.17      0.22         6
         org       0.69      0.66      0.67       991
         per       0.71      0.79      0.74       907
         tim       0.83      0.82      0.82       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.58      0.56      0.57      5343
weighted avg       0.79      0.81      0.80      5343

2022-12-06 22:58:47,492 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 22:58:47,599 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87]: finished processing task
2022-12-06 22:58:47,600 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:58:48,400 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.91      0.90      0.91       176
         eve       0.86      0.87      0.87       117
         geo       0.95      0.96      0.96     14724
         gpe       0.97      0.96      0.97      5503
         nat       0.87      0.86      0.87        95
         org       0.94      0.93      0.93      8238
         per       0.93      0.94      0.93      6998
         tim       0.95      0.95      0.95      6773

   micro avg       0.95      0.95      0.95     42624
   macro avg       0.92      0.92      0.92     42624
weighted avg       0.95      0.95      0.95     42624

F1-score: 0.9923585519104454
val 0/1: 
              precision    recall  f1-score   support

         art       0.50      0.27      0.35        45
         eve       0.21      0.23      0.22        13
         geo       0.83      0.88      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.14      0.08      0.11        12
         org       0.72      0.70      0.71      1045
         per       0.73      0.78      0.75       940
         tim       0.84      0.87      0.86       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.62      0.59      0.60      5327
weighted avg       0.80      0.82      0.81      5327

F1-score: 0.96491129522879
2022-12-06 22:58:52,061 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cb2003cc-5d6e-4a9f-8407-4148973e36c4]: train:
              precision    recall  f1-score   support

         art       0.91      0.90      0.91       176
         eve       0.86      0.87      0.87       117
         geo       0.95      0.96      0.96     14724
         gpe       0.97      0.96      0.97      5503
         nat       0.87      0.86      0.87        95
         org       0.94      0.93      0.93      8238
         per       0.93      0.94      0.93      6998
         tim       0.95      0.95      0.95      6773

   micro avg       0.95      0.95      0.95     42624
   macro avg       0.92      0.92      0.92     42624
weighted avg       0.95      0.95      0.95     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.50      0.27      0.35        45
         eve       0.21      0.23      0.22        13
         geo       0.83      0.88      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.14      0.08      0.11        12
         org       0.72      0.70      0.71      1045
         per       0.73      0.78      0.75       940
         tim       0.84      0.87      0.86       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.62      0.59      0.60      5327
weighted avg       0.80      0.82      0.81      5327

2022-12-06 22:58:52,571 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 22:58:53,167 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cb2003cc-5d6e-4a9f-8407-4148973e36c4]: finished processing task
2022-12-06 22:58:53,168 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:58:53,966 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 22:59:11,139 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670367551 seconds)
2022-12-06 22:59:11,139 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87
2022-12-06 22:59:11,140 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87]: invoking result_received_cb ...
2022-12-06 22:59:11,206 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 22:59:11,207 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87]: finished processing client result by scatter_and_gather
2022-12-06 22:59:11,233 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670367551 seconds). SubmitUpdate time: 22.833040714263916 seconds
2022-12-06 22:59:11,275 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87]: result sent to server for task: name=train, id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87
2022-12-06 22:59:11,276 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:59:13,338 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:59:16,674 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670367556 seconds)
2022-12-06 22:59:16,674 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=cb2003cc-5d6e-4a9f-8407-4148973e36c4
2022-12-06 22:59:16,674 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cb2003cc-5d6e-4a9f-8407-4148973e36c4]: invoking result_received_cb ...
2022-12-06 22:59:16,831 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cb2003cc-5d6e-4a9f-8407-4148973e36c4]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 22:59:16,831 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cb2003cc-5d6e-4a9f-8407-4148973e36c4]: finished processing client result by scatter_and_gather
2022-12-06 22:59:16,836 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:59:16,853 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670367556 seconds). SubmitUpdate time: 22.88650131225586 seconds
2022-12-06 22:59:16,907 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cb2003cc-5d6e-4a9f-8407-4148973e36c4]: result sent to server for task: name=train, id=cb2003cc-5d6e-4a9f-8407-4148973e36c4
2022-12-06 22:59:16,907 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:59:18,866 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:59:18,978 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:59:20,876 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:59:20,988 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:59:22,885 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:59:22,999 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:59:24,895 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:59:25,009 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:59:26,905 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:59:27,020 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:59:27,031 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 22:59:27,531 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 22:59:27,532 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 32
2022-12-06 22:59:27,610 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 22:59:27,610 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 22:59:28,317 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 22:59:28,317 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 32 finished.
2022-12-06 22:59:28,317 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 33 started.
2022-12-06 22:59:28,318 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 22:59:28,911 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=94d24132-5fc0-4a6e-b8dd-550be274912e]: assigned task to client site-1: name=train, id=94d24132-5fc0-4a6e-b8dd-550be274912e
2022-12-06 22:59:28,912 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=94d24132-5fc0-4a6e-b8dd-550be274912e]: sent task assignment to client
2022-12-06 22:59:29,731 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 22:59:30,144 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=6cdf72c9-415e-42ba-92af-85c30d0965cc]: assigned task to client site-2: name=train, id=6cdf72c9-415e-42ba-92af-85c30d0965cc
2022-12-06 22:59:30,145 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=6cdf72c9-415e-42ba-92af-85c30d0965cc]: sent task assignment to client
2022-12-06 22:59:30,958 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 22:59:52,491 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.582423210144043 seconds
2022-12-06 22:59:52,523 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:59:52,942 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=94d24132-5fc0-4a6e-b8dd-550be274912e
2022-12-06 22:59:52,942 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=94d24132-5fc0-4a6e-b8dd-550be274912e]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:59:52,942 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=94d24132-5fc0-4a6e-b8dd-550be274912e]: Client trainer got task: train
2022-12-06 22:59:53,603 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.577834129333496 seconds
2022-12-06 22:59:53,618 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:59:54,043 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=6cdf72c9-415e-42ba-92af-85c30d0965cc
2022-12-06 22:59:54,043 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6cdf72c9-415e-42ba-92af-85c30d0965cc]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:59:54,043 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6cdf72c9-415e-42ba-92af-85c30d0965cc]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 23:00:15,118 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=94d24132-5fc0-4a6e-b8dd-550be274912e]: Accuracy when validating site-1's model on site-1s data: 0.9649714211120864
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 23:00:16,189 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6cdf72c9-415e-42ba-92af-85c30d0965cc]: Accuracy when validating site-2's model on site-2s data: 0.9656262855259505
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.90      0.90      0.90       222
         eve       0.80      0.81      0.81        96
         geo       0.95      0.96      0.96     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.85      0.83      0.84       116
         org       0.93      0.93      0.93      8377
         per       0.94      0.95      0.94      7230
         tim       0.95      0.95      0.95      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.91      0.91      0.91     43021
weighted avg       0.95      0.95      0.95     43021

F1-score: 0.9923537977588591
val 0/1: 
              precision    recall  f1-score   support

         art       0.05      0.05      0.05        19
         eve       0.17      0.19      0.18        16
         geo       0.82      0.87      0.84      1819
         gpe       0.96      0.94      0.95       731
         nat       0.12      0.17      0.14         6
         org       0.72      0.64      0.68       991
         per       0.72      0.79      0.76       907
         tim       0.83      0.82      0.82       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.55      0.56      0.55      5343
weighted avg       0.80      0.81      0.80      5343

F1-score: 0.9634927360794471
2022-12-06 23:08:53,599 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=94d24132-5fc0-4a6e-b8dd-550be274912e]: train:
              precision    recall  f1-score   support

         art       0.90      0.90      0.90       222
         eve       0.80      0.81      0.81        96
         geo       0.95      0.96      0.96     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.85      0.83      0.84       116
         org       0.93      0.93      0.93      8377
         per       0.94      0.95      0.94      7230
         tim       0.95      0.95      0.95      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.91      0.91      0.91     43021
weighted avg       0.95      0.95      0.95     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.05      0.05      0.05        19
         eve       0.17      0.19      0.18        16
         geo       0.82      0.87      0.84      1819
         gpe       0.96      0.94      0.95       731
         nat       0.12      0.17      0.14         6
         org       0.72      0.64      0.68       991
         per       0.72      0.79      0.76       907
         tim       0.83      0.82      0.82       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.55      0.56      0.55      5343
weighted avg       0.80      0.81      0.80      5343

2022-12-06 23:08:53,871 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 23:08:54,660 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=94d24132-5fc0-4a6e-b8dd-550be274912e]: finished processing task
2022-12-06 23:08:54,664 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:08:55,461 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.91      0.87      0.89       176
         eve       0.85      0.85      0.85       117
         geo       0.95      0.96      0.96     14724
         gpe       0.97      0.96      0.97      5503
         nat       0.87      0.84      0.86        95
         org       0.93      0.92      0.93      8238
         per       0.94      0.94      0.94      6998
         tim       0.95      0.95      0.95      6773

   micro avg       0.95      0.95      0.95     42624
   macro avg       0.92      0.91      0.92     42624
weighted avg       0.95      0.95      0.95     42624

F1-score: 0.992549656810227
val 0/1: 
              precision    recall  f1-score   support

         art       0.40      0.18      0.25        45
         eve       0.19      0.23      0.21        13
         geo       0.82      0.90      0.86      1773
         gpe       0.96      0.93      0.94       640
         nat       0.25      0.08      0.12        12
         org       0.73      0.71      0.72      1045
         per       0.77      0.76      0.76       940
         tim       0.87      0.85      0.86       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.62      0.58      0.59      5327
weighted avg       0.81      0.82      0.82      5327

F1-score: 0.9661485113087233
2022-12-06 23:08:58,223 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6cdf72c9-415e-42ba-92af-85c30d0965cc]: train:
              precision    recall  f1-score   support

         art       0.91      0.87      0.89       176
         eve       0.85      0.85      0.85       117
         geo       0.95      0.96      0.96     14724
         gpe       0.97      0.96      0.97      5503
         nat       0.87      0.84      0.86        95
         org       0.93      0.92      0.93      8238
         per       0.94      0.94      0.94      6998
         tim       0.95      0.95      0.95      6773

   micro avg       0.95      0.95      0.95     42624
   macro avg       0.92      0.91      0.92     42624
weighted avg       0.95      0.95      0.95     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.40      0.18      0.25        45
         eve       0.19      0.23      0.21        13
         geo       0.82      0.90      0.86      1773
         gpe       0.96      0.93      0.94       640
         nat       0.25      0.08      0.12        12
         org       0.73      0.71      0.72      1045
         per       0.77      0.76      0.76       940
         tim       0.87      0.85      0.86       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.62      0.58      0.59      5327
weighted avg       0.81      0.82      0.82      5327

2022-12-06 23:08:59,059 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 23:08:59,305 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6cdf72c9-415e-42ba-92af-85c30d0965cc]: finished processing task
2022-12-06 23:08:59,307 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:09:00,097 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 23:09:18,443 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670368158 seconds)
2022-12-06 23:09:18,443 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=94d24132-5fc0-4a6e-b8dd-550be274912e
2022-12-06 23:09:18,443 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=94d24132-5fc0-4a6e-b8dd-550be274912e]: invoking result_received_cb ...
2022-12-06 23:09:18,515 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=94d24132-5fc0-4a6e-b8dd-550be274912e]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 23:09:18,515 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=94d24132-5fc0-4a6e-b8dd-550be274912e]: finished processing client result by scatter_and_gather
2022-12-06 23:09:18,545 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670368158 seconds). SubmitUpdate time: 23.0842182636261 seconds
2022-12-06 23:09:18,589 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=94d24132-5fc0-4a6e-b8dd-550be274912e]: result sent to server for task: name=train, id=94d24132-5fc0-4a6e-b8dd-550be274912e
2022-12-06 23:09:18,589 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:09:22,999 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670368162 seconds)
2022-12-06 23:09:22,999 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=6cdf72c9-415e-42ba-92af-85c30d0965cc
2022-12-06 23:09:23,000 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=6cdf72c9-415e-42ba-92af-85c30d0965cc]: invoking result_received_cb ...
2022-12-06 23:09:23,162 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=6cdf72c9-415e-42ba-92af-85c30d0965cc]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 23:09:23,162 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=6cdf72c9-415e-42ba-92af-85c30d0965cc]: finished processing client result by scatter_and_gather
2022-12-06 23:09:23,189 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670368162 seconds). SubmitUpdate time: 23.091578006744385 seconds
2022-12-06 23:09:23,196 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:09:23,215 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6cdf72c9-415e-42ba-92af-85c30d0965cc]: result sent to server for task: name=train, id=6cdf72c9-415e-42ba-92af-85c30d0965cc
2022-12-06 23:09:23,215 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:09:25,205 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:09:25,263 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:09:27,217 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:09:27,272 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:09:29,225 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:09:29,280 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:09:31,233 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:09:31,289 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:09:33,243 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:09:33,298 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:09:33,351 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 23:09:33,851 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 23:09:33,852 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 33
2022-12-06 23:09:33,966 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 23:09:33,966 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 23:09:34,773 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 23:09:34,773 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 33 finished.
2022-12-06 23:09:34,773 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 34 started.
2022-12-06 23:09:34,773 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 23:09:35,250 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=e380486a-6f4d-4bff-b197-92c3540c2a98]: assigned task to client site-1: name=train, id=e380486a-6f4d-4bff-b197-92c3540c2a98
2022-12-06 23:09:35,251 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=e380486a-6f4d-4bff-b197-92c3540c2a98]: sent task assignment to client
2022-12-06 23:09:36,080 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 23:09:36,493 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff]: assigned task to client site-2: name=train, id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff
2022-12-06 23:09:36,494 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff]: sent task assignment to client
2022-12-06 23:09:37,299 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 23:09:59,001 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.753286123275757 seconds
2022-12-06 23:09:59,031 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 23:09:59,453 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=e380486a-6f4d-4bff-b197-92c3540c2a98
2022-12-06 23:09:59,453 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e380486a-6f4d-4bff-b197-92c3540c2a98]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 23:09:59,453 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e380486a-6f4d-4bff-b197-92c3540c2a98]: Client trainer got task: train
2022-12-06 23:09:59,998 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.695972204208374 seconds
2022-12-06 23:10:00,024 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 23:10:00,414 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff
2022-12-06 23:10:00,415 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 23:10:00,415 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 23:10:21,686 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e380486a-6f4d-4bff-b197-92c3540c2a98]: Accuracy when validating site-1's model on site-1s data: 0.96548508770947
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 23:10:22,569 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff]: Accuracy when validating site-2's model on site-2s data: 0.9664042599158698
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.91      0.94      0.93       222
         eve       0.76      0.79      0.78        96
         geo       0.95      0.96      0.96     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.87      0.82      0.84       116
         org       0.93      0.92      0.93      8377
         per       0.94      0.95      0.94      7230
         tim       0.96      0.96      0.96      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.91      0.91      0.91     43021
weighted avg       0.95      0.95      0.95     43021

F1-score: 0.9927048135332689
val 0/1: 
              precision    recall  f1-score   support

         art       0.10      0.11      0.10        19
         eve       0.17      0.25      0.21        16
         geo       0.84      0.86      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.50      0.17      0.25         6
         org       0.69      0.68      0.69       991
         per       0.73      0.80      0.76       907
         tim       0.79      0.83      0.81       854

   micro avg       0.79      0.82      0.81      5343
   macro avg       0.60      0.58      0.58      5343
weighted avg       0.80      0.82      0.81      5343

F1-score: 0.9635242601850829
2022-12-06 23:18:59,144 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e380486a-6f4d-4bff-b197-92c3540c2a98]: train:
              precision    recall  f1-score   support

         art       0.91      0.94      0.93       222
         eve       0.76      0.79      0.78        96
         geo       0.95      0.96      0.96     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.87      0.82      0.84       116
         org       0.93      0.92      0.93      8377
         per       0.94      0.95      0.94      7230
         tim       0.96      0.96      0.96      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.91      0.91      0.91     43021
weighted avg       0.95      0.95      0.95     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.10      0.11      0.10        19
         eve       0.17      0.25      0.21        16
         geo       0.84      0.86      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.50      0.17      0.25         6
         org       0.69      0.68      0.69       991
         per       0.73      0.80      0.76       907
         tim       0.79      0.83      0.81       854

   micro avg       0.79      0.82      0.81      5343
   macro avg       0.60      0.58      0.58      5343
weighted avg       0.80      0.82      0.81      5343

2022-12-06 23:18:59,565 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 23:19:00,273 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e380486a-6f4d-4bff-b197-92c3540c2a98]: finished processing task
2022-12-06 23:19:00,274 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:19:01,070 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.91      0.88      0.90       176
         eve       0.82      0.84      0.83       117
         geo       0.95      0.96      0.96     14724
         gpe       0.98      0.97      0.97      5503
         nat       0.85      0.85      0.85        95
         org       0.93      0.93      0.93      8238
         per       0.94      0.95      0.95      6998
         tim       0.95      0.95      0.95      6773

   micro avg       0.95      0.95      0.95     42624
   macro avg       0.92      0.92      0.92     42624
weighted avg       0.95      0.95      0.95     42624

F1-score: 0.9930696929527757
val 0/1: 
              precision    recall  f1-score   support

         art       0.43      0.22      0.29        45
         eve       0.19      0.23      0.21        13
         geo       0.84      0.88      0.86      1773
         gpe       0.93      0.95      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.70      0.72      0.71      1045
         per       0.75      0.79      0.77       940
         tim       0.86      0.84      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.61      0.59      0.59      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9649107257970813
2022-12-06 23:19:03,483 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff]: train:
              precision    recall  f1-score   support

         art       0.91      0.88      0.90       176
         eve       0.82      0.84      0.83       117
         geo       0.95      0.96      0.96     14724
         gpe       0.98      0.97      0.97      5503
         nat       0.85      0.85      0.85        95
         org       0.93      0.93      0.93      8238
         per       0.94      0.95      0.95      6998
         tim       0.95      0.95      0.95      6773

   micro avg       0.95      0.95      0.95     42624
   macro avg       0.92      0.92      0.92     42624
weighted avg       0.95      0.95      0.95     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.43      0.22      0.29        45
         eve       0.19      0.23      0.21        13
         geo       0.84      0.88      0.86      1773
         gpe       0.93      0.95      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.70      0.72      0.71      1045
         per       0.75      0.79      0.77       940
         tim       0.86      0.84      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.61      0.59      0.59      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-06 23:19:04,374 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 23:19:04,388 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff]: finished processing task
2022-12-06 23:19:04,389 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:19:05,180 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 23:19:23,947 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670368763 seconds)
2022-12-06 23:19:23,947 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=e380486a-6f4d-4bff-b197-92c3540c2a98
2022-12-06 23:19:23,948 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e380486a-6f4d-4bff-b197-92c3540c2a98]: invoking result_received_cb ...
2022-12-06 23:19:24,014 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e380486a-6f4d-4bff-b197-92c3540c2a98]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 23:19:24,015 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e380486a-6f4d-4bff-b197-92c3540c2a98]: finished processing client result by scatter_and_gather
2022-12-06 23:19:24,042 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670368763 seconds). SubmitUpdate time: 22.971105575561523 seconds
2022-12-06 23:19:24,075 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e380486a-6f4d-4bff-b197-92c3540c2a98]: result sent to server for task: name=train, id=e380486a-6f4d-4bff-b197-92c3540c2a98
2022-12-06 23:19:24,076 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:19:28,015 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670368768 seconds)
2022-12-06 23:19:28,015 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff
2022-12-06 23:19:28,016 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff]: invoking result_received_cb ...
2022-12-06 23:19:28,174 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 23:19:28,174 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff]: finished processing client result by scatter_and_gather
2022-12-06 23:19:28,203 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670368768 seconds). SubmitUpdate time: 23.023887395858765 seconds
2022-12-06 23:19:28,204 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:19:28,248 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff]: result sent to server for task: name=train, id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff
2022-12-06 23:19:28,249 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:19:30,215 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:19:30,306 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:19:32,224 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:19:32,316 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:19:34,233 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:19:34,326 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:19:36,242 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:19:36,335 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:19:38,252 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:19:38,344 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:19:38,369 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 23:19:38,869 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 23:19:38,869 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 34
2022-12-06 23:19:38,941 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 23:19:38,941 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 23:19:39,597 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 23:19:39,597 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 34 finished.
2022-12-06 23:19:39,598 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 35 started.
2022-12-06 23:19:39,598 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 23:19:40,259 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=15be52df-a50e-4c03-9365-9aa1e302f0af]: assigned task to client site-1: name=train, id=15be52df-a50e-4c03-9365-9aa1e302f0af
2022-12-06 23:19:40,259 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=15be52df-a50e-4c03-9365-9aa1e302f0af]: sent task assignment to client
2022-12-06 23:19:41,098 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 23:19:41,515 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68]: assigned task to client site-2: name=train, id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68
2022-12-06 23:19:41,517 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68]: sent task assignment to client
2022-12-06 23:19:42,327 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 23:20:03,963 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.70660924911499 seconds
2022-12-06 23:20:03,994 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 23:20:04,438 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=15be52df-a50e-4c03-9365-9aa1e302f0af
2022-12-06 23:20:04,439 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=15be52df-a50e-4c03-9365-9aa1e302f0af]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 23:20:04,439 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=15be52df-a50e-4c03-9365-9aa1e302f0af]: Client trainer got task: train
2022-12-06 23:20:05,162 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.814325094223022 seconds
2022-12-06 23:20:05,177 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 23:20:05,576 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68
2022-12-06 23:20:05,577 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 23:20:05,590 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 23:20:26,638 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=15be52df-a50e-4c03-9365-9aa1e302f0af]: Accuracy when validating site-1's model on site-1s data: 0.9646568305783312
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 23:20:27,742 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68]: Accuracy when validating site-2's model on site-2s data: 0.966294492527813
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.91      0.90      0.90       222
         eve       0.84      0.83      0.84        96
         geo       0.95      0.97      0.96     14594
         gpe       0.98      0.97      0.97      5584
         nat       0.89      0.86      0.88       116
         org       0.93      0.93      0.93      8377
         per       0.93      0.95      0.94      7230
         tim       0.95      0.96      0.96      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.92      0.92      0.92     43021
weighted avg       0.95      0.95      0.95     43021

F1-score: 0.9927409767603756
val 0/1: 
              precision    recall  f1-score   support

         art       0.04      0.05      0.04        19
         eve       0.17      0.25      0.21        16
         geo       0.83      0.86      0.84      1819
         gpe       0.94      0.95      0.94       731
         nat       0.20      0.33      0.25         6
         org       0.69      0.65      0.67       991
         per       0.71      0.80      0.75       907
         tim       0.83      0.83      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.55      0.59      0.57      5343
weighted avg       0.79      0.81      0.80      5343

F1-score: 0.9622645408138052
2022-12-06 23:29:06,144 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=15be52df-a50e-4c03-9365-9aa1e302f0af]: train:
              precision    recall  f1-score   support

         art       0.91      0.90      0.90       222
         eve       0.84      0.83      0.84        96
         geo       0.95      0.97      0.96     14594
         gpe       0.98      0.97      0.97      5584
         nat       0.89      0.86      0.88       116
         org       0.93      0.93      0.93      8377
         per       0.93      0.95      0.94      7230
         tim       0.95      0.96      0.96      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.92      0.92      0.92     43021
weighted avg       0.95      0.95      0.95     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.04      0.05      0.04        19
         eve       0.17      0.25      0.21        16
         geo       0.83      0.86      0.84      1819
         gpe       0.94      0.95      0.94       731
         nat       0.20      0.33      0.25         6
         org       0.69      0.65      0.67       991
         per       0.71      0.80      0.75       907
         tim       0.83      0.83      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.55      0.59      0.57      5343
weighted avg       0.79      0.81      0.80      5343

2022-12-06 23:29:06,342 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 23:29:07,062 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=15be52df-a50e-4c03-9365-9aa1e302f0af]: finished processing task
2022-12-06 23:29:07,064 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:29:07,891 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.86      0.87      0.87       176
         eve       0.82      0.83      0.82       117
         geo       0.96      0.97      0.96     14724
         gpe       0.98      0.97      0.97      5503
         nat       0.84      0.85      0.85        95
         org       0.94      0.93      0.93      8238
         per       0.94      0.95      0.95      6998
         tim       0.95      0.96      0.96      6773

   micro avg       0.95      0.95      0.95     42624
   macro avg       0.91      0.92      0.91     42624
weighted avg       0.95      0.95      0.95     42624

F1-score: 0.9931768623987666
val 0/1: 
              precision    recall  f1-score   support

         art       0.35      0.20      0.25        45
         eve       0.17      0.23      0.19        13
         geo       0.84      0.88      0.86      1773
         gpe       0.92      0.94      0.93       640
         nat       0.20      0.08      0.12        12
         org       0.71      0.71      0.71      1045
         per       0.76      0.78      0.77       940
         tim       0.82      0.84      0.83       859

   micro avg       0.80      0.82      0.81      5327
   macro avg       0.60      0.58      0.58      5327
weighted avg       0.80      0.82      0.81      5327

F1-score: 0.9642533629374903
2022-12-06 23:29:09,599 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68]: train:
              precision    recall  f1-score   support

         art       0.86      0.87      0.87       176
         eve       0.82      0.83      0.82       117
         geo       0.96      0.97      0.96     14724
         gpe       0.98      0.97      0.97      5503
         nat       0.84      0.85      0.85        95
         org       0.94      0.93      0.93      8238
         per       0.94      0.95      0.95      6998
         tim       0.95      0.96      0.96      6773

   micro avg       0.95      0.95      0.95     42624
   macro avg       0.91      0.92      0.91     42624
weighted avg       0.95      0.95      0.95     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.35      0.20      0.25        45
         eve       0.17      0.23      0.19        13
         geo       0.84      0.88      0.86      1773
         gpe       0.92      0.94      0.93       640
         nat       0.20      0.08      0.12        12
         org       0.71      0.71      0.71      1045
         per       0.76      0.78      0.77       940
         tim       0.82      0.84      0.83       859

   micro avg       0.80      0.82      0.81      5327
   macro avg       0.60      0.58      0.58      5327
weighted avg       0.80      0.82      0.81      5327

2022-12-06 23:29:09,771 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 23:29:10,518 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68]: finished processing task
2022-12-06 23:29:10,519 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:29:11,309 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 23:29:30,628 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670369370 seconds)
2022-12-06 23:29:30,628 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=15be52df-a50e-4c03-9365-9aa1e302f0af
2022-12-06 23:29:30,629 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=15be52df-a50e-4c03-9365-9aa1e302f0af]: invoking result_received_cb ...
2022-12-06 23:29:30,703 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=15be52df-a50e-4c03-9365-9aa1e302f0af]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 23:29:30,703 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=15be52df-a50e-4c03-9365-9aa1e302f0af]: finished processing client result by scatter_and_gather
2022-12-06 23:29:30,734 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670369370 seconds). SubmitUpdate time: 22.843071460723877 seconds
2022-12-06 23:29:30,787 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=15be52df-a50e-4c03-9365-9aa1e302f0af]: result sent to server for task: name=train, id=15be52df-a50e-4c03-9365-9aa1e302f0af
2022-12-06 23:29:30,787 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:29:34,006 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670369374 seconds)
2022-12-06 23:29:34,006 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68
2022-12-06 23:29:34,007 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68]: invoking result_received_cb ...
2022-12-06 23:29:34,163 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 23:29:34,164 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68]: finished processing client result by scatter_and_gather
2022-12-06 23:29:34,197 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670369374 seconds). SubmitUpdate time: 22.887624263763428 seconds
2022-12-06 23:29:34,200 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:29:34,217 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68]: result sent to server for task: name=train, id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68
2022-12-06 23:29:34,218 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:29:36,217 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:29:36,292 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:29:38,227 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:29:38,302 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:29:40,238 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:29:40,336 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:29:42,248 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:29:42,348 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:29:44,258 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:29:44,356 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 23:29:44,358 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:29:44,856 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 23:29:44,857 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 35
2022-12-06 23:29:44,976 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 23:29:44,977 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 23:29:45,623 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 23:29:45,623 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 35 finished.
2022-12-06 23:29:45,623 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 36 started.
2022-12-06 23:29:45,624 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 23:29:46,265 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=5f39a388-a9de-4cf2-a308-dadb9533a26f]: assigned task to client site-1: name=train, id=5f39a388-a9de-4cf2-a308-dadb9533a26f
2022-12-06 23:29:46,266 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=5f39a388-a9de-4cf2-a308-dadb9533a26f]: sent task assignment to client
2022-12-06 23:29:47,109 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 23:29:47,525 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=4b033dd4-987c-4a59-8545-ff1dc58af37e]: assigned task to client site-2: name=train, id=4b033dd4-987c-4a59-8545-ff1dc58af37e
2022-12-06 23:29:47,526 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=4b033dd4-987c-4a59-8545-ff1dc58af37e]: sent task assignment to client
2022-12-06 23:29:48,337 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 23:30:09,828 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.565939903259277 seconds
2022-12-06 23:30:09,847 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 23:30:10,266 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=5f39a388-a9de-4cf2-a308-dadb9533a26f
2022-12-06 23:30:10,267 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5f39a388-a9de-4cf2-a308-dadb9533a26f]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 23:30:10,267 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5f39a388-a9de-4cf2-a308-dadb9533a26f]: Client trainer got task: train
2022-12-06 23:30:11,251 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.887882471084595 seconds
2022-12-06 23:30:11,267 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 23:30:11,659 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=4b033dd4-987c-4a59-8545-ff1dc58af37e
2022-12-06 23:30:11,659 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4b033dd4-987c-4a59-8545-ff1dc58af37e]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 23:30:11,660 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4b033dd4-987c-4a59-8545-ff1dc58af37e]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 23:30:32,472 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5f39a388-a9de-4cf2-a308-dadb9533a26f]: Accuracy when validating site-1's model on site-1s data: 0.9637760006342877
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 23:30:33,789 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4b033dd4-987c-4a59-8545-ff1dc58af37e]: Accuracy when validating site-2's model on site-2s data: 0.9652381250777219
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.94      0.92      0.93       222
         eve       0.74      0.81      0.78        96
         geo       0.96      0.97      0.96     14594
         gpe       0.98      0.97      0.97      5584
         nat       0.83      0.82      0.82       116
         org       0.94      0.93      0.94      8377
         per       0.94      0.95      0.95      7230
         tim       0.96      0.96      0.96      6802

   micro avg       0.95      0.96      0.95     43021
   macro avg       0.91      0.92      0.91     43021
weighted avg       0.95      0.96      0.95     43021

F1-score: 0.9933483743663055
val 0/1: 
              precision    recall  f1-score   support

         art       0.06      0.05      0.06        19
         eve       0.19      0.19      0.19        16
         geo       0.84      0.85      0.84      1819
         gpe       0.93      0.95      0.94       731
         nat       0.20      0.17      0.18         6
         org       0.70      0.65      0.67       991
         per       0.71      0.82      0.76       907
         tim       0.83      0.83      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.56      0.56      0.56      5343
weighted avg       0.79      0.81      0.80      5343

F1-score: 0.9635448113738501
2022-12-06 23:39:13,332 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5f39a388-a9de-4cf2-a308-dadb9533a26f]: train:
              precision    recall  f1-score   support

         art       0.94      0.92      0.93       222
         eve       0.74      0.81      0.78        96
         geo       0.96      0.97      0.96     14594
         gpe       0.98      0.97      0.97      5584
         nat       0.83      0.82      0.82       116
         org       0.94      0.93      0.94      8377
         per       0.94      0.95      0.95      7230
         tim       0.96      0.96      0.96      6802

   micro avg       0.95      0.96      0.95     43021
   macro avg       0.91      0.92      0.91     43021
weighted avg       0.95      0.96      0.95     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.06      0.05      0.06        19
         eve       0.19      0.19      0.19        16
         geo       0.84      0.85      0.84      1819
         gpe       0.93      0.95      0.94       731
         nat       0.20      0.17      0.18         6
         org       0.70      0.65      0.67       991
         per       0.71      0.82      0.76       907
         tim       0.83      0.83      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.56      0.56      0.56      5343
weighted avg       0.79      0.81      0.80      5343

2022-12-06 23:39:13,696 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 23:39:14,270 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5f39a388-a9de-4cf2-a308-dadb9533a26f]: finished processing task
2022-12-06 23:39:14,272 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:39:15,078 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.90      0.89      0.90       176
         eve       0.83      0.86      0.85       117
         geo       0.95      0.97      0.96     14724
         gpe       0.98      0.97      0.97      5503
         nat       0.88      0.84      0.86        95
         org       0.93      0.92      0.93      8238
         per       0.93      0.94      0.94      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.95      0.95      0.95     42624
   macro avg       0.92      0.92      0.92     42624
weighted avg       0.95      0.95      0.95     42624

F1-score: 0.9927813128508001
val 0/1: 
              precision    recall  f1-score   support

         art       0.39      0.27      0.32        45
         eve       0.24      0.38      0.29        13
         geo       0.84      0.88      0.86      1773
         gpe       0.94      0.94      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.71      0.72      0.72      1045
         per       0.74      0.77      0.76       940
         tim       0.85      0.86      0.86       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.61      0.61      0.61      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9660805144595493
2022-12-06 23:39:15,181 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4b033dd4-987c-4a59-8545-ff1dc58af37e]: train:
              precision    recall  f1-score   support

         art       0.90      0.89      0.90       176
         eve       0.83      0.86      0.85       117
         geo       0.95      0.97      0.96     14724
         gpe       0.98      0.97      0.97      5503
         nat       0.88      0.84      0.86        95
         org       0.93      0.92      0.93      8238
         per       0.93      0.94      0.94      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.95      0.95      0.95     42624
   macro avg       0.92      0.92      0.92     42624
weighted avg       0.95      0.95      0.95     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.39      0.27      0.32        45
         eve       0.24      0.38      0.29        13
         geo       0.84      0.88      0.86      1773
         gpe       0.94      0.94      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.71      0.72      0.72      1045
         per       0.74      0.77      0.76       940
         tim       0.85      0.86      0.86       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.61      0.61      0.61      5327
weighted avg       0.81      0.82      0.81      5327

-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 23:39:16,085 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4b033dd4-987c-4a59-8545-ff1dc58af37e]: finished processing task
2022-12-06 23:39:16,087 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:39:16,087 - SimulatorServer - INFO - getting AuxCommunicate request
2022-12-06 23:39:16,880 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 23:39:37,992 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670369977 seconds)
2022-12-06 23:39:37,992 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=5f39a388-a9de-4cf2-a308-dadb9533a26f
2022-12-06 23:39:37,993 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5f39a388-a9de-4cf2-a308-dadb9533a26f]: invoking result_received_cb ...
2022-12-06 23:39:38,064 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5f39a388-a9de-4cf2-a308-dadb9533a26f]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 23:39:38,064 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5f39a388-a9de-4cf2-a308-dadb9533a26f]: finished processing client result by scatter_and_gather
2022-12-06 23:39:38,092 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670369977 seconds). SubmitUpdate time: 23.013269662857056 seconds
2022-12-06 23:39:38,140 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5f39a388-a9de-4cf2-a308-dadb9533a26f]: result sent to server for task: name=train, id=5f39a388-a9de-4cf2-a308-dadb9533a26f
2022-12-06 23:39:38,141 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:39:41,129 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670369981 seconds)
2022-12-06 23:39:41,129 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=4b033dd4-987c-4a59-8545-ff1dc58af37e
2022-12-06 23:39:41,130 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4b033dd4-987c-4a59-8545-ff1dc58af37e]: invoking result_received_cb ...
2022-12-06 23:39:41,282 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4b033dd4-987c-4a59-8545-ff1dc58af37e]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 23:39:41,282 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4b033dd4-987c-4a59-8545-ff1dc58af37e]: finished processing client result by scatter_and_gather
2022-12-06 23:39:41,315 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670369981 seconds). SubmitUpdate time: 24.43468403816223 seconds
2022-12-06 23:39:41,317 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:39:41,369 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4b033dd4-987c-4a59-8545-ff1dc58af37e]: result sent to server for task: name=train, id=4b033dd4-987c-4a59-8545-ff1dc58af37e
2022-12-06 23:39:41,370 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:39:43,334 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:39:43,443 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:39:45,345 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:39:45,454 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:39:47,356 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:39:47,465 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:39:49,367 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:39:49,477 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:39:51,378 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:39:51,488 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:39:51,497 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 23:39:51,996 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 23:39:51,996 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 36
2022-12-06 23:39:52,074 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 23:39:52,074 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 23:39:52,699 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 23:39:52,700 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 36 finished.
2022-12-06 23:39:52,700 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 37 started.
2022-12-06 23:39:52,701 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 23:39:53,386 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=152f0271-43fa-46da-970f-2ce6f7451297]: assigned task to client site-1: name=train, id=152f0271-43fa-46da-970f-2ce6f7451297
2022-12-06 23:39:53,386 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=152f0271-43fa-46da-970f-2ce6f7451297]: sent task assignment to client
2022-12-06 23:39:54,207 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 23:39:54,622 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166]: assigned task to client site-2: name=train, id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166
2022-12-06 23:39:54,623 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166]: sent task assignment to client
2022-12-06 23:39:55,454 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 23:40:16,943 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.560418605804443 seconds
2022-12-06 23:40:16,958 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 23:40:17,371 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=152f0271-43fa-46da-970f-2ce6f7451297
2022-12-06 23:40:17,372 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=152f0271-43fa-46da-970f-2ce6f7451297]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 23:40:17,372 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=152f0271-43fa-46da-970f-2ce6f7451297]: Client trainer got task: train
2022-12-06 23:40:18,260 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.76712465286255 seconds
2022-12-06 23:40:18,276 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 23:40:18,703 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166
2022-12-06 23:40:18,704 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 23:40:18,704 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 23:40:39,558 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=152f0271-43fa-46da-970f-2ce6f7451297]: Accuracy when validating site-1's model on site-1s data: 0.9643073218974825
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 23:40:40,823 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166]: Accuracy when validating site-2's model on site-2s data: 0.9666062032240004
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.89      0.87      0.88       222
         eve       0.85      0.85      0.85        96
         geo       0.96      0.97      0.96     14594
         gpe       0.98      0.97      0.98      5584
         nat       0.91      0.84      0.87       116
         org       0.93      0.93      0.93      8377
         per       0.94      0.95      0.94      7230
         tim       0.96      0.96      0.96      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.93      0.92      0.92     43021
weighted avg       0.95      0.95      0.95     43021

F1-score: 0.993163098862277
val 0/1: 
              precision    recall  f1-score   support

         art       0.08      0.05      0.06        19
         eve       0.22      0.25      0.24        16
         geo       0.82      0.87      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.70      0.69      0.69       991
         per       0.74      0.76      0.75       907
         tim       0.83      0.82      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.54      0.55      0.54      5343
weighted avg       0.80      0.81      0.80      5343

F1-score: 0.9643050084764436
2022-12-06 23:49:19,508 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=152f0271-43fa-46da-970f-2ce6f7451297]: train:
              precision    recall  f1-score   support

         art       0.89      0.87      0.88       222
         eve       0.85      0.85      0.85        96
         geo       0.96      0.97      0.96     14594
         gpe       0.98      0.97      0.98      5584
         nat       0.91      0.84      0.87       116
         org       0.93      0.93      0.93      8377
         per       0.94      0.95      0.94      7230
         tim       0.96      0.96      0.96      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.93      0.92      0.92     43021
weighted avg       0.95      0.95      0.95     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.08      0.05      0.06        19
         eve       0.22      0.25      0.24        16
         geo       0.82      0.87      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.70      0.69      0.69       991
         per       0.74      0.76      0.75       907
         tim       0.83      0.82      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.54      0.55      0.54      5343
weighted avg       0.80      0.81      0.80      5343

2022-12-06 23:49:20,331 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 23:49:20,445 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=152f0271-43fa-46da-970f-2ce6f7451297]: finished processing task
2022-12-06 23:49:20,446 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:49:21,249 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.90      0.91      0.91       176
         eve       0.90      0.93      0.92       117
         geo       0.96      0.97      0.97     14724
         gpe       0.98      0.97      0.97      5503
         nat       0.88      0.87      0.88        95
         org       0.94      0.93      0.94      8238
         per       0.95      0.96      0.95      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.96      0.96      0.96     42624
   macro avg       0.93      0.94      0.94     42624
weighted avg       0.96      0.96      0.96     42624

F1-score: 0.9938245562636592
val 0/1: 
              precision    recall  f1-score   support

         art       0.43      0.27      0.33        45
         eve       0.18      0.23      0.20        13
         geo       0.83      0.87      0.85      1773
         gpe       0.92      0.94      0.93       640
         nat       0.50      0.08      0.14        12
         org       0.72      0.71      0.71      1045
         per       0.76      0.78      0.77       940
         tim       0.87      0.85      0.86       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.65      0.59      0.60      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9649058179896127
2022-12-06 23:49:24,288 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166]: train:
              precision    recall  f1-score   support

         art       0.90      0.91      0.91       176
         eve       0.90      0.93      0.92       117
         geo       0.96      0.97      0.97     14724
         gpe       0.98      0.97      0.97      5503
         nat       0.88      0.87      0.88        95
         org       0.94      0.93      0.94      8238
         per       0.95      0.96      0.95      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.96      0.96      0.96     42624
   macro avg       0.93      0.94      0.94     42624
weighted avg       0.96      0.96      0.96     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.43      0.27      0.33        45
         eve       0.18      0.23      0.20        13
         geo       0.83      0.87      0.85      1773
         gpe       0.92      0.94      0.93       640
         nat       0.50      0.08      0.14        12
         org       0.72      0.71      0.71      1045
         per       0.76      0.78      0.77       940
         tim       0.87      0.85      0.86       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.65      0.59      0.60      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-06 23:49:24,647 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 23:49:25,365 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166]: finished processing task
2022-12-06 23:49:25,366 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:49:26,153 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 23:49:44,016 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670370584 seconds)
2022-12-06 23:49:44,016 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=152f0271-43fa-46da-970f-2ce6f7451297
2022-12-06 23:49:44,017 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=152f0271-43fa-46da-970f-2ce6f7451297]: invoking result_received_cb ...
2022-12-06 23:49:44,089 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=152f0271-43fa-46da-970f-2ce6f7451297]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 23:49:44,090 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=152f0271-43fa-46da-970f-2ce6f7451297]: finished processing client result by scatter_and_gather
2022-12-06 23:49:44,120 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670370584 seconds). SubmitUpdate time: 22.87081289291382 seconds
2022-12-06 23:49:44,176 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=152f0271-43fa-46da-970f-2ce6f7451297]: result sent to server for task: name=train, id=152f0271-43fa-46da-970f-2ce6f7451297
2022-12-06 23:49:44,177 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:49:48,908 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670370588 seconds)
2022-12-06 23:49:48,908 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166
2022-12-06 23:49:48,909 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166]: invoking result_received_cb ...
2022-12-06 23:49:49,068 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 23:49:49,069 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166]: finished processing client result by scatter_and_gather
2022-12-06 23:49:49,106 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670370588 seconds). SubmitUpdate time: 22.953054666519165 seconds
2022-12-06 23:49:49,113 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:49:49,124 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166]: result sent to server for task: name=train, id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166
2022-12-06 23:49:49,125 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:49:51,124 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:49:51,196 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:49:53,135 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:49:53,207 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:49:55,144 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:49:55,218 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:49:57,156 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:49:57,228 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:49:59,167 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:49:59,239 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:49:59,240 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 23:49:59,739 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 23:49:59,739 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 37
2022-12-06 23:49:59,856 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 23:49:59,856 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 23:50:00,654 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 23:50:00,654 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 37 finished.
2022-12-06 23:50:00,654 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 38 started.
2022-12-06 23:50:00,655 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 23:50:01,175 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97]: assigned task to client site-1: name=train, id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97
2022-12-06 23:50:01,175 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97]: sent task assignment to client
2022-12-06 23:50:02,013 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 23:50:02,430 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=d2c41848-aaa4-4990-8a86-492a091aee7b]: assigned task to client site-2: name=train, id=d2c41848-aaa4-4990-8a86-492a091aee7b
2022-12-06 23:50:02,431 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=d2c41848-aaa4-4990-8a86-492a091aee7b]: sent task assignment to client
2022-12-06 23:50:03,241 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 23:50:24,882 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.70988965034485 seconds
2022-12-06 23:50:24,901 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 23:50:25,306 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97
2022-12-06 23:50:25,307 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 23:50:25,307 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97]: Client trainer got task: train
2022-12-06 23:50:26,046 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.802154302597046 seconds
2022-12-06 23:50:26,062 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 23:50:26,458 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=d2c41848-aaa4-4990-8a86-492a091aee7b
2022-12-06 23:50:26,458 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d2c41848-aaa4-4990-8a86-492a091aee7b]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 23:50:26,458 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d2c41848-aaa4-4990-8a86-492a091aee7b]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 23:50:47,488 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97]: Accuracy when validating site-1's model on site-1s data: 0.9658147321016622
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 23:50:48,591 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d2c41848-aaa4-4990-8a86-492a091aee7b]: Accuracy when validating site-2's model on site-2s data: 0.9666860171946965
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.96      0.93      0.95       222
         eve       0.87      0.91      0.89        96
         geo       0.96      0.97      0.97     14594
         gpe       0.98      0.97      0.98      5584
         nat       0.91      0.90      0.90       116
         org       0.95      0.94      0.94      8377
         per       0.95      0.96      0.96      7230
         tim       0.97      0.96      0.96      6802

   micro avg       0.96      0.96      0.96     43021
   macro avg       0.94      0.94      0.94     43021
weighted avg       0.96      0.96      0.96     43021

F1-score: 0.994375159970089
val 0/1: 
              precision    recall  f1-score   support

         art       0.13      0.11      0.12        19
         eve       0.10      0.12      0.11        16
         geo       0.83      0.87      0.85      1819
         gpe       0.93      0.94      0.94       731
         nat       0.17      0.17      0.17         6
         org       0.70      0.65      0.68       991
         per       0.72      0.80      0.76       907
         tim       0.84      0.82      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.55      0.56      0.56      5343
weighted avg       0.80      0.81      0.80      5343

F1-score: 0.9644843115388924
2022-12-06 23:59:22,173 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97]: train:
              precision    recall  f1-score   support

         art       0.96      0.93      0.95       222
         eve       0.87      0.91      0.89        96
         geo       0.96      0.97      0.97     14594
         gpe       0.98      0.97      0.98      5584
         nat       0.91      0.90      0.90       116
         org       0.95      0.94      0.94      8377
         per       0.95      0.96      0.96      7230
         tim       0.97      0.96      0.96      6802

   micro avg       0.96      0.96      0.96     43021
   macro avg       0.94      0.94      0.94     43021
weighted avg       0.96      0.96      0.96     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.13      0.11      0.12        19
         eve       0.10      0.12      0.11        16
         geo       0.83      0.87      0.85      1819
         gpe       0.93      0.94      0.94       731
         nat       0.17      0.17      0.17         6
         org       0.70      0.65      0.68       991
         per       0.72      0.80      0.76       907
         tim       0.84      0.82      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.55      0.56      0.56      5343
weighted avg       0.80      0.81      0.80      5343

2022-12-06 23:59:22,719 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 23:59:23,095 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97]: finished processing task
2022-12-06 23:59:23,097 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:59:23,891 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.91      0.91      0.91       176
         eve       0.85      0.86      0.86       117
         geo       0.96      0.97      0.97     14724
         gpe       0.98      0.97      0.98      5503
         nat       0.91      0.89      0.90        95
         org       0.94      0.94      0.94      8238
         per       0.95      0.96      0.95      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.96      0.96      0.96     42624
   macro avg       0.93      0.93      0.93     42624
weighted avg       0.96      0.96      0.96     42624

F1-score: 0.9942257736582123
val 0/1: 
              precision    recall  f1-score   support

         art       0.48      0.22      0.30        45
         eve       0.22      0.31      0.26        13
         geo       0.83      0.89      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.25      0.08      0.12        12
         org       0.74      0.69      0.71      1045
         per       0.73      0.76      0.75       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.63      0.59      0.60      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.964635882335167
2022-12-06 23:59:29,725 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d2c41848-aaa4-4990-8a86-492a091aee7b]: train:
              precision    recall  f1-score   support

         art       0.91      0.91      0.91       176
         eve       0.85      0.86      0.86       117
         geo       0.96      0.97      0.97     14724
         gpe       0.98      0.97      0.98      5503
         nat       0.91      0.89      0.90        95
         org       0.94      0.94      0.94      8238
         per       0.95      0.96      0.95      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.96      0.96      0.96     42624
   macro avg       0.93      0.93      0.93     42624
weighted avg       0.96      0.96      0.96     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.48      0.22      0.30        45
         eve       0.22      0.31      0.26        13
         geo       0.83      0.89      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.25      0.08      0.12        12
         org       0.74      0.69      0.71      1045
         per       0.73      0.76      0.75       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.63      0.59      0.60      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-06 23:59:30,414 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 23:59:30,700 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d2c41848-aaa4-4990-8a86-492a091aee7b]: finished processing task
2022-12-06 23:59:30,701 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:59:31,497 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 23:59:46,595 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670371186 seconds)
2022-12-06 23:59:46,595 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97
2022-12-06 23:59:46,595 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97]: invoking result_received_cb ...
2022-12-06 23:59:46,666 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 23:59:46,667 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97]: finished processing client result by scatter_and_gather
2022-12-06 23:59:46,698 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670371186 seconds). SubmitUpdate time: 22.806907653808594 seconds
2022-12-06 23:59:46,733 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97]: result sent to server for task: name=train, id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97
2022-12-06 23:59:46,733 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:59:48,801 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:59:50,812 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:59:54,327 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670371194 seconds)
2022-12-06 23:59:54,327 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=d2c41848-aaa4-4990-8a86-492a091aee7b
2022-12-06 23:59:54,328 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=d2c41848-aaa4-4990-8a86-492a091aee7b]: invoking result_received_cb ...
2022-12-06 23:59:54,480 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=d2c41848-aaa4-4990-8a86-492a091aee7b]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 23:59:54,481 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=d2c41848-aaa4-4990-8a86-492a091aee7b]: finished processing client result by scatter_and_gather
2022-12-06 23:59:54,485 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:59:54,513 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670371194 seconds). SubmitUpdate time: 23.0158429145813 seconds
2022-12-06 23:59:54,570 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d2c41848-aaa4-4990-8a86-492a091aee7b]: result sent to server for task: name=train, id=d2c41848-aaa4-4990-8a86-492a091aee7b
2022-12-06 23:59:54,571 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:59:56,517 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:59:56,632 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:59:58,528 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:59:58,649 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:00:00,537 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:00:00,659 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:00:02,546 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:00:02,670 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:00:04,557 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:00:04,681 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:00:04,685 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 00:00:05,184 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 00:00:05,185 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 38
2022-12-07 00:00:05,260 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 00:00:05,261 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 00:00:06,033 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 00:00:06,034 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 38 finished.
2022-12-07 00:00:06,035 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 39 started.
2022-12-07 00:00:06,035 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 00:00:06,565 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=ff822734-8076-49d7-be0d-495566bcaea2]: assigned task to client site-1: name=train, id=ff822734-8076-49d7-be0d-495566bcaea2
2022-12-07 00:00:06,566 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=ff822734-8076-49d7-be0d-495566bcaea2]: sent task assignment to client
2022-12-07 00:00:07,408 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 00:00:07,830 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=7c46d073-05f3-4a86-925b-0d4b227873de]: assigned task to client site-2: name=train, id=7c46d073-05f3-4a86-925b-0d4b227873de
2022-12-07 00:00:07,832 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=7c46d073-05f3-4a86-925b-0d4b227873de]: sent task assignment to client
2022-12-07 00:00:08,637 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 00:00:30,347 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.784470319747925 seconds
2022-12-07 00:00:30,379 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:00:30,794 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=ff822734-8076-49d7-be0d-495566bcaea2
2022-12-07 00:00:30,794 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ff822734-8076-49d7-be0d-495566bcaea2]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:00:30,794 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ff822734-8076-49d7-be0d-495566bcaea2]: Client trainer got task: train
2022-12-07 00:00:31,260 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.573349952697754 seconds
2022-12-07 00:00:31,275 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:00:31,715 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=7c46d073-05f3-4a86-925b-0d4b227873de
2022-12-07 00:00:31,715 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7c46d073-05f3-4a86-925b-0d4b227873de]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:00:31,715 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7c46d073-05f3-4a86-925b-0d4b227873de]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 00:00:52,935 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ff822734-8076-49d7-be0d-495566bcaea2]: Accuracy when validating site-1's model on site-1s data: 0.9647858141040391
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 00:00:53,788 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7c46d073-05f3-4a86-925b-0d4b227873de]: Accuracy when validating site-2's model on site-2s data: 0.9652118808809053
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.91      0.92      0.91       176
         eve       0.86      0.89      0.87       117
         geo       0.96      0.97      0.97     14724
         gpe       0.98      0.97      0.98      5503
         nat       0.95      0.87      0.91        95
         org       0.95      0.95      0.95      8238
         per       0.95      0.96      0.95      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.96      0.96      0.96     42624
   macro avg       0.94      0.94      0.94     42624
weighted avg       0.96      0.96      0.96     42624

F1-score: 0.9944145113487395
val 0/1: 
              precision    recall  f1-score   support

         art       0.45      0.22      0.30        45
         eve       0.14      0.23      0.18        13
         geo       0.85      0.88      0.86      1773
         gpe       0.93      0.94      0.93       640
         nat       0.08      0.08      0.08        12
         org       0.72      0.73      0.73      1045
         per       0.77      0.73      0.75       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.60      0.58      0.58      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9655031814818344
2022-12-07 00:09:32,138 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7c46d073-05f3-4a86-925b-0d4b227873de]: train:
              precision    recall  f1-score   support

         art       0.91      0.92      0.91       176
         eve       0.86      0.89      0.87       117
         geo       0.96      0.97      0.97     14724
         gpe       0.98      0.97      0.98      5503
         nat       0.95      0.87      0.91        95
         org       0.95      0.95      0.95      8238
         per       0.95      0.96      0.95      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.96      0.96      0.96     42624
   macro avg       0.94      0.94      0.94     42624
weighted avg       0.96      0.96      0.96     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.45      0.22      0.30        45
         eve       0.14      0.23      0.18        13
         geo       0.85      0.88      0.86      1773
         gpe       0.93      0.94      0.93       640
         nat       0.08      0.08      0.08        12
         org       0.72      0.73      0.73      1045
         per       0.77      0.73      0.75       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.60      0.58      0.58      5327
weighted avg       0.81      0.82      0.81      5327

-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.94      0.91      0.93       222
         eve       0.82      0.88      0.85        96
         geo       0.95      0.97      0.96     14594
         gpe       0.98      0.97      0.97      5584
         nat       0.90      0.89      0.89       116
         org       0.94      0.93      0.93      8377
         per       0.94      0.95      0.94      7230
         tim       0.96      0.96      0.96      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.93      0.93      0.93     43021
weighted avg       0.95      0.95      0.95     43021

F1-score: 0.9931979420184612
val 0/1: 
              precision    recall  f1-score   support

         art       0.07      0.11      0.09        19
         eve       0.16      0.19      0.17        16
         geo       0.84      0.84      0.84      1819
         gpe       0.91      0.95      0.93       731
         nat       0.20      0.17      0.18         6
         org       0.69      0.67      0.68       991
         per       0.73      0.78      0.76       907
         tim       0.85      0.82      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.56      0.57      0.56      5343
weighted avg       0.80      0.81      0.80      5343

F1-score: 0.9635490612247217
2022-12-07 00:09:32,595 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ff822734-8076-49d7-be0d-495566bcaea2]: train:
              precision    recall  f1-score   support

         art       0.94      0.91      0.93       222
         eve       0.82      0.88      0.85        96
         geo       0.95      0.97      0.96     14594
         gpe       0.98      0.97      0.97      5584
         nat       0.90      0.89      0.89       116
         org       0.94      0.93      0.93      8377
         per       0.94      0.95      0.94      7230
         tim       0.96      0.96      0.96      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.93      0.93      0.93     43021
weighted avg       0.95      0.95      0.95     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.07      0.11      0.09        19
         eve       0.16      0.19      0.17        16
         geo       0.84      0.84      0.84      1819
         gpe       0.91      0.95      0.93       731
         nat       0.20      0.17      0.18         6
         org       0.69      0.67      0.68       991
         per       0.73      0.78      0.76       907
         tim       0.85      0.82      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.56      0.57      0.56      5343
weighted avg       0.80      0.81      0.80      5343

2022-12-07 00:09:32,637 - SimulatorServer - INFO - getting AuxCommunicate request
2022-12-07 00:09:32,985 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 00:09:33,038 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7c46d073-05f3-4a86-925b-0d4b227873de]: finished processing task
2022-12-07 00:09:33,040 - FederatedClient - INFO - Starting to push execute result.
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 00:09:33,306 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ff822734-8076-49d7-be0d-495566bcaea2]: finished processing task
2022-12-07 00:09:33,308 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 00:09:33,864 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 00:09:34,142 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 00:09:56,651 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670371796 seconds)
2022-12-07 00:09:56,651 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=7c46d073-05f3-4a86-925b-0d4b227873de
2022-12-07 00:09:56,651 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7c46d073-05f3-4a86-925b-0d4b227873de]: invoking result_received_cb ...
2022-12-07 00:09:56,722 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7c46d073-05f3-4a86-925b-0d4b227873de]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 00:09:56,723 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7c46d073-05f3-4a86-925b-0d4b227873de]: finished processing client result by scatter_and_gather
2022-12-07 00:09:56,747 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670371796 seconds). SubmitUpdate time: 22.883204698562622 seconds
2022-12-07 00:09:56,782 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7c46d073-05f3-4a86-925b-0d4b227873de]: result sent to server for task: name=train, id=7c46d073-05f3-4a86-925b-0d4b227873de
2022-12-07 00:09:56,783 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:09:59,781 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670371799 seconds)
2022-12-07 00:09:59,781 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=ff822734-8076-49d7-be0d-495566bcaea2
2022-12-07 00:09:59,781 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ff822734-8076-49d7-be0d-495566bcaea2]: invoking result_received_cb ...
2022-12-07 00:09:59,939 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ff822734-8076-49d7-be0d-495566bcaea2]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 00:09:59,940 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ff822734-8076-49d7-be0d-495566bcaea2]: finished processing client result by scatter_and_gather
2022-12-07 00:09:59,976 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670371799 seconds). SubmitUpdate time: 25.833155393600464 seconds
2022-12-07 00:09:59,980 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:10:00,015 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ff822734-8076-49d7-be0d-495566bcaea2]: result sent to server for task: name=train, id=ff822734-8076-49d7-be0d-495566bcaea2
2022-12-07 00:10:00,015 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:10:01,991 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:10:02,081 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:10:04,002 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:10:04,091 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:10:06,012 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:10:06,101 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:10:08,023 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:10:08,126 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:10:10,033 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:10:10,130 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 00:10:10,136 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:10:10,630 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 00:10:10,631 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 39
2022-12-07 00:10:10,759 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 00:10:10,759 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 00:10:11,400 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 00:10:11,401 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 39 finished.
2022-12-07 00:10:11,401 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 40 started.
2022-12-07 00:10:11,402 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 00:10:12,041 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1]: assigned task to client site-2: name=train, id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1
2022-12-07 00:10:12,042 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1]: sent task assignment to client
2022-12-07 00:10:12,873 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 00:10:13,285 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58]: assigned task to client site-1: name=train, id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58
2022-12-07 00:10:13,286 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58]: sent task assignment to client
2022-12-07 00:10:14,082 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 00:10:35,502 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.463512420654297 seconds
2022-12-07 00:10:35,525 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:10:35,929 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1
2022-12-07 00:10:35,929 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:10:35,929 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1]: Client trainer got task: train
2022-12-07 00:10:36,918 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.77601909637451 seconds
2022-12-07 00:10:36,934 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:10:37,353 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58
2022-12-07 00:10:37,353 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:10:37,353 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58]: Client trainer got task: train
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 00:10:58,020 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1]: Accuracy when validating site-2's model on site-2s data: 0.9668972536145044
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 00:10:59,515 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58]: Accuracy when validating site-1's model on site-1s data: 0.9655292887805987
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.91      0.92      0.92       222
         eve       0.85      0.84      0.85        96
         geo       0.96      0.97      0.97     14594
         gpe       0.98      0.97      0.98      5584
         nat       0.87      0.85      0.86       116
         org       0.94      0.94      0.94      8377
         per       0.95      0.96      0.96      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.96      0.96      0.96     43021
   macro avg       0.93      0.93      0.93     43021
weighted avg       0.96      0.96      0.96     43021

F1-score: 0.9942879103450524
val 0/1: 
              precision    recall  f1-score   support

         art       0.08      0.05      0.06        19
         eve       0.25      0.31      0.28        16
         geo       0.84      0.86      0.85      1819
         gpe       0.93      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.70      0.68      0.69       991
         per       0.73      0.82      0.77       907
         tim       0.83      0.82      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.54      0.56      0.55      5343
weighted avg       0.80      0.82      0.81      5343

F1-score: 0.96446543767272
2022-12-07 00:19:39,131 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58]: train:
              precision    recall  f1-score   support

         art       0.91      0.92      0.92       222
         eve       0.85      0.84      0.85        96
         geo       0.96      0.97      0.97     14594
         gpe       0.98      0.97      0.98      5584
         nat       0.87      0.85      0.86       116
         org       0.94      0.94      0.94      8377
         per       0.95      0.96      0.96      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.96      0.96      0.96     43021
   macro avg       0.93      0.93      0.93     43021
weighted avg       0.96      0.96      0.96     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.08      0.05      0.06        19
         eve       0.25      0.31      0.28        16
         geo       0.84      0.86      0.85      1819
         gpe       0.93      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.70      0.68      0.69       991
         per       0.73      0.82      0.77       907
         tim       0.83      0.82      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.54      0.56      0.55      5343
weighted avg       0.80      0.82      0.81      5343

2022-12-07 00:19:39,509 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 00:19:40,061 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58]: finished processing task
2022-12-07 00:19:40,063 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 00:19:40,869 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.90      0.92      0.91       176
         eve       0.90      0.91      0.91       117
         geo       0.97      0.97      0.97     14724
         gpe       0.98      0.97      0.98      5503
         nat       0.88      0.86      0.87        95
         org       0.95      0.95      0.95      8238
         per       0.96      0.96      0.96      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.96      0.96      0.96     42624
   macro avg       0.94      0.94      0.94     42624
weighted avg       0.96      0.96      0.96     42624

F1-score: 0.9947875868129418
val 0/1: 
              precision    recall  f1-score   support

         art       0.47      0.16      0.23        45
         eve       0.20      0.31      0.24        13
         geo       0.84      0.88      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.68      0.72      0.70      1045
         per       0.77      0.76      0.77       940
         tim       0.86      0.85      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.62      0.59      0.59      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9647121892853634
2022-12-07 00:19:41,119 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1]: train:
              precision    recall  f1-score   support

         art       0.90      0.92      0.91       176
         eve       0.90      0.91      0.91       117
         geo       0.97      0.97      0.97     14724
         gpe       0.98      0.97      0.98      5503
         nat       0.88      0.86      0.87        95
         org       0.95      0.95      0.95      8238
         per       0.96      0.96      0.96      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.96      0.96      0.96     42624
   macro avg       0.94      0.94      0.94     42624
weighted avg       0.96      0.96      0.96     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.47      0.16      0.23        45
         eve       0.20      0.31      0.24        13
         geo       0.84      0.88      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.68      0.72      0.70      1045
         per       0.77      0.76      0.77       940
         tim       0.86      0.85      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.62      0.59      0.59      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-07 00:19:41,294 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 00:19:42,274 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1]: finished processing task
2022-12-07 00:19:42,275 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 00:19:43,083 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 00:20:03,731 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670372403 seconds)
2022-12-07 00:20:03,731 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58
2022-12-07 00:20:03,732 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58]: invoking result_received_cb ...
2022-12-07 00:20:03,806 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 00:20:03,806 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58]: finished processing client result by scatter_and_gather
2022-12-07 00:20:03,838 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670372403 seconds). SubmitUpdate time: 22.969414234161377 seconds
2022-12-07 00:20:03,899 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58]: result sent to server for task: name=train, id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58
2022-12-07 00:20:03,899 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:20:06,882 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670372406 seconds)
2022-12-07 00:20:06,882 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1
2022-12-07 00:20:06,883 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1]: invoking result_received_cb ...
2022-12-07 00:20:07,042 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 00:20:07,043 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1]: finished processing client result by scatter_and_gather
2022-12-07 00:20:07,077 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670372406 seconds). SubmitUpdate time: 23.99381709098816 seconds
2022-12-07 00:20:07,084 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:20:07,106 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1]: result sent to server for task: name=train, id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1
2022-12-07 00:20:07,106 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:20:09,095 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:20:09,166 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:20:11,105 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:20:11,174 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:20:13,116 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:20:13,185 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:20:15,126 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:20:15,212 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:20:17,137 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:20:17,222 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:20:17,237 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 00:20:17,736 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 00:20:17,738 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 40
2022-12-07 00:20:17,815 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 00:20:17,815 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 00:20:18,440 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 00:20:18,440 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 40 finished.
2022-12-07 00:20:18,440 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 41 started.
2022-12-07 00:20:18,441 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 00:20:19,145 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=390e1e8c-e450-4966-936c-50f661efed06]: assigned task to client site-1: name=train, id=390e1e8c-e450-4966-936c-50f661efed06
2022-12-07 00:20:19,146 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=390e1e8c-e450-4966-936c-50f661efed06]: sent task assignment to client
2022-12-07 00:20:19,989 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 00:20:20,413 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e]: assigned task to client site-2: name=train, id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e
2022-12-07 00:20:20,413 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e]: sent task assignment to client
2022-12-07 00:20:21,255 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 00:20:42,658 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.515562772750854 seconds
2022-12-07 00:20:42,664 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:20:43,108 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=390e1e8c-e450-4966-936c-50f661efed06
2022-12-07 00:20:43,109 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=390e1e8c-e450-4966-936c-50f661efed06]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:20:43,109 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=390e1e8c-e450-4966-936c-50f661efed06]: Client trainer got task: train
2022-12-07 00:20:44,013 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.786861419677734 seconds
2022-12-07 00:20:44,020 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:20:44,438 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e
2022-12-07 00:20:44,438 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:20:44,438 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 00:21:05,299 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=390e1e8c-e450-4966-936c-50f661efed06]: Accuracy when validating site-1's model on site-1s data: 0.9656217178942178
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 00:21:06,520 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e]: Accuracy when validating site-2's model on site-2s data: 0.9656615174773057
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.92      0.91      0.92       222
         eve       0.85      0.88      0.86        96
         geo       0.96      0.97      0.96     14594
         gpe       0.98      0.97      0.98      5584
         nat       0.83      0.87      0.85       116
         org       0.93      0.93      0.93      8377
         per       0.94      0.95      0.94      7230
         tim       0.95      0.96      0.96      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.92      0.93      0.92     43021
weighted avg       0.95      0.95      0.95     43021

F1-score: 0.9930484823611468
val 0/1: 
              precision    recall  f1-score   support

         art       0.09      0.11      0.10        19
         eve       0.19      0.38      0.26        16
         geo       0.85      0.84      0.84      1819
         gpe       0.91      0.95      0.93       731
         nat       0.17      0.17      0.17         6
         org       0.67      0.67      0.67       991
         per       0.71      0.81      0.76       907
         tim       0.83      0.82      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.55      0.59      0.57      5343
weighted avg       0.79      0.81      0.80      5343

F1-score: 0.9624847653579438
2022-12-07 00:29:46,312 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=390e1e8c-e450-4966-936c-50f661efed06]: train:
              precision    recall  f1-score   support

         art       0.92      0.91      0.92       222
         eve       0.85      0.88      0.86        96
         geo       0.96      0.97      0.96     14594
         gpe       0.98      0.97      0.98      5584
         nat       0.83      0.87      0.85       116
         org       0.93      0.93      0.93      8377
         per       0.94      0.95      0.94      7230
         tim       0.95      0.96      0.96      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.92      0.93      0.92     43021
weighted avg       0.95      0.95      0.95     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.09      0.11      0.10        19
         eve       0.19      0.38      0.26        16
         geo       0.85      0.84      0.84      1819
         gpe       0.91      0.95      0.93       731
         nat       0.17      0.17      0.17         6
         org       0.67      0.67      0.67       991
         per       0.71      0.81      0.76       907
         tim       0.83      0.82      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.55      0.59      0.57      5343
weighted avg       0.79      0.81      0.80      5343

2022-12-07 00:29:47,049 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 00:29:47,440 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=390e1e8c-e450-4966-936c-50f661efed06]: finished processing task
2022-12-07 00:29:47,442 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 00:29:48,255 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.93      0.93      0.93       176
         eve       0.85      0.87      0.86       117
         geo       0.97      0.97      0.97     14724
         gpe       0.98      0.97      0.98      5503
         nat       0.89      0.84      0.86        95
         org       0.95      0.95      0.95      8238
         per       0.95      0.96      0.95      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.96      0.96      0.96     42624
   macro avg       0.93      0.93      0.93     42624
weighted avg       0.96      0.96      0.96     42624

F1-score: 0.9946755299075904
val 0/1: 
              precision    recall  f1-score   support

         art       0.37      0.22      0.28        45
         eve       0.20      0.31      0.24        13
         geo       0.83      0.89      0.85      1773
         gpe       0.94      0.94      0.94       640
         nat       0.08      0.08      0.08        12
         org       0.73      0.71      0.72      1045
         per       0.76      0.76      0.76       940
         tim       0.87      0.84      0.86       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.60      0.59      0.59      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9658460819326438
2022-12-07 00:29:49,293 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e]: train:
              precision    recall  f1-score   support

         art       0.93      0.93      0.93       176
         eve       0.85      0.87      0.86       117
         geo       0.97      0.97      0.97     14724
         gpe       0.98      0.97      0.98      5503
         nat       0.89      0.84      0.86        95
         org       0.95      0.95      0.95      8238
         per       0.95      0.96      0.95      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.96      0.96      0.96     42624
   macro avg       0.93      0.93      0.93     42624
weighted avg       0.96      0.96      0.96     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.37      0.22      0.28        45
         eve       0.20      0.31      0.24        13
         geo       0.83      0.89      0.85      1773
         gpe       0.94      0.94      0.94       640
         nat       0.08      0.08      0.08        12
         org       0.73      0.71      0.72      1045
         per       0.76      0.76      0.76       940
         tim       0.87      0.84      0.86       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.60      0.59      0.59      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-07 00:29:49,602 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 00:29:50,195 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e]: finished processing task
2022-12-07 00:29:50,196 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 00:29:50,983 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 00:30:11,032 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670373011 seconds)
2022-12-07 00:30:11,032 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=390e1e8c-e450-4966-936c-50f661efed06
2022-12-07 00:30:11,033 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=390e1e8c-e450-4966-936c-50f661efed06]: invoking result_received_cb ...
2022-12-07 00:30:11,099 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=390e1e8c-e450-4966-936c-50f661efed06]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 00:30:11,099 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=390e1e8c-e450-4966-936c-50f661efed06]: finished processing client result by scatter_and_gather
2022-12-07 00:30:11,132 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670373011 seconds). SubmitUpdate time: 22.877084732055664 seconds
2022-12-07 00:30:11,166 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=390e1e8c-e450-4966-936c-50f661efed06]: result sent to server for task: name=train, id=390e1e8c-e450-4966-936c-50f661efed06
2022-12-07 00:30:11,167 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:30:14,187 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670373014 seconds)
2022-12-07 00:30:14,187 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e
2022-12-07 00:30:14,187 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e]: invoking result_received_cb ...
2022-12-07 00:30:14,343 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 00:30:14,343 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e]: finished processing client result by scatter_and_gather
2022-12-07 00:30:14,377 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670373014 seconds). SubmitUpdate time: 23.394407987594604 seconds
2022-12-07 00:30:14,382 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:30:14,411 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e]: result sent to server for task: name=train, id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e
2022-12-07 00:30:14,412 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:30:16,393 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:30:16,484 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:30:18,404 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:30:18,495 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:30:20,413 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:30:20,505 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:30:22,424 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:30:22,515 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:30:24,435 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:30:24,524 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:30:24,546 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 00:30:24,546 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 00:30:24,547 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 41
2022-12-07 00:30:24,668 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 00:30:24,668 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 00:30:25,568 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 00:30:25,568 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 41 finished.
2022-12-07 00:30:25,569 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 42 started.
2022-12-07 00:30:25,569 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 00:30:26,442 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=b20c59bb-5416-47cf-a69c-a36503c82f41]: assigned task to client site-1: name=train, id=b20c59bb-5416-47cf-a69c-a36503c82f41
2022-12-07 00:30:26,443 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=b20c59bb-5416-47cf-a69c-a36503c82f41]: sent task assignment to client
2022-12-07 00:30:27,268 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 00:30:27,683 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=9d923cc5-4412-4e6e-8a6b-98498d22e888]: assigned task to client site-2: name=train, id=9d923cc5-4412-4e6e-8a6b-98498d22e888
2022-12-07 00:30:27,684 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=9d923cc5-4412-4e6e-8a6b-98498d22e888]: sent task assignment to client
2022-12-07 00:30:28,509 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 00:30:50,277 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.83695387840271 seconds
2022-12-07 00:30:50,278 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:30:50,692 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=b20c59bb-5416-47cf-a69c-a36503c82f41
2022-12-07 00:30:50,692 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b20c59bb-5416-47cf-a69c-a36503c82f41]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:30:50,692 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b20c59bb-5416-47cf-a69c-a36503c82f41]: Client trainer got task: train
2022-12-07 00:30:51,300 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.77153754234314 seconds
2022-12-07 00:30:51,318 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:30:51,719 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=9d923cc5-4412-4e6e-8a6b-98498d22e888
2022-12-07 00:30:51,719 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9d923cc5-4412-4e6e-8a6b-98498d22e888]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:30:51,719 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9d923cc5-4412-4e6e-8a6b-98498d22e888]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 00:31:12,913 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b20c59bb-5416-47cf-a69c-a36503c82f41]: Accuracy when validating site-1's model on site-1s data: 0.9660995346245411
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 00:31:13,803 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9d923cc5-4412-4e6e-8a6b-98498d22e888]: Accuracy when validating site-2's model on site-2s data: 0.9670618678955943
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.93      0.93      0.93       222
         eve       0.78      0.85      0.82        96
         geo       0.97      0.98      0.97     14594
         gpe       0.98      0.98      0.98      5584
         nat       0.89      0.93      0.91       116
         org       0.95      0.95      0.95      8377
         per       0.95      0.96      0.96      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.96      0.97      0.96     43021
   macro avg       0.93      0.94      0.94     43021
weighted avg       0.96      0.97      0.96     43021

F1-score: 0.9948772313019255
val 0/1: 
              precision    recall  f1-score   support

         art       0.09      0.11      0.10        19
         eve       0.17      0.25      0.21        16
         geo       0.84      0.86      0.85      1819
         gpe       0.90      0.95      0.92       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.64      0.68       991
         per       0.71      0.80      0.75       907
         tim       0.85      0.82      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.53      0.55      0.54      5343
weighted avg       0.80      0.81      0.80      5343

F1-score: 0.9632878401529235
2022-12-07 00:39:53,431 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b20c59bb-5416-47cf-a69c-a36503c82f41]: train:
              precision    recall  f1-score   support

         art       0.93      0.93      0.93       222
         eve       0.78      0.85      0.82        96
         geo       0.97      0.98      0.97     14594
         gpe       0.98      0.98      0.98      5584
         nat       0.89      0.93      0.91       116
         org       0.95      0.95      0.95      8377
         per       0.95      0.96      0.96      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.96      0.97      0.96     43021
   macro avg       0.93      0.94      0.94     43021
weighted avg       0.96      0.97      0.96     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.09      0.11      0.10        19
         eve       0.17      0.25      0.21        16
         geo       0.84      0.86      0.85      1819
         gpe       0.90      0.95      0.92       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.64      0.68       991
         per       0.71      0.80      0.75       907
         tim       0.85      0.82      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.53      0.55      0.54      5343
weighted avg       0.80      0.81      0.80      5343

2022-12-07 00:39:53,657 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.95      0.94      0.95       176
         eve       0.88      0.91      0.90       117
         geo       0.96      0.97      0.97     14724
         gpe       0.98      0.98      0.98      5503
         nat       0.88      0.92      0.90        95
         org       0.95      0.95      0.95      8238
         per       0.95      0.96      0.96      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.96      0.97      0.96     42624
   macro avg       0.94      0.95      0.95     42624
weighted avg       0.96      0.97      0.96     42624

F1-score: 0.994789342671301
val 0/1: 
              precision    recall  f1-score   support

         art       0.56      0.22      0.32        45
         eve       0.29      0.31      0.30        13
         geo       0.86      0.85      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.12      0.08      0.10        12
         org       0.68      0.75      0.71      1045
         per       0.78      0.74      0.76       940
         tim       0.86      0.85      0.86       859

   micro avg       0.81      0.81      0.81      5327
   macro avg       0.64      0.59      0.60      5327
weighted avg       0.81      0.81      0.81      5327

F1-score: 0.9647851054198374
2022-12-07 00:39:53,783 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9d923cc5-4412-4e6e-8a6b-98498d22e888]: train:
              precision    recall  f1-score   support

         art       0.95      0.94      0.95       176
         eve       0.88      0.91      0.90       117
         geo       0.96      0.97      0.97     14724
         gpe       0.98      0.98      0.98      5503
         nat       0.88      0.92      0.90        95
         org       0.95      0.95      0.95      8238
         per       0.95      0.96      0.96      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.96      0.97      0.96     42624
   macro avg       0.94      0.95      0.95     42624
weighted avg       0.96      0.97      0.96     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.56      0.22      0.32        45
         eve       0.29      0.31      0.30        13
         geo       0.86      0.85      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.12      0.08      0.10        12
         org       0.68      0.75      0.71      1045
         per       0.78      0.74      0.76       940
         tim       0.86      0.85      0.86       859

   micro avg       0.81      0.81      0.81      5327
   macro avg       0.64      0.59      0.60      5327
weighted avg       0.81      0.81      0.81      5327

2022-12-07 00:39:53,948 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 00:39:54,709 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b20c59bb-5416-47cf-a69c-a36503c82f41]: finished processing task
2022-12-07 00:39:54,710 - FederatedClient - INFO - Starting to push execute result.
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 00:39:54,711 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9d923cc5-4412-4e6e-8a6b-98498d22e888]: finished processing task
2022-12-07 00:39:54,712 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 00:39:55,548 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 00:39:55,558 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 00:40:18,380 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670373618 seconds)
2022-12-07 00:40:18,381 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=b20c59bb-5416-47cf-a69c-a36503c82f41
2022-12-07 00:40:18,381 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b20c59bb-5416-47cf-a69c-a36503c82f41]: invoking result_received_cb ...
2022-12-07 00:40:18,448 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b20c59bb-5416-47cf-a69c-a36503c82f41]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 00:40:18,448 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b20c59bb-5416-47cf-a69c-a36503c82f41]: finished processing client result by scatter_and_gather
2022-12-07 00:40:18,479 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670373618 seconds). SubmitUpdate time: 22.93007755279541 seconds
2022-12-07 00:40:18,524 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b20c59bb-5416-47cf-a69c-a36503c82f41]: result sent to server for task: name=train, id=b20c59bb-5416-47cf-a69c-a36503c82f41
2022-12-07 00:40:18,525 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:40:21,554 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670373621 seconds)
2022-12-07 00:40:21,554 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=9d923cc5-4412-4e6e-8a6b-98498d22e888
2022-12-07 00:40:21,555 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9d923cc5-4412-4e6e-8a6b-98498d22e888]: invoking result_received_cb ...
2022-12-07 00:40:21,719 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9d923cc5-4412-4e6e-8a6b-98498d22e888]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 00:40:21,719 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9d923cc5-4412-4e6e-8a6b-98498d22e888]: finished processing client result by scatter_and_gather
2022-12-07 00:40:21,753 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:40:21,753 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670373621 seconds). SubmitUpdate time: 26.19538187980652 seconds
2022-12-07 00:40:21,781 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9d923cc5-4412-4e6e-8a6b-98498d22e888]: result sent to server for task: name=train, id=9d923cc5-4412-4e6e-8a6b-98498d22e888
2022-12-07 00:40:21,782 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:40:23,763 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:40:23,840 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:40:25,770 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:40:25,851 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:40:27,780 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:40:27,862 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:40:29,789 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:40:29,872 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:40:31,798 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:40:31,882 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:40:31,908 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 00:40:32,407 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 00:40:32,407 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 42
2022-12-07 00:40:32,491 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 00:40:32,492 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 00:40:33,018 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 00:40:33,019 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 42 finished.
2022-12-07 00:40:33,019 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 43 started.
2022-12-07 00:40:33,019 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 00:40:33,807 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=140206bc-2277-4280-8717-0ea0ecec0830]: assigned task to client site-1: name=train, id=140206bc-2277-4280-8717-0ea0ecec0830
2022-12-07 00:40:33,807 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=140206bc-2277-4280-8717-0ea0ecec0830]: sent task assignment to client
2022-12-07 00:40:34,630 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 00:40:35,043 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8]: assigned task to client site-2: name=train, id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8
2022-12-07 00:40:35,043 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8]: sent task assignment to client
2022-12-07 00:40:35,848 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 00:40:57,572 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.76827597618103 seconds
2022-12-07 00:40:57,590 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:40:58,043 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=140206bc-2277-4280-8717-0ea0ecec0830
2022-12-07 00:40:58,043 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=140206bc-2277-4280-8717-0ea0ecec0830]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:40:58,043 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=140206bc-2277-4280-8717-0ea0ecec0830]: Client trainer got task: train
2022-12-07 00:40:58,725 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.838563442230225 seconds
2022-12-07 00:40:58,756 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:40:59,172 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8
2022-12-07 00:40:59,173 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:40:59,173 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 00:41:20,250 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=140206bc-2277-4280-8717-0ea0ecec0830]: Accuracy when validating site-1's model on site-1s data: 0.9647664008132669
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 00:41:21,253 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8]: Accuracy when validating site-2's model on site-2s data: 0.9665672292616114
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.95      0.95      0.95       222
         eve       0.87      0.88      0.87        96
         geo       0.97      0.98      0.97     14594
         gpe       0.98      0.98      0.98      5584
         nat       0.91      0.88      0.89       116
         org       0.95      0.95      0.95      8377
         per       0.96      0.96      0.96      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.97      0.97      0.97     43021
   macro avg       0.95      0.94      0.94     43021
weighted avg       0.97      0.97      0.97     43021

F1-score: 0.9950464477513561
val 0/1: 
              precision    recall  f1-score   support

         art       0.14      0.11      0.12        19
         eve       0.16      0.19      0.17        16
         geo       0.83      0.86      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.29      0.33      0.31         6
         org       0.68      0.70      0.69       991
         per       0.75      0.76      0.75       907
         tim       0.84      0.83      0.84       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.58      0.59      0.58      5343
weighted avg       0.80      0.81      0.81      5343

F1-score: 0.9638805348080126
2022-12-07 00:50:00,344 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=140206bc-2277-4280-8717-0ea0ecec0830]: train:
              precision    recall  f1-score   support

         art       0.95      0.95      0.95       222
         eve       0.87      0.88      0.87        96
         geo       0.97      0.98      0.97     14594
         gpe       0.98      0.98      0.98      5584
         nat       0.91      0.88      0.89       116
         org       0.95      0.95      0.95      8377
         per       0.96      0.96      0.96      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.97      0.97      0.97     43021
   macro avg       0.95      0.94      0.94     43021
weighted avg       0.97      0.97      0.97     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.14      0.11      0.12        19
         eve       0.16      0.19      0.17        16
         geo       0.83      0.86      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.29      0.33      0.31         6
         org       0.68      0.70      0.69       991
         per       0.75      0.76      0.75       907
         tim       0.84      0.83      0.84       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.58      0.59      0.58      5343
weighted avg       0.80      0.81      0.81      5343

2022-12-07 00:50:01,187 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 00:50:01,261 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=140206bc-2277-4280-8717-0ea0ecec0830]: finished processing task
2022-12-07 00:50:01,262 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 00:50:02,065 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.94      0.93      0.93       176
         eve       0.92      0.92      0.92       117
         geo       0.97      0.98      0.97     14724
         gpe       0.98      0.98      0.98      5503
         nat       0.86      0.82      0.84        95
         org       0.95      0.95      0.95      8238
         per       0.96      0.97      0.96      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.97      0.97      0.97     42624
   macro avg       0.94      0.94      0.94     42624
weighted avg       0.97      0.97      0.97     42624

F1-score: 0.9955002832568192
val 0/1: 
              precision    recall  f1-score   support

         art       0.38      0.24      0.30        45
         eve       0.12      0.23      0.15        13
         geo       0.83      0.89      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.11      0.08      0.10        12
         org       0.71      0.70      0.71      1045
         per       0.75      0.76      0.76       940
         tim       0.85      0.86      0.85       859

   micro avg       0.80      0.82      0.81      5327
   macro avg       0.59      0.59      0.58      5327
weighted avg       0.80      0.82      0.81      5327

F1-score: 0.9652389766255416
2022-12-07 00:50:04,654 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8]: train:
              precision    recall  f1-score   support

         art       0.94      0.93      0.93       176
         eve       0.92      0.92      0.92       117
         geo       0.97      0.98      0.97     14724
         gpe       0.98      0.98      0.98      5503
         nat       0.86      0.82      0.84        95
         org       0.95      0.95      0.95      8238
         per       0.96      0.97      0.96      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.97      0.97      0.97     42624
   macro avg       0.94      0.94      0.94     42624
weighted avg       0.97      0.97      0.97     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.38      0.24      0.30        45
         eve       0.12      0.23      0.15        13
         geo       0.83      0.89      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.11      0.08      0.10        12
         org       0.71      0.70      0.71      1045
         per       0.75      0.76      0.76       940
         tim       0.85      0.86      0.85       859

   micro avg       0.80      0.82      0.81      5327
   macro avg       0.59      0.59      0.58      5327
weighted avg       0.80      0.82      0.81      5327

2022-12-07 00:50:05,319 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 00:50:05,838 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8]: finished processing task
2022-12-07 00:50:05,839 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 00:50:06,632 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 00:50:24,779 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670374224 seconds)
2022-12-07 00:50:24,780 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=140206bc-2277-4280-8717-0ea0ecec0830
2022-12-07 00:50:24,780 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=140206bc-2277-4280-8717-0ea0ecec0830]: invoking result_received_cb ...
2022-12-07 00:50:24,852 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=140206bc-2277-4280-8717-0ea0ecec0830]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 00:50:24,852 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=140206bc-2277-4280-8717-0ea0ecec0830]: finished processing client result by scatter_and_gather
2022-12-07 00:50:24,883 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670374224 seconds). SubmitUpdate time: 22.818713665008545 seconds
2022-12-07 00:50:24,919 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=140206bc-2277-4280-8717-0ea0ecec0830]: result sent to server for task: name=train, id=140206bc-2277-4280-8717-0ea0ecec0830
2022-12-07 00:50:24,920 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:50:29,396 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670374229 seconds)
2022-12-07 00:50:29,396 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8
2022-12-07 00:50:29,396 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8]: invoking result_received_cb ...
2022-12-07 00:50:29,547 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 00:50:29,547 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8]: finished processing client result by scatter_and_gather
2022-12-07 00:50:29,570 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670374229 seconds). SubmitUpdate time: 22.937488794326782 seconds
2022-12-07 00:50:29,576 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:50:29,597 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8]: result sent to server for task: name=train, id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8
2022-12-07 00:50:29,597 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:50:31,586 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:50:31,646 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:50:33,595 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:50:33,656 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:50:35,606 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:50:35,689 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:50:37,616 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:50:37,698 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:50:39,627 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:50:39,709 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:50:39,743 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 00:50:40,243 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 00:50:40,244 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 43
2022-12-07 00:50:40,370 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 00:50:40,370 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 00:50:41,417 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 00:50:41,417 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 43 finished.
2022-12-07 00:50:41,417 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 44 started.
2022-12-07 00:50:41,418 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 00:50:41,641 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=c7a0f1ae-7846-4223-8dbf-42995d92dc09]: assigned task to client site-1: name=train, id=c7a0f1ae-7846-4223-8dbf-42995d92dc09
2022-12-07 00:50:41,642 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=c7a0f1ae-7846-4223-8dbf-42995d92dc09]: sent task assignment to client
2022-12-07 00:50:42,478 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 00:50:42,900 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=f586d5b3-c9ec-40da-a092-4fc459c8ea60]: assigned task to client site-2: name=train, id=f586d5b3-c9ec-40da-a092-4fc459c8ea60
2022-12-07 00:50:42,901 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=f586d5b3-c9ec-40da-a092-4fc459c8ea60]: sent task assignment to client
2022-12-07 00:50:43,708 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 00:51:05,431 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.798060417175293 seconds
2022-12-07 00:51:05,462 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:51:05,858 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=c7a0f1ae-7846-4223-8dbf-42995d92dc09
2022-12-07 00:51:05,858 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c7a0f1ae-7846-4223-8dbf-42995d92dc09]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:51:05,858 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c7a0f1ae-7846-4223-8dbf-42995d92dc09]: Client trainer got task: train
2022-12-07 00:51:06,402 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.688292980194092 seconds
2022-12-07 00:51:06,446 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:51:06,869 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=f586d5b3-c9ec-40da-a092-4fc459c8ea60
2022-12-07 00:51:06,870 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f586d5b3-c9ec-40da-a092-4fc459c8ea60]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:51:06,870 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f586d5b3-c9ec-40da-a092-4fc459c8ea60]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 00:51:28,032 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c7a0f1ae-7846-4223-8dbf-42995d92dc09]: Accuracy when validating site-1's model on site-1s data: 0.9654776407837177
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 00:51:28,976 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f586d5b3-c9ec-40da-a092-4fc459c8ea60]: Accuracy when validating site-2's model on site-2s data: 0.9666179313466223
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.96      0.95      0.96       222
         eve       0.82      0.86      0.84        96
         geo       0.97      0.98      0.98     14594
         gpe       0.99      0.98      0.98      5584
         nat       0.86      0.85      0.86       116
         org       0.96      0.96      0.96      8377
         per       0.96      0.97      0.97      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.97      0.97      0.97     43021
   macro avg       0.94      0.94      0.94     43021
weighted avg       0.97      0.97      0.97     43021

F1-score: 0.9957193261829655
val 0/1: 
              precision    recall  f1-score   support

         art       0.08      0.05      0.06        19
         eve       0.18      0.19      0.18        16
         geo       0.83      0.87      0.85      1819
         gpe       0.92      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.67      0.69       991
         per       0.74      0.79      0.76       907
         tim       0.85      0.81      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.80      0.81      0.81      5343

F1-score: 0.9643822704342767
2022-12-07 01:00:06,903 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c7a0f1ae-7846-4223-8dbf-42995d92dc09]: train:
              precision    recall  f1-score   support

         art       0.96      0.95      0.96       222
         eve       0.82      0.86      0.84        96
         geo       0.97      0.98      0.98     14594
         gpe       0.99      0.98      0.98      5584
         nat       0.86      0.85      0.86       116
         org       0.96      0.96      0.96      8377
         per       0.96      0.97      0.97      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.97      0.97      0.97     43021
   macro avg       0.94      0.94      0.94     43021
weighted avg       0.97      0.97      0.97     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.08      0.05      0.06        19
         eve       0.18      0.19      0.18        16
         geo       0.83      0.87      0.85      1819
         gpe       0.92      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.67      0.69       991
         per       0.74      0.79      0.76       907
         tim       0.85      0.81      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.80      0.81      0.81      5343

-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 01:00:07,818 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c7a0f1ae-7846-4223-8dbf-42995d92dc09]: finished processing task
2022-12-07 01:00:07,820 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 01:00:07,822 - SimulatorServer - INFO - getting AuxCommunicate request
2022-12-07 01:00:08,645 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.94      0.92      0.93       176
         eve       0.85      0.91      0.88       117
         geo       0.97      0.98      0.98     14724
         gpe       0.99      0.98      0.98      5503
         nat       0.86      0.88      0.87        95
         org       0.96      0.95      0.96      8238
         per       0.96      0.97      0.97      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.97      0.97      0.97     42624
   macro avg       0.94      0.95      0.94     42624
weighted avg       0.97      0.97      0.97     42624

F1-score: 0.9957232965034923
val 0/1: 
              precision    recall  f1-score   support

         art       0.59      0.29      0.39        45
         eve       0.22      0.31      0.26        13
         geo       0.86      0.88      0.87      1773
         gpe       0.96      0.93      0.94       640
         nat       0.11      0.08      0.10        12
         org       0.70      0.74      0.72      1045
         per       0.78      0.78      0.78       940
         tim       0.87      0.86      0.87       859

   micro avg       0.82      0.83      0.83      5327
   macro avg       0.64      0.61      0.62      5327
weighted avg       0.82      0.83      0.83      5327

F1-score: 0.966808401372145
2022-12-07 01:00:10,906 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f586d5b3-c9ec-40da-a092-4fc459c8ea60]: train:
              precision    recall  f1-score   support

         art       0.94      0.92      0.93       176
         eve       0.85      0.91      0.88       117
         geo       0.97      0.98      0.98     14724
         gpe       0.99      0.98      0.98      5503
         nat       0.86      0.88      0.87        95
         org       0.96      0.95      0.96      8238
         per       0.96      0.97      0.97      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.97      0.97      0.97     42624
   macro avg       0.94      0.95      0.94     42624
weighted avg       0.97      0.97      0.97     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.59      0.29      0.39        45
         eve       0.22      0.31      0.26        13
         geo       0.86      0.88      0.87      1773
         gpe       0.96      0.93      0.94       640
         nat       0.11      0.08      0.10        12
         org       0.70      0.74      0.72      1045
         per       0.78      0.78      0.78       940
         tim       0.87      0.86      0.87       859

   micro avg       0.82      0.83      0.83      5327
   macro avg       0.64      0.61      0.62      5327
weighted avg       0.82      0.83      0.83      5327

2022-12-07 01:00:11,773 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 01:00:12,093 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f586d5b3-c9ec-40da-a092-4fc459c8ea60]: finished processing task
2022-12-07 01:00:12,094 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 01:00:12,873 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 01:00:31,376 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670374831 seconds)
2022-12-07 01:00:31,377 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=c7a0f1ae-7846-4223-8dbf-42995d92dc09
2022-12-07 01:00:31,377 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c7a0f1ae-7846-4223-8dbf-42995d92dc09]: invoking result_received_cb ...
2022-12-07 01:00:31,448 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c7a0f1ae-7846-4223-8dbf-42995d92dc09]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 01:00:31,448 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c7a0f1ae-7846-4223-8dbf-42995d92dc09]: finished processing client result by scatter_and_gather
2022-12-07 01:00:31,479 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670374831 seconds). SubmitUpdate time: 22.833725690841675 seconds
2022-12-07 01:00:31,528 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c7a0f1ae-7846-4223-8dbf-42995d92dc09]: result sent to server for task: name=train, id=c7a0f1ae-7846-4223-8dbf-42995d92dc09
2022-12-07 01:00:31,529 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:00:35,592 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670374835 seconds)
2022-12-07 01:00:35,592 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=f586d5b3-c9ec-40da-a092-4fc459c8ea60
2022-12-07 01:00:35,592 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f586d5b3-c9ec-40da-a092-4fc459c8ea60]: invoking result_received_cb ...
2022-12-07 01:00:35,744 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f586d5b3-c9ec-40da-a092-4fc459c8ea60]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 01:00:35,744 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f586d5b3-c9ec-40da-a092-4fc459c8ea60]: finished processing client result by scatter_and_gather
2022-12-07 01:00:35,779 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670374835 seconds). SubmitUpdate time: 22.906071662902832 seconds
2022-12-07 01:00:35,784 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:00:35,827 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f586d5b3-c9ec-40da-a092-4fc459c8ea60]: result sent to server for task: name=train, id=f586d5b3-c9ec-40da-a092-4fc459c8ea60
2022-12-07 01:00:35,827 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:00:37,796 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:00:37,913 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:00:39,808 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:00:39,925 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:00:41,821 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:00:41,937 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:00:43,833 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:00:43,949 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:00:45,845 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:00:45,947 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 01:00:45,961 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:00:46,446 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 01:00:46,447 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 44
2022-12-07 01:00:46,555 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 01:00:46,556 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 01:00:47,428 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 01:00:47,428 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 44 finished.
2022-12-07 01:00:47,428 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 45 started.
2022-12-07 01:00:47,428 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 01:00:47,855 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=5c0a1cab-e572-4dc8-90cc-d871da52a6ec]: assigned task to client site-1: name=train, id=5c0a1cab-e572-4dc8-90cc-d871da52a6ec
2022-12-07 01:00:47,856 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=5c0a1cab-e572-4dc8-90cc-d871da52a6ec]: sent task assignment to client
2022-12-07 01:00:48,690 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 01:00:49,116 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=1b1b26fb-27f1-417f-bf68-1c18b9636da7]: assigned task to client site-2: name=train, id=1b1b26fb-27f1-417f-bf68-1c18b9636da7
2022-12-07 01:00:49,118 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=1b1b26fb-27f1-417f-bf68-1c18b9636da7]: sent task assignment to client
2022-12-07 01:00:49,918 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 01:01:11,496 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.64492416381836 seconds
2022-12-07 01:01:11,546 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 01:01:11,962 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=5c0a1cab-e572-4dc8-90cc-d871da52a6ec
2022-12-07 01:01:11,963 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5c0a1cab-e572-4dc8-90cc-d871da52a6ec]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 01:01:11,963 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5c0a1cab-e572-4dc8-90cc-d871da52a6ec]: Client trainer got task: train
2022-12-07 01:01:12,603 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.635805130004883 seconds
2022-12-07 01:01:12,620 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 01:01:13,024 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=1b1b26fb-27f1-417f-bf68-1c18b9636da7
2022-12-07 01:01:13,024 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1b1b26fb-27f1-417f-bf68-1c18b9636da7]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 01:01:13,024 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1b1b26fb-27f1-417f-bf68-1c18b9636da7]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 01:01:34,151 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5c0a1cab-e572-4dc8-90cc-d871da52a6ec]: Accuracy when validating site-1's model on site-1s data: 0.9656326943000311
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 01:01:35,148 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1b1b26fb-27f1-417f-bf68-1c18b9636da7]: Accuracy when validating site-2's model on site-2s data: 0.9675532668962616
