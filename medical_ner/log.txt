2022-12-06 17:24:04,557 - SimulatorRunner - INFO - Create the Simulator Server.
2022-12-06 17:24:04,639 - nvflare.fuel.hci.server.hci - INFO - Starting Admin Server localhost on Port 49287
2022-12-06 17:24:04,643 - SimulatorServer - INFO - starting insecure server at localhost:53479
2022-12-06 17:24:04,645 - SimulatorRunner - INFO - Deploy the Apps.
2022-12-06 17:24:13,730 - SimulatorRunner - INFO - Create the simulate clients.
2022-12-06 17:24:13,742 - ClientManager - INFO - Client: New client site-1@[ joined. Sent token: dfd66419-386b-479e-ba1c-5b766109bdaf.  Total clients: 1
2022-12-06 17:24:13,743 - FederatedClient - INFO - Successfully registered client:site-1 for project simulator_server. Token:dfd66419-386b-479e-ba1c-5b766109bdaf SSID:
2022-12-06 17:24:13,750 - ClientManager - INFO - Client: New client site-2@[ joined. Sent token: d6b76ba9-606f-4415-acc6-662cd0c29521.  Total clients: 2
2022-12-06 17:24:13,751 - FederatedClient - INFO - Successfully registered client:site-2 for project simulator_server. Token:d6b76ba9-606f-4415-acc6-662cd0c29521 SSID:
2022-12-06 17:24:13,752 - SimulatorRunner - INFO - Set the client status ready.
2022-12-06 17:24:13,753 - SimulatorRunner - INFO - Deploy and start the Server App.
2022-12-06 17:24:16,108 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job]: Server runner starting ...
2022-12-06 17:24:16,110 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job]: starting workflow scatter_and_gather (<class 'nvflare.app_common.workflows.scatter_and_gather.ScatterAndGather'>) ...
2022-12-06 17:24:16,110 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job]: Initializing ScatterAndGather workflow.
2022-12-06 17:24:16,117 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job]: Workflow scatter_and_gather (<class 'nvflare.app_common.workflows.scatter_and_gather.ScatterAndGather'>) started
2022-12-06 17:24:16,117 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Beginning ScatterAndGather training phase.
2022-12-06 17:24:16,118 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 0 started.
2022-12-06 17:24:16,119 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 17:24:16,758 - SimulatorClientRunner - INFO - Start the clients run simulation.
2022-12-06 17:24:16,758 - SimulatorClientRunner - INFO - Start the clients run simulation.
2022-12-06 17:24:17,760 - SimulatorClientRunner - INFO - Simulate Run client: site-1
2022-12-06 17:24:17,761 - SimulatorClientRunner - INFO - Simulate Run client: site-2
-------------------------------------------------- initialize: site-1 --------------------------------------------------

            load data from /workspace/src/data: site-1_train.csv and site-1_val.csv
            size of the data: 
            site-1_train.csv: 15346
            site-1_val.csv: 1919
            
2022-12-06 17:24:33,461 - ClientRunner - INFO - [identity=site-1, run=simulate_job]: client runner started
2022-12-06 17:24:33,461 - ClientTaskWorker - INFO - Initialize ClientRunner for client: site-1
2022-12-06 17:24:33,471 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=8c727d19-2583-48c0-8aee-43326c0da2e9]: assigned task to client site-1: name=train, id=8c727d19-2583-48c0-8aee-43326c0da2e9
2022-12-06 17:24:33,472 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=8c727d19-2583-48c0-8aee-43326c0da2e9]: sent task assignment to client
-------------------------------------------------- initialize: site-2 --------------------------------------------------

            load data from /workspace/src/data: site-2_train.csv and site-2_val.csv
            size of the data: 
            site-2_train.csv: 15347
            site-2_val.csv: 1919
            
2022-12-06 17:24:33,556 - ClientRunner - INFO - [identity=site-2, run=simulate_job]: client runner started
2022-12-06 17:24:33,556 - ClientTaskWorker - INFO - Initialize ClientRunner for client: site-2
2022-12-06 17:24:34,298 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 17:24:34,717 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=60267bf1-4b7d-4baf-afa6-967af7b70644]: assigned task to client site-2: name=train, id=60267bf1-4b7d-4baf-afa6-967af7b70644
2022-12-06 17:24:34,719 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=60267bf1-4b7d-4baf-afa6-967af7b70644]: sent task assignment to client
2022-12-06 17:24:35,572 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 17:24:56,883 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.419605016708374 seconds
2022-12-06 17:24:56,917 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 17:24:57,451 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=8c727d19-2583-48c0-8aee-43326c0da2e9
2022-12-06 17:24:57,451 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8c727d19-2583-48c0-8aee-43326c0da2e9]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 17:24:57,451 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8c727d19-2583-48c0-8aee-43326c0da2e9]: Client trainer got task: train
2022-12-06 17:24:58,171 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.612791061401367 seconds
2022-12-06 17:24:58,205 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 17:24:58,731 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=60267bf1-4b7d-4baf-afa6-967af7b70644
2022-12-06 17:24:58,732 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=60267bf1-4b7d-4baf-afa6-967af7b70644]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 17:24:58,732 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=60267bf1-4b7d-4baf-afa6-967af7b70644]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 17:25:19,842 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8c727d19-2583-48c0-8aee-43326c0da2e9]: Accuracy when validating site-1's model on site-1s data: 0.14394612774311077
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 17:25:20,746 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=60267bf1-4b7d-4baf-afa6-967af7b70644]: Accuracy when validating site-2's model on site-2s data: 0.14334684895149757
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
-------------------------------------------------- save local model: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       222
         eve       0.00      0.00      0.00        96
         geo       0.63      0.52      0.57     14594
         gpe       0.78      0.57      0.66      5584
         nat       0.00      0.00      0.00       116
         org       0.47      0.34      0.39      8377
         per       0.46      0.44      0.45      7230
         tim       0.63      0.40      0.49      6802

   micro avg       0.58      0.45      0.51     43021
   macro avg       0.37      0.28      0.32     43021
weighted avg       0.58      0.45      0.51     43021

F1-score: 0.9015167269193797
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.00      0.00      0.00        16
         geo       0.68      0.72      0.70      1819
         gpe       0.86      0.76      0.81       731
         nat       0.00      0.00      0.00         6
         org       0.57      0.47      0.51       991
         per       0.61      0.66      0.64       907
         tim       0.74      0.57      0.65       854

   micro avg       0.68      0.64      0.66      5343
   macro avg       0.43      0.40      0.41      5343
weighted avg       0.68      0.64      0.66      5343

F1-score: 0.9341437929756565
2022-12-06 17:34:00,416 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8c727d19-2583-48c0-8aee-43326c0da2e9]: train:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       222
         eve       0.00      0.00      0.00        96
         geo       0.63      0.52      0.57     14594
         gpe       0.78      0.57      0.66      5584
         nat       0.00      0.00      0.00       116
         org       0.47      0.34      0.39      8377
         per       0.46      0.44      0.45      7230
         tim       0.63      0.40      0.49      6802

   micro avg       0.58      0.45      0.51     43021
   macro avg       0.37      0.28      0.32     43021
weighted avg       0.58      0.45      0.51     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.00      0.00      0.00        16
         geo       0.68      0.72      0.70      1819
         gpe       0.86      0.76      0.81       731
         nat       0.00      0.00      0.00         6
         org       0.57      0.47      0.51       991
         per       0.61      0.66      0.64       907
         tim       0.74      0.57      0.65       854

   micro avg       0.68      0.64      0.66      5343
   macro avg       0.43      0.40      0.41      5343
weighted avg       0.68      0.64      0.66      5343

2022-12-06 17:34:00,787 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 17:34:01,100 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8c727d19-2583-48c0-8aee-43326c0da2e9]: finished processing task
2022-12-06 17:34:01,102 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 17:34:01,921 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       176
         eve       0.00      0.00      0.00       117
         geo       0.65      0.54      0.59     14724
         gpe       0.80      0.58      0.68      5503
         nat       0.00      0.00      0.00        95
         org       0.48      0.34      0.40      8238
         per       0.47      0.46      0.46      6998
         tim       0.66      0.43      0.52      6773

   micro avg       0.60      0.47      0.53     42624
   macro avg       0.38      0.29      0.33     42624
weighted avg       0.60      0.47      0.53     42624

F1-score: 0.907008379849474
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        45
         eve       0.00      0.00      0.00        13
         geo       0.74      0.68      0.71      1773
         gpe       0.82      0.72      0.77       640
         nat       0.00      0.00      0.00        12
         org       0.52      0.53      0.52      1045
         per       0.63      0.58      0.60       940
         tim       0.71      0.59      0.64       859

   micro avg       0.68      0.61      0.64      5327
   macro avg       0.43      0.39      0.41      5327
weighted avg       0.67      0.61      0.64      5327

F1-score: 0.928777135346738
2022-12-06 17:34:02,699 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=60267bf1-4b7d-4baf-afa6-967af7b70644]: train:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       176
         eve       0.00      0.00      0.00       117
         geo       0.65      0.54      0.59     14724
         gpe       0.80      0.58      0.68      5503
         nat       0.00      0.00      0.00        95
         org       0.48      0.34      0.40      8238
         per       0.47      0.46      0.46      6998
         tim       0.66      0.43      0.52      6773

   micro avg       0.60      0.47      0.53     42624
   macro avg       0.38      0.29      0.33     42624
weighted avg       0.60      0.47      0.53     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        45
         eve       0.00      0.00      0.00        13
         geo       0.74      0.68      0.71      1773
         gpe       0.82      0.72      0.77       640
         nat       0.00      0.00      0.00        12
         org       0.52      0.53      0.52      1045
         per       0.63      0.58      0.60       940
         tim       0.71      0.59      0.64       859

   micro avg       0.68      0.61      0.64      5327
   macro avg       0.43      0.39      0.41      5327
weighted avg       0.67      0.61      0.64      5327

2022-12-06 17:34:02,891 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 17:34:03,513 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=60267bf1-4b7d-4baf-afa6-967af7b70644]: finished processing task
2022-12-06 17:34:03,515 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 17:34:04,317 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 17:34:24,977 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670348064 seconds)
2022-12-06 17:34:24,977 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=8c727d19-2583-48c0-8aee-43326c0da2e9
2022-12-06 17:34:24,977 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=8c727d19-2583-48c0-8aee-43326c0da2e9]: invoking result_received_cb ...
2022-12-06 17:34:25,093 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=8c727d19-2583-48c0-8aee-43326c0da2e9]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 17:34:25,094 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=8c727d19-2583-48c0-8aee-43326c0da2e9]: finished processing client result by scatter_and_gather
2022-12-06 17:34:25,127 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670348064 seconds). SubmitUpdate time: 23.20566987991333 seconds
2022-12-06 17:34:25,160 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8c727d19-2583-48c0-8aee-43326c0da2e9]: result sent to server for task: name=train, id=8c727d19-2583-48c0-8aee-43326c0da2e9
2022-12-06 17:34:25,161 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:34:28,305 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670348068 seconds)
2022-12-06 17:34:28,306 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=60267bf1-4b7d-4baf-afa6-967af7b70644
2022-12-06 17:34:28,306 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=60267bf1-4b7d-4baf-afa6-967af7b70644]: invoking result_received_cb ...
2022-12-06 17:34:28,488 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=60267bf1-4b7d-4baf-afa6-967af7b70644]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 17:34:28,488 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=60267bf1-4b7d-4baf-afa6-967af7b70644]: finished processing client result by scatter_and_gather
2022-12-06 17:34:28,523 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670348068 seconds). SubmitUpdate time: 24.205466270446777 seconds
2022-12-06 17:34:28,530 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:34:28,580 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=60267bf1-4b7d-4baf-afa6-967af7b70644]: result sent to server for task: name=train, id=60267bf1-4b7d-4baf-afa6-967af7b70644
2022-12-06 17:34:28,581 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:34:30,542 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:34:30,653 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:34:32,554 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:34:32,672 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:34:34,566 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:34:34,684 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:34:36,579 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:34:36,697 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:34:38,590 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:34:38,653 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 17:34:38,709 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:34:39,152 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 17:34:39,153 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 0
2022-12-06 17:34:39,301 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 17:34:39,302 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 17:34:39,695 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 17:34:39,695 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 0 finished.
2022-12-06 17:34:39,695 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 1 started.
2022-12-06 17:34:39,696 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 17:34:40,600 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382]: assigned task to client site-1: name=train, id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382
2022-12-06 17:34:40,601 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382]: sent task assignment to client
2022-12-06 17:34:41,475 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 17:34:41,896 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=2194e5f1-6536-4da8-be91-7ab779274e70]: assigned task to client site-2: name=train, id=2194e5f1-6536-4da8-be91-7ab779274e70
2022-12-06 17:34:41,898 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=2194e5f1-6536-4da8-be91-7ab779274e70]: sent task assignment to client
2022-12-06 17:34:42,721 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 17:35:04,182 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.58527898788452 seconds
2022-12-06 17:35:04,200 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 17:35:04,626 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382
2022-12-06 17:35:04,627 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 17:35:04,627 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382]: Client trainer got task: train
2022-12-06 17:35:05,542 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.827722549438477 seconds
2022-12-06 17:35:05,549 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 17:35:05,966 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=2194e5f1-6536-4da8-be91-7ab779274e70
2022-12-06 17:35:05,967 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2194e5f1-6536-4da8-be91-7ab779274e70]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 17:35:05,967 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2194e5f1-6536-4da8-be91-7ab779274e70]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 17:35:26,772 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382]: Accuracy when validating site-1's model on site-1s data: 0.9291909888147698
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 17:35:28,010 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2194e5f1-6536-4da8-be91-7ab779274e70]: Accuracy when validating site-2's model on site-2s data: 0.9277256870004876
2022-12-06 17:44:09,782 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
-------------------------------------------------- save local model: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       222
         eve       0.50      0.01      0.02        96
         geo       0.74      0.68      0.71     14594
         gpe       0.87      0.74      0.80      5584
         nat       0.00      0.00      0.00       116
         org       0.57      0.50      0.53      8377
         per       0.60      0.65      0.62      7230
         tim       0.72      0.57      0.64      6802

   micro avg       0.69      0.62      0.66     43021
   macro avg       0.50      0.39      0.42     43021
weighted avg       0.69      0.62      0.65     43021

F1-score: 0.9350695207818103
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       1.00      0.06      0.12        16
         geo       0.75      0.77      0.76      1819
         gpe       0.88      0.82      0.85       731
         nat       0.00      0.00      0.00         6
         org       0.64      0.50      0.56       991
         per       0.62      0.73      0.67       907
         tim       0.71      0.70      0.71       854

   micro avg       0.72      0.70      0.71      5343
   macro avg       0.58      0.45      0.46      5343
weighted avg       0.72      0.70      0.71      5343

F1-score: 0.9445156151551214
2022-12-06 17:44:09,842 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382]: train:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       222
         eve       0.50      0.01      0.02        96
         geo       0.74      0.68      0.71     14594
         gpe       0.87      0.74      0.80      5584
         nat       0.00      0.00      0.00       116
         org       0.57      0.50      0.53      8377
         per       0.60      0.65      0.62      7230
         tim       0.72      0.57      0.64      6802

   micro avg       0.69      0.62      0.66     43021
   macro avg       0.50      0.39      0.42     43021
weighted avg       0.69      0.62      0.65     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       1.00      0.06      0.12        16
         geo       0.75      0.77      0.76      1819
         gpe       0.88      0.82      0.85       731
         nat       0.00      0.00      0.00         6
         org       0.64      0.50      0.56       991
         per       0.62      0.73      0.67       907
         tim       0.71      0.70      0.71       854

   micro avg       0.72      0.70      0.71      5343
   macro avg       0.58      0.45      0.46      5343
weighted avg       0.72      0.70      0.71      5343

-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 17:44:10,758 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382]: finished processing task
2022-12-06 17:44:10,760 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 17:44:11,563 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       176
         eve       0.43      0.03      0.05       117
         geo       0.73      0.69      0.71     14724
         gpe       0.87      0.74      0.80      5503
         nat       0.00      0.00      0.00        95
         org       0.56      0.50      0.53      8238
         per       0.58      0.63      0.61      6998
         tim       0.74      0.58      0.65      6773

   micro avg       0.69      0.63      0.65     42624
   macro avg       0.49      0.40      0.42     42624
weighted avg       0.69      0.63      0.65     42624

F1-score: 0.9366361786961802
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        45
         eve       0.67      0.15      0.25        13
         geo       0.77      0.76      0.77      1773
         gpe       0.83      0.83      0.83       640
         nat       0.00      0.00      0.00        12
         org       0.67      0.52      0.58      1045
         per       0.64      0.70      0.67       940
         tim       0.82      0.64      0.72       859

   micro avg       0.74      0.68      0.71      5327
   macro avg       0.55      0.45      0.48      5327
weighted avg       0.73      0.68      0.70      5327

F1-score: 0.9446463279362235
2022-12-06 17:44:14,406 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2194e5f1-6536-4da8-be91-7ab779274e70]: train:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       176
         eve       0.43      0.03      0.05       117
         geo       0.73      0.69      0.71     14724
         gpe       0.87      0.74      0.80      5503
         nat       0.00      0.00      0.00        95
         org       0.56      0.50      0.53      8238
         per       0.58      0.63      0.61      6998
         tim       0.74      0.58      0.65      6773

   micro avg       0.69      0.63      0.65     42624
   macro avg       0.49      0.40      0.42     42624
weighted avg       0.69      0.63      0.65     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        45
         eve       0.67      0.15      0.25        13
         geo       0.77      0.76      0.77      1773
         gpe       0.83      0.83      0.83       640
         nat       0.00      0.00      0.00        12
         org       0.67      0.52      0.58      1045
         per       0.64      0.70      0.67       940
         tim       0.82      0.64      0.72       859

   micro avg       0.74      0.68      0.71      5327
   macro avg       0.55      0.45      0.48      5327
weighted avg       0.73      0.68      0.70      5327

2022-12-06 17:44:14,586 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 17:44:15,279 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2194e5f1-6536-4da8-be91-7ab779274e70]: finished processing task
2022-12-06 17:44:15,281 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 17:44:16,082 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 17:44:34,287 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670348674 seconds)
2022-12-06 17:44:34,287 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382
2022-12-06 17:44:34,288 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382]: invoking result_received_cb ...
2022-12-06 17:44:34,402 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 17:44:34,402 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382]: finished processing client result by scatter_and_gather
2022-12-06 17:44:34,433 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670348674 seconds). SubmitUpdate time: 22.87049698829651 seconds
2022-12-06 17:44:34,477 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382]: result sent to server for task: name=train, id=088cc8aa-b5f8-4cfb-956e-3b2c8f943382
2022-12-06 17:44:34,477 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:44:38,772 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670348678 seconds)
2022-12-06 17:44:38,772 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=2194e5f1-6536-4da8-be91-7ab779274e70
2022-12-06 17:44:38,773 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2194e5f1-6536-4da8-be91-7ab779274e70]: invoking result_received_cb ...
2022-12-06 17:44:38,960 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2194e5f1-6536-4da8-be91-7ab779274e70]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 17:44:38,960 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2194e5f1-6536-4da8-be91-7ab779274e70]: finished processing client result by scatter_and_gather
2022-12-06 17:44:38,990 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670348678 seconds). SubmitUpdate time: 22.90800380706787 seconds
2022-12-06 17:44:38,999 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:44:39,043 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2194e5f1-6536-4da8-be91-7ab779274e70]: result sent to server for task: name=train, id=2194e5f1-6536-4da8-be91-7ab779274e70
2022-12-06 17:44:39,043 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:44:41,011 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:44:41,135 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:44:43,024 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:44:43,148 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:44:45,036 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:44:45,160 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:44:47,048 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:44:47,172 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:44:49,061 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:44:49,114 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 17:44:49,185 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:44:49,612 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 17:44:49,613 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 1
2022-12-06 17:44:49,762 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 17:44:49,763 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 17:44:50,460 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 17:44:50,460 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 1 finished.
2022-12-06 17:44:50,460 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 2 started.
2022-12-06 17:44:50,460 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 17:44:51,070 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=bca845d3-cee3-47ed-b928-c76f33a67dcd]: assigned task to client site-1: name=train, id=bca845d3-cee3-47ed-b928-c76f33a67dcd
2022-12-06 17:44:51,071 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=bca845d3-cee3-47ed-b928-c76f33a67dcd]: sent task assignment to client
2022-12-06 17:44:51,886 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 17:44:52,295 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=4d55570d-57e6-4a31-8c59-f9d7383e7e50]: assigned task to client site-2: name=train, id=4d55570d-57e6-4a31-8c59-f9d7383e7e50
2022-12-06 17:44:52,297 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=4d55570d-57e6-4a31-8c59-f9d7383e7e50]: sent task assignment to client
2022-12-06 17:44:53,107 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 17:45:14,601 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.533960342407227 seconds
2022-12-06 17:45:14,616 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 17:45:15,040 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=bca845d3-cee3-47ed-b928-c76f33a67dcd
2022-12-06 17:45:15,041 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bca845d3-cee3-47ed-b928-c76f33a67dcd]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 17:45:15,041 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bca845d3-cee3-47ed-b928-c76f33a67dcd]: Client trainer got task: train
2022-12-06 17:45:15,819 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.628410577774048 seconds
2022-12-06 17:45:15,835 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 17:45:16,250 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=4d55570d-57e6-4a31-8c59-f9d7383e7e50
2022-12-06 17:45:16,251 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4d55570d-57e6-4a31-8c59-f9d7383e7e50]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 17:45:16,251 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4d55570d-57e6-4a31-8c59-f9d7383e7e50]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 17:45:37,219 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bca845d3-cee3-47ed-b928-c76f33a67dcd]: Accuracy when validating site-1's model on site-1s data: 0.9448314272053974
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 17:45:38,327 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4d55570d-57e6-4a31-8c59-f9d7383e7e50]: Accuracy when validating site-2's model on site-2s data: 0.9456264427220323
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
-------------------------------------------------- save local model: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       222
         eve       0.69      0.11      0.20        96
         geo       0.75      0.75      0.75     14594
         gpe       0.88      0.81      0.84      5584
         nat       1.00      0.01      0.02       116
         org       0.60      0.55      0.58      8377
         per       0.65      0.69      0.67      7230
         tim       0.75      0.64      0.69      6802

   micro avg       0.72      0.69      0.70     43021
   macro avg       0.66      0.45      0.47     43021
weighted avg       0.72      0.69      0.70     43021

F1-score: 0.9449465193342088
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.40      0.12      0.19        16
         geo       0.74      0.82      0.78      1819
         gpe       0.91      0.88      0.90       731
         nat       0.00      0.00      0.00         6
         org       0.65      0.54      0.59       991
         per       0.67      0.71      0.69       907
         tim       0.73      0.75      0.74       854

   micro avg       0.73      0.74      0.74      5343
   macro avg       0.51      0.48      0.49      5343
weighted avg       0.73      0.74      0.73      5343

F1-score: 0.9508796884412174
2022-12-06 17:54:20,921 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bca845d3-cee3-47ed-b928-c76f33a67dcd]: train:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       222
         eve       0.69      0.11      0.20        96
         geo       0.75      0.75      0.75     14594
         gpe       0.88      0.81      0.84      5584
         nat       1.00      0.01      0.02       116
         org       0.60      0.55      0.58      8377
         per       0.65      0.69      0.67      7230
         tim       0.75      0.64      0.69      6802

   micro avg       0.72      0.69      0.70     43021
   macro avg       0.66      0.45      0.47     43021
weighted avg       0.72      0.69      0.70     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.40      0.12      0.19        16
         geo       0.74      0.82      0.78      1819
         gpe       0.91      0.88      0.90       731
         nat       0.00      0.00      0.00         6
         org       0.65      0.54      0.59       991
         per       0.67      0.71      0.69       907
         tim       0.73      0.75      0.74       854

   micro avg       0.73      0.74      0.74      5343
   macro avg       0.51      0.48      0.49      5343
weighted avg       0.73      0.74      0.73      5343

2022-12-06 17:54:21,212 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 17:54:21,795 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bca845d3-cee3-47ed-b928-c76f33a67dcd]: finished processing task
2022-12-06 17:54:21,797 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 17:54:22,611 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 17:54:23,229 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       176
         eve       0.62      0.14      0.22       117
         geo       0.76      0.76      0.76     14724
         gpe       0.89      0.81      0.85      5503
         nat       0.60      0.03      0.06        95
         org       0.60      0.55      0.58      8238
         per       0.63      0.68      0.65      6998
         tim       0.77      0.66      0.71      6773

   micro avg       0.72      0.69      0.71     42624
   macro avg       0.61      0.45      0.48     42624
weighted avg       0.72      0.69      0.71     42624

F1-score: 0.9474406102151423
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        45
         eve       0.40      0.15      0.22        13
         geo       0.75      0.83      0.79      1773
         gpe       0.89      0.87      0.88       640
         nat       0.00      0.00      0.00        12
         org       0.70      0.56      0.62      1045
         per       0.69      0.73      0.71       940
         tim       0.73      0.71      0.72       859

   micro avg       0.74      0.73      0.74      5327
   macro avg       0.52      0.48      0.49      5327
weighted avg       0.74      0.73      0.73      5327

F1-score: 0.950384021124008
2022-12-06 17:54:24,005 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4d55570d-57e6-4a31-8c59-f9d7383e7e50]: train:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00       176
         eve       0.62      0.14      0.22       117
         geo       0.76      0.76      0.76     14724
         gpe       0.89      0.81      0.85      5503
         nat       0.60      0.03      0.06        95
         org       0.60      0.55      0.58      8238
         per       0.63      0.68      0.65      6998
         tim       0.77      0.66      0.71      6773

   micro avg       0.72      0.69      0.71     42624
   macro avg       0.61      0.45      0.48     42624
weighted avg       0.72      0.69      0.71     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        45
         eve       0.40      0.15      0.22        13
         geo       0.75      0.83      0.79      1773
         gpe       0.89      0.87      0.88       640
         nat       0.00      0.00      0.00        12
         org       0.70      0.56      0.62      1045
         per       0.69      0.73      0.71       940
         tim       0.73      0.71      0.72       859

   micro avg       0.74      0.73      0.74      5327
   macro avg       0.52      0.48      0.49      5327
weighted avg       0.74      0.73      0.73      5327

-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 17:54:24,812 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4d55570d-57e6-4a31-8c59-f9d7383e7e50]: finished processing task
2022-12-06 17:54:24,814 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 17:54:25,616 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 17:54:45,317 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670349285 seconds)
2022-12-06 17:54:45,317 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=bca845d3-cee3-47ed-b928-c76f33a67dcd
2022-12-06 17:54:45,318 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=bca845d3-cee3-47ed-b928-c76f33a67dcd]: invoking result_received_cb ...
2022-12-06 17:54:45,386 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=bca845d3-cee3-47ed-b928-c76f33a67dcd]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 17:54:45,386 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=bca845d3-cee3-47ed-b928-c76f33a67dcd]: finished processing client result by scatter_and_gather
2022-12-06 17:54:45,417 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670349285 seconds). SubmitUpdate time: 22.80627179145813 seconds
2022-12-06 17:54:45,448 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bca845d3-cee3-47ed-b928-c76f33a67dcd]: result sent to server for task: name=train, id=bca845d3-cee3-47ed-b928-c76f33a67dcd
2022-12-06 17:54:45,449 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:54:48,478 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670349288 seconds)
2022-12-06 17:54:48,478 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=4d55570d-57e6-4a31-8c59-f9d7383e7e50
2022-12-06 17:54:48,478 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4d55570d-57e6-4a31-8c59-f9d7383e7e50]: invoking result_received_cb ...
2022-12-06 17:54:48,642 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4d55570d-57e6-4a31-8c59-f9d7383e7e50]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 17:54:48,643 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4d55570d-57e6-4a31-8c59-f9d7383e7e50]: finished processing client result by scatter_and_gather
2022-12-06 17:54:48,678 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670349288 seconds). SubmitUpdate time: 23.06231999397278 seconds
2022-12-06 17:54:48,679 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:54:48,723 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4d55570d-57e6-4a31-8c59-f9d7383e7e50]: result sent to server for task: name=train, id=4d55570d-57e6-4a31-8c59-f9d7383e7e50
2022-12-06 17:54:48,724 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:54:50,691 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:54:50,806 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:54:52,704 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:54:52,831 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:54:54,716 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:54:54,843 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:54:56,728 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:54:56,856 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:54:58,740 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 17:54:58,814 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 17:54:58,868 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 17:54:59,314 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 17:54:59,315 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 2
2022-12-06 17:54:59,408 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 17:54:59,408 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 17:55:00,036 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 17:55:00,037 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 2 finished.
2022-12-06 17:55:00,037 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 3 started.
2022-12-06 17:55:00,038 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 17:55:00,750 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=97972568-db10-484f-8fb3-cf2825c04072]: assigned task to client site-1: name=train, id=97972568-db10-484f-8fb3-cf2825c04072
2022-12-06 17:55:00,751 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=97972568-db10-484f-8fb3-cf2825c04072]: sent task assignment to client
2022-12-06 17:55:01,599 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 17:55:02,013 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=24bda5c9-00e9-4258-9ba4-fde6e7000745]: assigned task to client site-2: name=train, id=24bda5c9-00e9-4258-9ba4-fde6e7000745
2022-12-06 17:55:02,015 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=24bda5c9-00e9-4258-9ba4-fde6e7000745]: sent task assignment to client
2022-12-06 17:55:02,823 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 17:55:24,216 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.469719171524048 seconds
2022-12-06 17:55:24,235 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 17:55:24,644 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=97972568-db10-484f-8fb3-cf2825c04072
2022-12-06 17:55:24,645 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=97972568-db10-484f-8fb3-cf2825c04072]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 17:55:24,645 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=97972568-db10-484f-8fb3-cf2825c04072]: Client trainer got task: train
2022-12-06 17:55:25,624 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.750899076461792 seconds
2022-12-06 17:55:25,642 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 17:55:26,045 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=24bda5c9-00e9-4258-9ba4-fde6e7000745
2022-12-06 17:55:26,045 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24bda5c9-00e9-4258-9ba4-fde6e7000745]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 17:55:26,045 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24bda5c9-00e9-4258-9ba4-fde6e7000745]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 17:55:46,822 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=97972568-db10-484f-8fb3-cf2825c04072]: Accuracy when validating site-1's model on site-1s data: 0.9540017759059317
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 17:55:48,124 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24bda5c9-00e9-4258-9ba4-fde6e7000745]: Accuracy when validating site-2's model on site-2s data: 0.9524670441075049
2022-12-06 18:04:30,757 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
-------------------------------------------------- save local model: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.67      0.03      0.05       222
         eve       0.25      0.14      0.18        96
         geo       0.78      0.79      0.79     14594
         gpe       0.90      0.85      0.87      5584
         nat       0.71      0.04      0.08       116
         org       0.63      0.60      0.61      8377
         per       0.68      0.73      0.70      7230
         tim       0.78      0.69      0.73      6802

   micro avg       0.75      0.73      0.74     43021
   macro avg       0.67      0.48      0.50     43021
weighted avg       0.75      0.73      0.73     43021

F1-score: 0.9522967876141718
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.67      0.12      0.21        16
         geo       0.79      0.81      0.80      1819
         gpe       0.93      0.91      0.92       731
         nat       0.00      0.00      0.00         6
         org       0.62      0.57      0.59       991
         per       0.63      0.77      0.69       907
         tim       0.78      0.78      0.78       854

   micro avg       0.75      0.76      0.75      5343
   macro avg       0.55      0.49      0.50      5343
weighted avg       0.75      0.76      0.75      5343

F1-score: 0.9541888533268471
2022-12-06 18:04:30,837 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=97972568-db10-484f-8fb3-cf2825c04072]: train:
              precision    recall  f1-score   support

         art       0.67      0.03      0.05       222
         eve       0.25      0.14      0.18        96
         geo       0.78      0.79      0.79     14594
         gpe       0.90      0.85      0.87      5584
         nat       0.71      0.04      0.08       116
         org       0.63      0.60      0.61      8377
         per       0.68      0.73      0.70      7230
         tim       0.78      0.69      0.73      6802

   micro avg       0.75      0.73      0.74     43021
   macro avg       0.67      0.48      0.50     43021
weighted avg       0.75      0.73      0.73     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.67      0.12      0.21        16
         geo       0.79      0.81      0.80      1819
         gpe       0.93      0.91      0.92       731
         nat       0.00      0.00      0.00         6
         org       0.62      0.57      0.59       991
         per       0.63      0.77      0.69       907
         tim       0.78      0.78      0.78       854

   micro avg       0.75      0.76      0.75      5343
   macro avg       0.55      0.49      0.50      5343
weighted avg       0.75      0.76      0.75      5343

-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 18:04:31,872 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=97972568-db10-484f-8fb3-cf2825c04072]: finished processing task
2022-12-06 18:04:31,873 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:04:32,668 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 18:04:35,267 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.25      0.01      0.01       176
         eve       0.39      0.15      0.21       117
         geo       0.78      0.79      0.79     14724
         gpe       0.90      0.85      0.87      5503
         nat       0.40      0.04      0.08        95
         org       0.63      0.59      0.61      8238
         per       0.66      0.71      0.68      6998
         tim       0.78      0.70      0.74      6773

   micro avg       0.75      0.73      0.74     42624
   macro avg       0.60      0.48      0.50     42624
weighted avg       0.74      0.73      0.73     42624

F1-score: 0.953421994368425
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        45
         eve       0.50      0.15      0.24        13
         geo       0.74      0.87      0.80      1773
         gpe       0.92      0.88      0.90       640
         nat       0.00      0.00      0.00        12
         org       0.71      0.56      0.62      1045
         per       0.71      0.70      0.71       940
         tim       0.81      0.72      0.76       859

   micro avg       0.76      0.74      0.75      5327
   macro avg       0.55      0.48      0.50      5327
weighted avg       0.75      0.74      0.74      5327

F1-score: 0.9543166280689535
2022-12-06 18:04:35,548 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24bda5c9-00e9-4258-9ba4-fde6e7000745]: train:
              precision    recall  f1-score   support

         art       0.25      0.01      0.01       176
         eve       0.39      0.15      0.21       117
         geo       0.78      0.79      0.79     14724
         gpe       0.90      0.85      0.87      5503
         nat       0.40      0.04      0.08        95
         org       0.63      0.59      0.61      8238
         per       0.66      0.71      0.68      6998
         tim       0.78      0.70      0.74      6773

   micro avg       0.75      0.73      0.74     42624
   macro avg       0.60      0.48      0.50     42624
weighted avg       0.74      0.73      0.73     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        45
         eve       0.50      0.15      0.24        13
         geo       0.74      0.87      0.80      1773
         gpe       0.92      0.88      0.90       640
         nat       0.00      0.00      0.00        12
         org       0.71      0.56      0.62      1045
         per       0.71      0.70      0.71       940
         tim       0.81      0.72      0.76       859

   micro avg       0.76      0.74      0.75      5327
   macro avg       0.55      0.48      0.50      5327
weighted avg       0.75      0.74      0.74      5327

-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 18:04:36,425 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24bda5c9-00e9-4258-9ba4-fde6e7000745]: finished processing task
2022-12-06 18:04:36,426 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:04:37,234 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 18:04:55,427 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670349895 seconds)
2022-12-06 18:04:55,427 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=97972568-db10-484f-8fb3-cf2825c04072
2022-12-06 18:04:55,427 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=97972568-db10-484f-8fb3-cf2825c04072]: invoking result_received_cb ...
2022-12-06 18:04:55,497 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=97972568-db10-484f-8fb3-cf2825c04072]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 18:04:55,498 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=97972568-db10-484f-8fb3-cf2825c04072]: finished processing client result by scatter_and_gather
2022-12-06 18:04:55,528 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670349895 seconds). SubmitUpdate time: 22.859881162643433 seconds
2022-12-06 18:04:55,581 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=97972568-db10-484f-8fb3-cf2825c04072]: result sent to server for task: name=train, id=97972568-db10-484f-8fb3-cf2825c04072
2022-12-06 18:04:55,582 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:04:59,857 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670349899 seconds)
2022-12-06 18:04:59,857 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=24bda5c9-00e9-4258-9ba4-fde6e7000745
2022-12-06 18:04:59,858 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=24bda5c9-00e9-4258-9ba4-fde6e7000745]: invoking result_received_cb ...
2022-12-06 18:05:00,025 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=24bda5c9-00e9-4258-9ba4-fde6e7000745]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 18:05:00,026 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=24bda5c9-00e9-4258-9ba4-fde6e7000745]: finished processing client result by scatter_and_gather
2022-12-06 18:05:00,067 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:05:00,071 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670349899 seconds). SubmitUpdate time: 22.8361234664917 seconds
2022-12-06 18:05:00,095 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=24bda5c9-00e9-4258-9ba4-fde6e7000745]: result sent to server for task: name=train, id=24bda5c9-00e9-4258-9ba4-fde6e7000745
2022-12-06 18:05:00,096 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:05:02,080 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:05:02,175 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:05:04,092 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:05:04,187 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:05:06,105 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:05:06,199 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:05:08,118 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:05:08,211 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:05:10,130 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:05:10,213 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 18:05:10,223 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:05:10,712 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 18:05:10,713 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 3
2022-12-06 18:05:10,862 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 18:05:10,863 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 18:05:11,461 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 18:05:11,461 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 3 finished.
2022-12-06 18:05:11,462 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 4 started.
2022-12-06 18:05:11,462 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 18:05:12,140 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=159b7dcc-2230-4156-aa9f-cc977b44a83b]: assigned task to client site-1: name=train, id=159b7dcc-2230-4156-aa9f-cc977b44a83b
2022-12-06 18:05:12,141 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=159b7dcc-2230-4156-aa9f-cc977b44a83b]: sent task assignment to client
2022-12-06 18:05:12,990 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 18:05:13,402 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=3ac63f76-e510-4c66-bf22-7dc4f4394375]: assigned task to client site-2: name=train, id=3ac63f76-e510-4c66-bf22-7dc4f4394375
2022-12-06 18:05:13,403 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=3ac63f76-e510-4c66-bf22-7dc4f4394375]: sent task assignment to client
2022-12-06 18:05:14,203 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 18:05:35,639 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.502530336380005 seconds
2022-12-06 18:05:35,672 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:05:36,102 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=159b7dcc-2230-4156-aa9f-cc977b44a83b
2022-12-06 18:05:36,102 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=159b7dcc-2230-4156-aa9f-cc977b44a83b]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:05:36,102 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=159b7dcc-2230-4156-aa9f-cc977b44a83b]: Client trainer got task: train
2022-12-06 18:05:36,841 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.612634420394897 seconds
2022-12-06 18:05:36,871 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:05:37,276 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=3ac63f76-e510-4c66-bf22-7dc4f4394375
2022-12-06 18:05:37,277 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3ac63f76-e510-4c66-bf22-7dc4f4394375]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:05:37,277 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3ac63f76-e510-4c66-bf22-7dc4f4394375]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 18:05:58,275 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=159b7dcc-2230-4156-aa9f-cc977b44a83b]: Accuracy when validating site-1's model on site-1s data: 0.9565790306228246
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 18:05:59,385 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3ac63f76-e510-4c66-bf22-7dc4f4394375]: Accuracy when validating site-2's model on site-2s data: 0.9564027444699393
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.46      0.07      0.12       222
         eve       0.42      0.16      0.23        96
         geo       0.79      0.82      0.81     14594
         gpe       0.91      0.87      0.89      5584
         nat       0.67      0.12      0.20       116
         org       0.65      0.62      0.64      8377
         per       0.70      0.74      0.72      7230
         tim       0.79      0.72      0.76      6802

   micro avg       0.76      0.75      0.76     43021
   macro avg       0.67      0.51      0.54     43021
weighted avg       0.76      0.75      0.75     43021

F1-score: 0.9565514079592301
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.33      0.06      0.11        16
         geo       0.83      0.76      0.79      1819
         gpe       0.89      0.90      0.89       731
         nat       0.00      0.00      0.00         6
         org       0.59      0.57      0.58       991
         per       0.65      0.78      0.71       907
         tim       0.78      0.77      0.77       854

   micro avg       0.75      0.74      0.74      5343
   macro avg       0.51      0.48      0.48      5343
weighted avg       0.75      0.74      0.74      5343

F1-score: 0.951189749422966
2022-12-06 18:14:37,982 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=159b7dcc-2230-4156-aa9f-cc977b44a83b]: train:
              precision    recall  f1-score   support

         art       0.46      0.07      0.12       222
         eve       0.42      0.16      0.23        96
         geo       0.79      0.82      0.81     14594
         gpe       0.91      0.87      0.89      5584
         nat       0.67      0.12      0.20       116
         org       0.65      0.62      0.64      8377
         per       0.70      0.74      0.72      7230
         tim       0.79      0.72      0.76      6802

   micro avg       0.76      0.75      0.76     43021
   macro avg       0.67      0.51      0.54     43021
weighted avg       0.76      0.75      0.75     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.33      0.06      0.11        16
         geo       0.83      0.76      0.79      1819
         gpe       0.89      0.90      0.89       731
         nat       0.00      0.00      0.00         6
         org       0.59      0.57      0.58       991
         per       0.65      0.78      0.71       907
         tim       0.78      0.77      0.77       854

   micro avg       0.75      0.74      0.74      5343
   macro avg       0.51      0.48      0.48      5343
weighted avg       0.75      0.74      0.74      5343

2022-12-06 18:14:38,269 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 18:14:38,893 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=159b7dcc-2230-4156-aa9f-cc977b44a83b]: finished processing task
2022-12-06 18:14:38,894 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:14:39,687 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 18:14:46,468 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.58      0.04      0.07       176
         eve       0.45      0.18      0.26       117
         geo       0.80      0.81      0.81     14724
         gpe       0.91      0.87      0.89      5503
         nat       0.48      0.14      0.21        95
         org       0.66      0.62      0.64      8238
         per       0.68      0.73      0.70      6998
         tim       0.80      0.74      0.77      6773

   micro avg       0.76      0.75      0.76     42624
   macro avg       0.67      0.52      0.54     42624
weighted avg       0.76      0.75      0.76     42624

F1-score: 0.9577230380710802
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        45
         eve       0.40      0.15      0.22        13
         geo       0.77      0.85      0.81      1773
         gpe       0.91      0.87      0.89       640
         nat       0.00      0.00      0.00        12
         org       0.67      0.62      0.64      1045
         per       0.69      0.76      0.72       940
         tim       0.78      0.72      0.75       859

   micro avg       0.75      0.76      0.76      5327
   macro avg       0.53      0.50      0.51      5327
weighted avg       0.75      0.76      0.75      5327

F1-score: 0.9549595528834373
2022-12-06 18:14:46,528 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3ac63f76-e510-4c66-bf22-7dc4f4394375]: train:
              precision    recall  f1-score   support

         art       0.58      0.04      0.07       176
         eve       0.45      0.18      0.26       117
         geo       0.80      0.81      0.81     14724
         gpe       0.91      0.87      0.89      5503
         nat       0.48      0.14      0.21        95
         org       0.66      0.62      0.64      8238
         per       0.68      0.73      0.70      6998
         tim       0.80      0.74      0.77      6773

   micro avg       0.76      0.75      0.76     42624
   macro avg       0.67      0.52      0.54     42624
weighted avg       0.76      0.75      0.76     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        45
         eve       0.40      0.15      0.22        13
         geo       0.77      0.85      0.81      1773
         gpe       0.91      0.87      0.89       640
         nat       0.00      0.00      0.00        12
         org       0.67      0.62      0.64      1045
         per       0.69      0.76      0.72       940
         tim       0.78      0.72      0.75       859

   micro avg       0.75      0.76      0.76      5327
   macro avg       0.53      0.50      0.51      5327
weighted avg       0.75      0.76      0.75      5327

-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 18:14:47,400 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3ac63f76-e510-4c66-bf22-7dc4f4394375]: finished processing task
2022-12-06 18:14:47,402 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:14:48,214 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 18:15:02,446 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670350502 seconds)
2022-12-06 18:15:02,447 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=159b7dcc-2230-4156-aa9f-cc977b44a83b
2022-12-06 18:15:02,447 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=159b7dcc-2230-4156-aa9f-cc977b44a83b]: invoking result_received_cb ...
2022-12-06 18:15:02,555 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=159b7dcc-2230-4156-aa9f-cc977b44a83b]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 18:15:02,556 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=159b7dcc-2230-4156-aa9f-cc977b44a83b]: finished processing client result by scatter_and_gather
2022-12-06 18:15:02,586 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670350502 seconds). SubmitUpdate time: 22.898857593536377 seconds
2022-12-06 18:15:02,645 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=159b7dcc-2230-4156-aa9f-cc977b44a83b]: result sent to server for task: name=train, id=159b7dcc-2230-4156-aa9f-cc977b44a83b
2022-12-06 18:15:02,646 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:15:04,718 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:15:06,728 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:15:10,963 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670350510 seconds)
2022-12-06 18:15:10,964 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=3ac63f76-e510-4c66-bf22-7dc4f4394375
2022-12-06 18:15:10,964 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3ac63f76-e510-4c66-bf22-7dc4f4394375]: invoking result_received_cb ...
2022-12-06 18:15:11,129 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3ac63f76-e510-4c66-bf22-7dc4f4394375]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 18:15:11,129 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3ac63f76-e510-4c66-bf22-7dc4f4394375]: finished processing client result by scatter_and_gather
2022-12-06 18:15:11,133 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:15:11,160 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670350510 seconds). SubmitUpdate time: 22.945791959762573 seconds
2022-12-06 18:15:11,213 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3ac63f76-e510-4c66-bf22-7dc4f4394375]: result sent to server for task: name=train, id=3ac63f76-e510-4c66-bf22-7dc4f4394375
2022-12-06 18:15:11,214 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:15:13,168 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:15:13,292 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:15:15,181 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:15:15,309 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:15:17,193 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:15:17,321 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:15:19,206 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:15:19,333 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:15:21,219 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:15:21,320 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 18:15:21,345 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:15:21,820 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 18:15:21,821 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 4
2022-12-06 18:15:21,924 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 18:15:21,924 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 18:15:22,511 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 18:15:22,512 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 4 finished.
2022-12-06 18:15:22,512 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 5 started.
2022-12-06 18:15:22,512 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 18:15:23,228 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=9926bc64-a648-41d6-b0a9-19026295937d]: assigned task to client site-1: name=train, id=9926bc64-a648-41d6-b0a9-19026295937d
2022-12-06 18:15:23,230 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=9926bc64-a648-41d6-b0a9-19026295937d]: sent task assignment to client
2022-12-06 18:15:24,078 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 18:15:24,500 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=04a30539-7868-4a89-8f9a-019e383cfd41]: assigned task to client site-2: name=train, id=04a30539-7868-4a89-8f9a-019e383cfd41
2022-12-06 18:15:24,501 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=04a30539-7868-4a89-8f9a-019e383cfd41]: sent task assignment to client
2022-12-06 18:15:25,301 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 18:15:46,763 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.538201093673706 seconds
2022-12-06 18:15:46,781 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:15:47,197 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=9926bc64-a648-41d6-b0a9-19026295937d
2022-12-06 18:15:47,198 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9926bc64-a648-41d6-b0a9-19026295937d]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:15:47,198 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9926bc64-a648-41d6-b0a9-19026295937d]: Client trainer got task: train
2022-12-06 18:15:48,037 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.6860671043396 seconds
2022-12-06 18:15:48,055 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:15:48,469 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=04a30539-7868-4a89-8f9a-019e383cfd41
2022-12-06 18:15:48,470 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=04a30539-7868-4a89-8f9a-019e383cfd41]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:15:48,470 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=04a30539-7868-4a89-8f9a-019e383cfd41]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 18:16:09,385 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9926bc64-a648-41d6-b0a9-19026295937d]: Accuracy when validating site-1's model on site-1s data: 0.9553559351366466
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 18:16:10,588 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=04a30539-7868-4a89-8f9a-019e383cfd41]: Accuracy when validating site-2's model on site-2s data: 0.9553347395954987
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.44      0.11      0.18       222
         eve       0.30      0.15      0.20        96
         geo       0.81      0.83      0.82     14594
         gpe       0.92      0.89      0.91      5584
         nat       0.67      0.17      0.27       116
         org       0.68      0.66      0.67      8377
         per       0.73      0.77      0.75      7230
         tim       0.81      0.75      0.78      6802

   micro avg       0.78      0.77      0.78     43021
   macro avg       0.67      0.54      0.57     43021
weighted avg       0.78      0.77      0.78     43021

F1-score: 0.9611197835749689
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.29      0.12      0.17        16
         geo       0.77      0.83      0.80      1819
         gpe       0.90      0.93      0.91       731
         nat       0.00      0.00      0.00         6
         org       0.61      0.62      0.61       991
         per       0.71      0.73      0.72       907
         tim       0.81      0.77      0.79       854

   micro avg       0.75      0.77      0.76      5343
   macro avg       0.51      0.50      0.50      5343
weighted avg       0.75      0.77      0.76      5343

F1-score: 0.9560518582666159
2022-12-06 18:24:43,409 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9926bc64-a648-41d6-b0a9-19026295937d]: train:
              precision    recall  f1-score   support

         art       0.44      0.11      0.18       222
         eve       0.30      0.15      0.20        96
         geo       0.81      0.83      0.82     14594
         gpe       0.92      0.89      0.91      5584
         nat       0.67      0.17      0.27       116
         org       0.68      0.66      0.67      8377
         per       0.73      0.77      0.75      7230
         tim       0.81      0.75      0.78      6802

   micro avg       0.78      0.77      0.78     43021
   macro avg       0.67      0.54      0.57     43021
weighted avg       0.78      0.77      0.78     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.29      0.12      0.17        16
         geo       0.77      0.83      0.80      1819
         gpe       0.90      0.93      0.91       731
         nat       0.00      0.00      0.00         6
         org       0.61      0.62      0.61       991
         per       0.71      0.73      0.72       907
         tim       0.81      0.77      0.79       854

   micro avg       0.75      0.77      0.76      5343
   macro avg       0.51      0.50      0.50      5343
weighted avg       0.75      0.77      0.76      5343

2022-12-06 18:24:44,163 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 18:24:44,400 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9926bc64-a648-41d6-b0a9-19026295937d]: finished processing task
2022-12-06 18:24:44,401 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:24:45,219 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.30      0.05      0.09       176
         eve       0.36      0.18      0.24       117
         geo       0.81      0.83      0.82     14724
         gpe       0.92      0.88      0.90      5503
         nat       0.67      0.21      0.32        95
         org       0.67      0.64      0.66      8238
         per       0.70      0.74      0.72      6998
         tim       0.81      0.75      0.78      6773

   micro avg       0.78      0.77      0.77     42624
   macro avg       0.65      0.54      0.57     42624
weighted avg       0.77      0.77      0.77     42624

F1-score: 0.9606317798317933
val 0/1: 
              precision    recall  f1-score   support

         art       0.33      0.02      0.04        45
         eve       0.75      0.23      0.35        13
         geo       0.76      0.87      0.81      1773
         gpe       0.91      0.90      0.91       640
         nat       0.00      0.00      0.00        12
         org       0.73      0.60      0.66      1045
         per       0.68      0.77      0.72       940
         tim       0.78      0.79      0.79       859

   micro avg       0.76      0.78      0.77      5327
   macro avg       0.62      0.52      0.54      5327
weighted avg       0.76      0.78      0.77      5327

F1-score: 0.9582853310131948
2022-12-06 18:24:58,340 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=04a30539-7868-4a89-8f9a-019e383cfd41]: train:
              precision    recall  f1-score   support

         art       0.30      0.05      0.09       176
         eve       0.36      0.18      0.24       117
         geo       0.81      0.83      0.82     14724
         gpe       0.92      0.88      0.90      5503
         nat       0.67      0.21      0.32        95
         org       0.67      0.64      0.66      8238
         per       0.70      0.74      0.72      6998
         tim       0.81      0.75      0.78      6773

   micro avg       0.78      0.77      0.77     42624
   macro avg       0.65      0.54      0.57     42624
weighted avg       0.77      0.77      0.77     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.33      0.02      0.04        45
         eve       0.75      0.23      0.35        13
         geo       0.76      0.87      0.81      1773
         gpe       0.91      0.90      0.91       640
         nat       0.00      0.00      0.00        12
         org       0.73      0.60      0.66      1045
         per       0.68      0.77      0.72       940
         tim       0.78      0.79      0.79       859

   micro avg       0.76      0.78      0.77      5327
   macro avg       0.62      0.52      0.54      5327
weighted avg       0.76      0.78      0.77      5327

2022-12-06 18:24:58,519 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 18:24:59,206 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=04a30539-7868-4a89-8f9a-019e383cfd41]: finished processing task
2022-12-06 18:24:59,207 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:25:00,033 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 18:25:07,910 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670351107 seconds)
2022-12-06 18:25:07,910 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=9926bc64-a648-41d6-b0a9-19026295937d
2022-12-06 18:25:07,911 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9926bc64-a648-41d6-b0a9-19026295937d]: invoking result_received_cb ...
2022-12-06 18:25:07,997 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9926bc64-a648-41d6-b0a9-19026295937d]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 18:25:07,997 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9926bc64-a648-41d6-b0a9-19026295937d]: finished processing client result by scatter_and_gather
2022-12-06 18:25:08,028 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670351107 seconds). SubmitUpdate time: 22.80938410758972 seconds
2022-12-06 18:25:08,082 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9926bc64-a648-41d6-b0a9-19026295937d]: result sent to server for task: name=train, id=9926bc64-a648-41d6-b0a9-19026295937d
2022-12-06 18:25:08,082 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:10,157 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:12,173 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:14,184 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:16,194 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:18,205 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:22,834 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670351122 seconds)
2022-12-06 18:25:22,834 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=04a30539-7868-4a89-8f9a-019e383cfd41
2022-12-06 18:25:22,835 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=04a30539-7868-4a89-8f9a-019e383cfd41]: invoking result_received_cb ...
2022-12-06 18:25:22,997 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=04a30539-7868-4a89-8f9a-019e383cfd41]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 18:25:22,997 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=04a30539-7868-4a89-8f9a-019e383cfd41]: finished processing client result by scatter_and_gather
2022-12-06 18:25:23,002 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:23,029 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670351122 seconds). SubmitUpdate time: 22.996317863464355 seconds
2022-12-06 18:25:23,084 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=04a30539-7868-4a89-8f9a-019e383cfd41]: result sent to server for task: name=train, id=04a30539-7868-4a89-8f9a-019e383cfd41
2022-12-06 18:25:23,084 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:25:25,037 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:25,163 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:25:27,050 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:27,183 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:25:29,062 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:29,195 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:25:31,074 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:31,207 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:25:33,086 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:25:33,176 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 18:25:33,219 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:25:33,675 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 18:25:33,676 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 5
2022-12-06 18:25:33,822 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 18:25:33,823 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 18:25:34,523 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 18:25:34,523 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 5 finished.
2022-12-06 18:25:34,523 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 6 started.
2022-12-06 18:25:34,524 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 18:25:35,096 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=9becc18c-f68c-44a0-81d3-b5e304f3fd78]: assigned task to client site-1: name=train, id=9becc18c-f68c-44a0-81d3-b5e304f3fd78
2022-12-06 18:25:35,097 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=9becc18c-f68c-44a0-81d3-b5e304f3fd78]: sent task assignment to client
2022-12-06 18:25:35,969 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 18:25:36,390 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=097247d0-1050-4b3c-a928-646afc10235b]: assigned task to client site-2: name=train, id=097247d0-1050-4b3c-a928-646afc10235b
2022-12-06 18:25:36,392 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=097247d0-1050-4b3c-a928-646afc10235b]: sent task assignment to client
2022-12-06 18:25:37,198 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 18:25:58,640 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.547202825546265 seconds
2022-12-06 18:25:58,646 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:25:59,087 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=9becc18c-f68c-44a0-81d3-b5e304f3fd78
2022-12-06 18:25:59,088 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9becc18c-f68c-44a0-81d3-b5e304f3fd78]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:25:59,088 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9becc18c-f68c-44a0-81d3-b5e304f3fd78]: Client trainer got task: train
2022-12-06 18:25:59,812 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.586760759353638 seconds
2022-12-06 18:25:59,829 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:26:00,241 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=097247d0-1050-4b3c-a928-646afc10235b
2022-12-06 18:26:00,242 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=097247d0-1050-4b3c-a928-646afc10235b]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:26:00,242 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=097247d0-1050-4b3c-a928-646afc10235b]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 18:26:21,255 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9becc18c-f68c-44a0-81d3-b5e304f3fd78]: Accuracy when validating site-1's model on site-1s data: 0.9586621232863972
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 18:26:22,337 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=097247d0-1050-4b3c-a928-646afc10235b]: Accuracy when validating site-2's model on site-2s data: 0.9589854393724012
2022-12-06 18:35:04,530 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
-------------------------------------------------- save local model: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.44      0.16      0.24       222
         eve       0.30      0.18      0.22        96
         geo       0.82      0.84      0.83     14594
         gpe       0.93      0.89      0.91      5584
         nat       0.62      0.24      0.35       116
         org       0.70      0.68      0.69      8377
         per       0.74      0.78      0.76      7230
         tim       0.81      0.76      0.78      6802

   micro avg       0.79      0.79      0.79     43021
   macro avg       0.67      0.57      0.60     43021
weighted avg       0.79      0.79      0.79     43021

F1-score: 0.9633023467498437
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.29      0.12      0.17        16
         geo       0.83      0.82      0.83      1819
         gpe       0.89      0.95      0.92       731
         nat       0.00      0.00      0.00         6
         org       0.61      0.65      0.63       991
         per       0.69      0.76      0.72       907
         tim       0.83      0.81      0.82       854

   micro avg       0.77      0.79      0.78      5343
   macro avg       0.52      0.51      0.51      5343
weighted avg       0.77      0.79      0.78      5343

F1-score: 0.9600720754891237
2022-12-06 18:35:04,531 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9becc18c-f68c-44a0-81d3-b5e304f3fd78]: train:
              precision    recall  f1-score   support

         art       0.44      0.16      0.24       222
         eve       0.30      0.18      0.22        96
         geo       0.82      0.84      0.83     14594
         gpe       0.93      0.89      0.91      5584
         nat       0.62      0.24      0.35       116
         org       0.70      0.68      0.69      8377
         per       0.74      0.78      0.76      7230
         tim       0.81      0.76      0.78      6802

   micro avg       0.79      0.79      0.79     43021
   macro avg       0.67      0.57      0.60     43021
weighted avg       0.79      0.79      0.79     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.29      0.12      0.17        16
         geo       0.83      0.82      0.83      1819
         gpe       0.89      0.95      0.92       731
         nat       0.00      0.00      0.00         6
         org       0.61      0.65      0.63       991
         per       0.69      0.76      0.72       907
         tim       0.83      0.81      0.82       854

   micro avg       0.77      0.79      0.78      5343
   macro avg       0.52      0.51      0.51      5343
weighted avg       0.77      0.79      0.78      5343

-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 18:35:05,417 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9becc18c-f68c-44a0-81d3-b5e304f3fd78]: finished processing task
2022-12-06 18:35:05,419 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:35:06,242 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 18:35:08,283 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.51      0.15      0.24       176
         eve       0.43      0.19      0.26       117
         geo       0.82      0.84      0.83     14724
         gpe       0.93      0.89      0.91      5503
         nat       0.51      0.22      0.31        95
         org       0.70      0.67      0.68      8238
         per       0.71      0.76      0.73      6998
         tim       0.81      0.77      0.79      6773

   micro avg       0.79      0.78      0.79     42624
   macro avg       0.68      0.56      0.59     42624
weighted avg       0.79      0.78      0.78     42624

F1-score: 0.9636954424521141
val 0/1: 
              precision    recall  f1-score   support

         art       0.67      0.09      0.16        45
         eve       0.75      0.23      0.35        13
         geo       0.81      0.87      0.84      1773
         gpe       0.93      0.90      0.91       640
         nat       0.00      0.00      0.00        12
         org       0.67      0.68      0.68      1045
         per       0.73      0.73      0.73       940
         tim       0.79      0.82      0.81       859

   micro avg       0.78      0.79      0.79      5327
   macro avg       0.67      0.54      0.56      5327
weighted avg       0.78      0.79      0.78      5327

F1-score: 0.9614196001839177
2022-12-06 18:35:08,821 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=097247d0-1050-4b3c-a928-646afc10235b]: train:
              precision    recall  f1-score   support

         art       0.51      0.15      0.24       176
         eve       0.43      0.19      0.26       117
         geo       0.82      0.84      0.83     14724
         gpe       0.93      0.89      0.91      5503
         nat       0.51      0.22      0.31        95
         org       0.70      0.67      0.68      8238
         per       0.71      0.76      0.73      6998
         tim       0.81      0.77      0.79      6773

   micro avg       0.79      0.78      0.79     42624
   macro avg       0.68      0.56      0.59     42624
weighted avg       0.79      0.78      0.78     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.67      0.09      0.16        45
         eve       0.75      0.23      0.35        13
         geo       0.81      0.87      0.84      1773
         gpe       0.93      0.90      0.91       640
         nat       0.00      0.00      0.00        12
         org       0.67      0.68      0.68      1045
         per       0.73      0.73      0.73       940
         tim       0.79      0.82      0.81       859

   micro avg       0.78      0.79      0.79      5327
   macro avg       0.67      0.54      0.56      5327
weighted avg       0.78      0.79      0.78      5327

-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 18:35:09,719 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=097247d0-1050-4b3c-a928-646afc10235b]: finished processing task
2022-12-06 18:35:09,721 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:35:10,513 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 18:35:28,920 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670351728 seconds)
2022-12-06 18:35:28,921 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=9becc18c-f68c-44a0-81d3-b5e304f3fd78
2022-12-06 18:35:28,921 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9becc18c-f68c-44a0-81d3-b5e304f3fd78]: invoking result_received_cb ...
2022-12-06 18:35:28,993 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9becc18c-f68c-44a0-81d3-b5e304f3fd78]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 18:35:28,993 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9becc18c-f68c-44a0-81d3-b5e304f3fd78]: finished processing client result by scatter_and_gather
2022-12-06 18:35:29,026 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670351728 seconds). SubmitUpdate time: 22.783148288726807 seconds
2022-12-06 18:35:29,082 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9becc18c-f68c-44a0-81d3-b5e304f3fd78]: result sent to server for task: name=train, id=9becc18c-f68c-44a0-81d3-b5e304f3fd78
2022-12-06 18:35:29,082 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:35:33,218 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670351733 seconds)
2022-12-06 18:35:33,218 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=097247d0-1050-4b3c-a928-646afc10235b
2022-12-06 18:35:33,219 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=097247d0-1050-4b3c-a928-646afc10235b]: invoking result_received_cb ...
2022-12-06 18:35:33,374 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=097247d0-1050-4b3c-a928-646afc10235b]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 18:35:33,374 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=097247d0-1050-4b3c-a928-646afc10235b]: finished processing client result by scatter_and_gather
2022-12-06 18:35:33,410 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670351733 seconds). SubmitUpdate time: 22.89627242088318 seconds
2022-12-06 18:35:33,415 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:35:33,444 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=097247d0-1050-4b3c-a928-646afc10235b]: result sent to server for task: name=train, id=097247d0-1050-4b3c-a928-646afc10235b
2022-12-06 18:35:33,444 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:35:35,427 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:35:35,523 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:35:37,440 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:35:37,535 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:35:39,453 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:35:39,545 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:35:41,465 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:35:41,557 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:35:43,478 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:35:43,569 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:35:43,570 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 18:35:44,070 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 18:35:44,071 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 6
2022-12-06 18:35:44,203 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 18:35:44,203 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 18:35:44,995 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 18:35:44,996 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 6 finished.
2022-12-06 18:35:44,996 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 7 started.
2022-12-06 18:35:44,997 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 18:35:45,488 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=a6989481-061c-43b2-adb3-be46840823a2]: assigned task to client site-1: name=train, id=a6989481-061c-43b2-adb3-be46840823a2
2022-12-06 18:35:45,489 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=a6989481-061c-43b2-adb3-be46840823a2]: sent task assignment to client
2022-12-06 18:35:46,353 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 18:35:46,772 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7]: assigned task to client site-2: name=train, id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7
2022-12-06 18:35:46,773 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7]: sent task assignment to client
2022-12-06 18:35:47,585 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 18:36:09,142 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.657591342926025 seconds
2022-12-06 18:36:09,180 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:36:09,595 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=a6989481-061c-43b2-adb3-be46840823a2
2022-12-06 18:36:09,596 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a6989481-061c-43b2-adb3-be46840823a2]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:36:09,596 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a6989481-061c-43b2-adb3-be46840823a2]: Client trainer got task: train
2022-12-06 18:36:10,230 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.654610633850098 seconds
2022-12-06 18:36:10,247 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:36:10,652 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7
2022-12-06 18:36:10,652 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:36:10,652 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 18:36:31,743 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a6989481-061c-43b2-adb3-be46840823a2]: Accuracy when validating site-1's model on site-1s data: 0.9609368135907413
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 18:36:32,715 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7]: Accuracy when validating site-2's model on site-2s data: 0.9618495473081724
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.49      0.27      0.35       222
         eve       0.25      0.16      0.19        96
         geo       0.82      0.85      0.84     14594
         gpe       0.94      0.90      0.92      5584
         nat       0.62      0.30      0.41       116
         org       0.72      0.70      0.71      8377
         per       0.76      0.79      0.78      7230
         tim       0.83      0.78      0.80      6802

   micro avg       0.81      0.80      0.80     43021
   macro avg       0.68      0.59      0.62     43021
weighted avg       0.81      0.80      0.80     43021

F1-score: 0.9661720807072414
val 0/1: 
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.38      0.19      0.25        16
         geo       0.78      0.84      0.81      1819
         gpe       0.87      0.93      0.90       731
         nat       0.00      0.00      0.00         6
         org       0.68      0.57      0.62       991
         per       0.66      0.79      0.72       907
         tim       0.77      0.79      0.78       854

   micro avg       0.75      0.78      0.77      5343
   macro avg       0.52      0.51      0.51      5343
weighted avg       0.75      0.78      0.76      5343

F1-score: 0.9553235819337881
2022-12-06 18:45:14,116 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a6989481-061c-43b2-adb3-be46840823a2]: train:
              precision    recall  f1-score   support

         art       0.49      0.27      0.35       222
         eve       0.25      0.16      0.19        96
         geo       0.82      0.85      0.84     14594
         gpe       0.94      0.90      0.92      5584
         nat       0.62      0.30      0.41       116
         org       0.72      0.70      0.71      8377
         per       0.76      0.79      0.78      7230
         tim       0.83      0.78      0.80      6802

   micro avg       0.81      0.80      0.80     43021
   macro avg       0.68      0.59      0.62     43021
weighted avg       0.81      0.80      0.80     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.00      0.00      0.00        19
         eve       0.38      0.19      0.25        16
         geo       0.78      0.84      0.81      1819
         gpe       0.87      0.93      0.90       731
         nat       0.00      0.00      0.00         6
         org       0.68      0.57      0.62       991
         per       0.66      0.79      0.72       907
         tim       0.77      0.79      0.78       854

   micro avg       0.75      0.78      0.77      5343
   macro avg       0.52      0.51      0.51      5343
weighted avg       0.75      0.78      0.76      5343

-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 18:45:15,026 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a6989481-061c-43b2-adb3-be46840823a2]: finished processing task
2022-12-06 18:45:15,027 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:45:15,212 - SimulatorServer - INFO - getting AuxCommunicate request
2022-12-06 18:45:15,853 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.43      0.19      0.27       176
         eve       0.37      0.19      0.25       117
         geo       0.83      0.86      0.84     14724
         gpe       0.93      0.90      0.91      5503
         nat       0.62      0.34      0.44        95
         org       0.72      0.69      0.71      8238
         per       0.74      0.77      0.75      6998
         tim       0.83      0.78      0.80      6773

   micro avg       0.80      0.80      0.80     42624
   macro avg       0.68      0.59      0.62     42624
weighted avg       0.80      0.80      0.80     42624

F1-score: 0.9665301824629093
val 0/1: 
              precision    recall  f1-score   support

         art       0.62      0.18      0.28        45
         eve       0.29      0.15      0.20        13
         geo       0.82      0.80      0.81      1773
         gpe       0.78      0.93      0.85       640
         nat       0.00      0.00      0.00        12
         org       0.71      0.63      0.67      1045
         per       0.70      0.74      0.72       940
         tim       0.83      0.77      0.80       859

   micro avg       0.77      0.76      0.77      5327
   macro avg       0.59      0.53      0.54      5327
weighted avg       0.77      0.76      0.76      5327

F1-score: 0.9564523594709141
2022-12-06 18:45:17,635 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7]: train:
              precision    recall  f1-score   support

         art       0.43      0.19      0.27       176
         eve       0.37      0.19      0.25       117
         geo       0.83      0.86      0.84     14724
         gpe       0.93      0.90      0.91      5503
         nat       0.62      0.34      0.44        95
         org       0.72      0.69      0.71      8238
         per       0.74      0.77      0.75      6998
         tim       0.83      0.78      0.80      6773

   micro avg       0.80      0.80      0.80     42624
   macro avg       0.68      0.59      0.62     42624
weighted avg       0.80      0.80      0.80     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.62      0.18      0.28        45
         eve       0.29      0.15      0.20        13
         geo       0.82      0.80      0.81      1773
         gpe       0.78      0.93      0.85       640
         nat       0.00      0.00      0.00        12
         org       0.71      0.63      0.67      1045
         per       0.70      0.74      0.72       940
         tim       0.83      0.77      0.80       859

   micro avg       0.77      0.76      0.77      5327
   macro avg       0.59      0.53      0.54      5327
weighted avg       0.77      0.76      0.76      5327

2022-12-06 18:45:18,640 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 18:45:18,699 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7]: finished processing task
2022-12-06 18:45:18,701 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:45:19,486 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 18:45:38,550 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670352338 seconds)
2022-12-06 18:45:38,551 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=a6989481-061c-43b2-adb3-be46840823a2
2022-12-06 18:45:38,551 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a6989481-061c-43b2-adb3-be46840823a2]: invoking result_received_cb ...
2022-12-06 18:45:38,621 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a6989481-061c-43b2-adb3-be46840823a2]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 18:45:38,622 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a6989481-061c-43b2-adb3-be46840823a2]: finished processing client result by scatter_and_gather
2022-12-06 18:45:38,653 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670352338 seconds). SubmitUpdate time: 22.799985647201538 seconds
2022-12-06 18:45:38,692 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a6989481-061c-43b2-adb3-be46840823a2]: result sent to server for task: name=train, id=a6989481-061c-43b2-adb3-be46840823a2
2022-12-06 18:45:38,693 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:45:42,233 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670352342 seconds)
2022-12-06 18:45:42,233 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7
2022-12-06 18:45:42,234 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7]: invoking result_received_cb ...
2022-12-06 18:45:42,394 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 18:45:42,395 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7]: finished processing client result by scatter_and_gather
2022-12-06 18:45:42,430 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670352342 seconds). SubmitUpdate time: 22.94369101524353 seconds
2022-12-06 18:45:42,432 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:45:42,487 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7]: result sent to server for task: name=train, id=c21a7821-3d46-4508-92c6-f2b9f5d3cef7
2022-12-06 18:45:42,487 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:45:44,444 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:45:44,554 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:45:46,456 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:45:46,566 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:45:48,468 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:45:48,578 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:45:50,480 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:45:50,590 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:45:52,492 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:45:52,584 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 18:45:52,602 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:45:53,083 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 18:45:53,084 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 7
2022-12-06 18:45:53,186 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 18:45:53,186 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 18:45:54,034 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 18:45:54,034 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 7 finished.
2022-12-06 18:45:54,035 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 8 started.
2022-12-06 18:45:54,035 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 18:45:54,501 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=eb958c28-06eb-4da4-8350-13ae58d8f65b]: assigned task to client site-1: name=train, id=eb958c28-06eb-4da4-8350-13ae58d8f65b
2022-12-06 18:45:54,502 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=eb958c28-06eb-4da4-8350-13ae58d8f65b]: sent task assignment to client
2022-12-06 18:45:55,357 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 18:45:55,770 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=7d20ed5b-a686-43dd-9a94-4f2756b907a6]: assigned task to client site-2: name=train, id=7d20ed5b-a686-43dd-9a94-4f2756b907a6
2022-12-06 18:45:55,772 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=7d20ed5b-a686-43dd-9a94-4f2756b907a6]: sent task assignment to client
2022-12-06 18:45:56,594 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 18:46:18,057 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.558822870254517 seconds
2022-12-06 18:46:18,076 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:46:18,517 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=eb958c28-06eb-4da4-8350-13ae58d8f65b
2022-12-06 18:46:18,517 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=eb958c28-06eb-4da4-8350-13ae58d8f65b]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:46:18,518 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=eb958c28-06eb-4da4-8350-13ae58d8f65b]: Client trainer got task: train
2022-12-06 18:46:19,287 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.679088830947876 seconds
2022-12-06 18:46:19,304 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:46:19,705 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=7d20ed5b-a686-43dd-9a94-4f2756b907a6
2022-12-06 18:46:19,705 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7d20ed5b-a686-43dd-9a94-4f2756b907a6]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:46:19,705 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7d20ed5b-a686-43dd-9a94-4f2756b907a6]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 18:46:40,693 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=eb958c28-06eb-4da4-8350-13ae58d8f65b]: Accuracy when validating site-1's model on site-1s data: 0.95819349072297
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 18:46:41,749 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7d20ed5b-a686-43dd-9a94-4f2756b907a6]: Accuracy when validating site-2's model on site-2s data: 0.9581287828608872
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.57      0.33      0.42       222
         eve       0.35      0.25      0.29        96
         geo       0.84      0.87      0.85     14594
         gpe       0.94      0.91      0.93      5584
         nat       0.60      0.36      0.45       116
         org       0.73      0.71      0.72      8377
         per       0.78      0.81      0.79      7230
         tim       0.83      0.79      0.81      6802

   micro avg       0.82      0.81      0.82     43021
   macro avg       0.70      0.63      0.66     43021
weighted avg       0.82      0.81      0.81     43021

F1-score: 0.9686082517227577
val 0/1: 
              precision    recall  f1-score   support

         art       0.06      0.05      0.06        19
         eve       0.12      0.06      0.08        16
         geo       0.85      0.80      0.82      1819
         gpe       0.92      0.95      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.56      0.71      0.62       991
         per       0.73      0.71      0.72       907
         tim       0.81      0.81      0.81       854

   micro avg       0.76      0.78      0.77      5343
   macro avg       0.51      0.51      0.51      5343
weighted avg       0.77      0.78      0.78      5343

F1-score: 0.9576937901112339
2022-12-06 18:55:20,793 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=eb958c28-06eb-4da4-8350-13ae58d8f65b]: train:
              precision    recall  f1-score   support

         art       0.57      0.33      0.42       222
         eve       0.35      0.25      0.29        96
         geo       0.84      0.87      0.85     14594
         gpe       0.94      0.91      0.93      5584
         nat       0.60      0.36      0.45       116
         org       0.73      0.71      0.72      8377
         per       0.78      0.81      0.79      7230
         tim       0.83      0.79      0.81      6802

   micro avg       0.82      0.81      0.82     43021
   macro avg       0.70      0.63      0.66     43021
weighted avg       0.82      0.81      0.81     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.06      0.05      0.06        19
         eve       0.12      0.06      0.08        16
         geo       0.85      0.80      0.82      1819
         gpe       0.92      0.95      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.56      0.71      0.62       991
         per       0.73      0.71      0.72       907
         tim       0.81      0.81      0.81       854

   micro avg       0.76      0.78      0.77      5343
   macro avg       0.51      0.51      0.51      5343
weighted avg       0.77      0.78      0.78      5343

2022-12-06 18:55:20,966 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 18:55:21,723 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=eb958c28-06eb-4da4-8350-13ae58d8f65b]: finished processing task
2022-12-06 18:55:21,724 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:55:22,531 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 18:55:26,668 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.53      0.29      0.38       176
         eve       0.34      0.24      0.28       117
         geo       0.84      0.86      0.85     14724
         gpe       0.94      0.90      0.92      5503
         nat       0.55      0.35      0.43        95
         org       0.73      0.71      0.72      8238
         per       0.75      0.79      0.77      6998
         tim       0.84      0.80      0.82      6773

   micro avg       0.81      0.81      0.81     42624
   macro avg       0.69      0.62      0.65     42624
weighted avg       0.81      0.81      0.81     42624

F1-score: 0.9690565219386498
val 0/1: 
              precision    recall  f1-score   support

         art       0.59      0.22      0.32        45
         eve       0.50      0.15      0.24        13
         geo       0.83      0.86      0.84      1773
         gpe       0.91      0.93      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.70      0.69      0.69      1045
         per       0.74      0.73      0.74       940
         tim       0.83      0.81      0.82       859

   micro avg       0.80      0.79      0.79      5327
   macro avg       0.64      0.55      0.57      5327
weighted avg       0.79      0.79      0.79      5327

F1-score: 0.9619184317634502
2022-12-06 18:55:27,393 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7d20ed5b-a686-43dd-9a94-4f2756b907a6]: train:
              precision    recall  f1-score   support

         art       0.53      0.29      0.38       176
         eve       0.34      0.24      0.28       117
         geo       0.84      0.86      0.85     14724
         gpe       0.94      0.90      0.92      5503
         nat       0.55      0.35      0.43        95
         org       0.73      0.71      0.72      8238
         per       0.75      0.79      0.77      6998
         tim       0.84      0.80      0.82      6773

   micro avg       0.81      0.81      0.81     42624
   macro avg       0.69      0.62      0.65     42624
weighted avg       0.81      0.81      0.81     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.59      0.22      0.32        45
         eve       0.50      0.15      0.24        13
         geo       0.83      0.86      0.84      1773
         gpe       0.91      0.93      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.70      0.69      0.69      1045
         per       0.74      0.73      0.74       940
         tim       0.83      0.81      0.82       859

   micro avg       0.80      0.79      0.79      5327
   macro avg       0.64      0.55      0.57      5327
weighted avg       0.79      0.79      0.79      5327

-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 18:55:28,294 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7d20ed5b-a686-43dd-9a94-4f2756b907a6]: finished processing task
2022-12-06 18:55:28,295 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 18:55:29,115 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 18:55:45,256 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670352945 seconds)
2022-12-06 18:55:45,256 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=eb958c28-06eb-4da4-8350-13ae58d8f65b
2022-12-06 18:55:45,257 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=eb958c28-06eb-4da4-8350-13ae58d8f65b]: invoking result_received_cb ...
2022-12-06 18:55:45,327 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=eb958c28-06eb-4da4-8350-13ae58d8f65b]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 18:55:45,327 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=eb958c28-06eb-4da4-8350-13ae58d8f65b]: finished processing client result by scatter_and_gather
2022-12-06 18:55:45,359 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670352945 seconds). SubmitUpdate time: 22.82833743095398 seconds
2022-12-06 18:55:45,415 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=eb958c28-06eb-4da4-8350-13ae58d8f65b]: result sent to server for task: name=train, id=eb958c28-06eb-4da4-8350-13ae58d8f65b
2022-12-06 18:55:45,416 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:55:47,475 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:55:51,880 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670352951 seconds)
2022-12-06 18:55:51,880 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=7d20ed5b-a686-43dd-9a94-4f2756b907a6
2022-12-06 18:55:51,881 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7d20ed5b-a686-43dd-9a94-4f2756b907a6]: invoking result_received_cb ...
2022-12-06 18:55:52,034 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7d20ed5b-a686-43dd-9a94-4f2756b907a6]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 18:55:52,035 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7d20ed5b-a686-43dd-9a94-4f2756b907a6]: finished processing client result by scatter_and_gather
2022-12-06 18:55:52,039 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:55:52,066 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670352951 seconds). SubmitUpdate time: 22.95097255706787 seconds
2022-12-06 18:55:52,120 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7d20ed5b-a686-43dd-9a94-4f2756b907a6]: result sent to server for task: name=train, id=7d20ed5b-a686-43dd-9a94-4f2756b907a6
2022-12-06 18:55:52,121 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:55:54,073 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:55:54,204 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:55:56,085 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:55:56,223 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:55:58,097 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:55:58,235 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:56:00,109 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:56:00,247 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:56:02,121 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 18:56:02,236 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 18:56:02,259 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 18:56:02,734 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 18:56:02,735 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 8
2022-12-06 18:56:02,879 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 18:56:02,879 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 18:56:03,500 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 18:56:03,501 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 8 finished.
2022-12-06 18:56:03,501 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 9 started.
2022-12-06 18:56:03,502 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 18:56:04,131 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=31dcf95f-d841-4ecb-851f-6048fad6d4bf]: assigned task to client site-1: name=train, id=31dcf95f-d841-4ecb-851f-6048fad6d4bf
2022-12-06 18:56:04,132 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=31dcf95f-d841-4ecb-851f-6048fad6d4bf]: sent task assignment to client
2022-12-06 18:56:04,992 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 18:56:05,406 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=55c5923f-188e-4ed6-af7f-66a0b73175fb]: assigned task to client site-2: name=train, id=55c5923f-188e-4ed6-af7f-66a0b73175fb
2022-12-06 18:56:05,407 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=55c5923f-188e-4ed6-af7f-66a0b73175fb]: sent task assignment to client
2022-12-06 18:56:06,212 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 18:56:27,604 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.4770290851593 seconds
2022-12-06 18:56:27,637 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:56:28,052 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=31dcf95f-d841-4ecb-851f-6048fad6d4bf
2022-12-06 18:56:28,053 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=31dcf95f-d841-4ecb-851f-6048fad6d4bf]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:56:28,053 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=31dcf95f-d841-4ecb-851f-6048fad6d4bf]: Client trainer got task: train
2022-12-06 18:56:28,905 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.642326831817627 seconds
2022-12-06 18:56:28,922 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 18:56:29,350 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=55c5923f-188e-4ed6-af7f-66a0b73175fb
2022-12-06 18:56:29,350 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=55c5923f-188e-4ed6-af7f-66a0b73175fb]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 18:56:29,351 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=55c5923f-188e-4ed6-af7f-66a0b73175fb]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 18:56:50,211 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=31dcf95f-d841-4ecb-851f-6048fad6d4bf]: Accuracy when validating site-1's model on site-1s data: 0.9609886486532433
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 18:56:51,414 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=55c5923f-188e-4ed6-af7f-66a0b73175fb]: Accuracy when validating site-2's model on site-2s data: 0.9623519629814776
2022-12-06 19:05:32,226 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
-------------------------------------------------- save local model: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.64      0.40      0.49       222
         eve       0.28      0.20      0.23        96
         geo       0.84      0.87      0.86     14594
         gpe       0.94      0.91      0.92      5584
         nat       0.55      0.31      0.40       116
         org       0.75      0.73      0.74      8377
         per       0.79      0.81      0.80      7230
         tim       0.84      0.80      0.82      6802

   micro avg       0.83      0.82      0.83     43021
   macro avg       0.70      0.63      0.66     43021
weighted avg       0.83      0.82      0.82     43021

F1-score: 0.9705684511519617
val 0/1: 
              precision    recall  f1-score   support

         art       0.15      0.11      0.12        19
         eve       0.33      0.25      0.29        16
         geo       0.80      0.86      0.83      1819
         gpe       0.92      0.95      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.68      0.61      0.64       991
         per       0.67      0.78      0.72       907
         tim       0.84      0.81      0.83       854

   micro avg       0.78      0.80      0.79      5343
   macro avg       0.55      0.55      0.55      5343
weighted avg       0.78      0.80      0.79      5343

F1-score: 0.9606451292543022
2022-12-06 19:05:32,931 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=31dcf95f-d841-4ecb-851f-6048fad6d4bf]: train:
              precision    recall  f1-score   support

         art       0.64      0.40      0.49       222
         eve       0.28      0.20      0.23        96
         geo       0.84      0.87      0.86     14594
         gpe       0.94      0.91      0.92      5584
         nat       0.55      0.31      0.40       116
         org       0.75      0.73      0.74      8377
         per       0.79      0.81      0.80      7230
         tim       0.84      0.80      0.82      6802

   micro avg       0.83      0.82      0.83     43021
   macro avg       0.70      0.63      0.66     43021
weighted avg       0.83      0.82      0.82     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.15      0.11      0.12        19
         eve       0.33      0.25      0.29        16
         geo       0.80      0.86      0.83      1819
         gpe       0.92      0.95      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.68      0.61      0.64       991
         per       0.67      0.78      0.72       907
         tim       0.84      0.81      0.83       854

   micro avg       0.78      0.80      0.79      5343
   macro avg       0.55      0.55      0.55      5343
weighted avg       0.78      0.80      0.79      5343

-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 19:05:33,800 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=31dcf95f-d841-4ecb-851f-6048fad6d4bf]: finished processing task
2022-12-06 19:05:33,802 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:05:34,620 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 19:05:36,294 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.56      0.34      0.42       176
         eve       0.35      0.23      0.28       117
         geo       0.85      0.88      0.86     14724
         gpe       0.94      0.91      0.93      5503
         nat       0.60      0.36      0.45        95
         org       0.74      0.73      0.73      8238
         per       0.76      0.79      0.78      6998
         tim       0.85      0.82      0.83      6773

   micro avg       0.82      0.82      0.82     42624
   macro avg       0.71      0.63      0.66     42624
weighted avg       0.82      0.82      0.82     42624

F1-score: 0.9709983371968282
val 0/1: 
              precision    recall  f1-score   support

         art       0.53      0.22      0.31        45
         eve       0.38      0.23      0.29        13
         geo       0.81      0.87      0.84      1773
         gpe       0.93      0.91      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.70      0.67      0.69      1045
         per       0.72      0.74      0.73       940
         tim       0.85      0.82      0.84       859

   micro avg       0.79      0.80      0.80      5327
   macro avg       0.61      0.56      0.58      5327
weighted avg       0.79      0.80      0.79      5327

F1-score: 0.96207663657383
2022-12-06 19:05:36,346 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=55c5923f-188e-4ed6-af7f-66a0b73175fb]: train:
              precision    recall  f1-score   support

         art       0.56      0.34      0.42       176
         eve       0.35      0.23      0.28       117
         geo       0.85      0.88      0.86     14724
         gpe       0.94      0.91      0.93      5503
         nat       0.60      0.36      0.45        95
         org       0.74      0.73      0.73      8238
         per       0.76      0.79      0.78      6998
         tim       0.85      0.82      0.83      6773

   micro avg       0.82      0.82      0.82     42624
   macro avg       0.71      0.63      0.66     42624
weighted avg       0.82      0.82      0.82     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.53      0.22      0.31        45
         eve       0.38      0.23      0.29        13
         geo       0.81      0.87      0.84      1773
         gpe       0.93      0.91      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.70      0.67      0.69      1045
         per       0.72      0.74      0.73       940
         tim       0.85      0.82      0.84       859

   micro avg       0.79      0.80      0.80      5327
   macro avg       0.61      0.56      0.58      5327
weighted avg       0.79      0.80      0.79      5327

-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 19:05:37,220 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=55c5923f-188e-4ed6-af7f-66a0b73175fb]: finished processing task
2022-12-06 19:05:37,222 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:05:38,014 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 19:05:57,321 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670353557 seconds)
2022-12-06 19:05:57,321 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=31dcf95f-d841-4ecb-851f-6048fad6d4bf
2022-12-06 19:05:57,321 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=31dcf95f-d841-4ecb-851f-6048fad6d4bf]: invoking result_received_cb ...
2022-12-06 19:05:57,392 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=31dcf95f-d841-4ecb-851f-6048fad6d4bf]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 19:05:57,392 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=31dcf95f-d841-4ecb-851f-6048fad6d4bf]: finished processing client result by scatter_and_gather
2022-12-06 19:05:57,422 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670353557 seconds). SubmitUpdate time: 22.801997900009155 seconds
2022-12-06 19:05:57,474 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=31dcf95f-d841-4ecb-851f-6048fad6d4bf]: result sent to server for task: name=train, id=31dcf95f-d841-4ecb-851f-6048fad6d4bf
2022-12-06 19:05:57,475 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:06:00,694 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670353560 seconds)
2022-12-06 19:06:00,694 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=55c5923f-188e-4ed6-af7f-66a0b73175fb
2022-12-06 19:06:00,695 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=55c5923f-188e-4ed6-af7f-66a0b73175fb]: invoking result_received_cb ...
2022-12-06 19:06:00,848 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=55c5923f-188e-4ed6-af7f-66a0b73175fb]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 19:06:00,848 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=55c5923f-188e-4ed6-af7f-66a0b73175fb]: finished processing client result by scatter_and_gather
2022-12-06 19:06:00,882 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670353560 seconds). SubmitUpdate time: 22.867159605026245 seconds
2022-12-06 19:06:00,885 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:06:00,902 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=55c5923f-188e-4ed6-af7f-66a0b73175fb]: result sent to server for task: name=train, id=55c5923f-188e-4ed6-af7f-66a0b73175fb
2022-12-06 19:06:00,903 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:06:02,904 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:06:02,974 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:06:04,917 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:06:04,986 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:06:06,928 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:06:06,998 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:06:08,940 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:06:09,010 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:06:10,953 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:06:11,022 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:06:11,049 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 19:06:11,548 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 19:06:11,549 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 9
2022-12-06 19:06:11,648 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 19:06:11,648 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 19:06:12,333 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 19:06:12,334 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 9 finished.
2022-12-06 19:06:12,334 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 10 started.
2022-12-06 19:06:12,335 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 19:06:12,960 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=367b6ce1-15df-4fad-9ed8-0b10514a5693]: assigned task to client site-1: name=train, id=367b6ce1-15df-4fad-9ed8-0b10514a5693
2022-12-06 19:06:12,962 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=367b6ce1-15df-4fad-9ed8-0b10514a5693]: sent task assignment to client
2022-12-06 19:06:13,859 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 19:06:14,279 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=1eece279-1ce8-443b-b1aa-fda194700ef3]: assigned task to client site-2: name=train, id=1eece279-1ce8-443b-b1aa-fda194700ef3
2022-12-06 19:06:14,281 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=1eece279-1ce8-443b-b1aa-fda194700ef3]: sent task assignment to client
2022-12-06 19:06:15,080 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 19:06:36,572 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.615022659301758 seconds
2022-12-06 19:06:36,591 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:06:37,008 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=367b6ce1-15df-4fad-9ed8-0b10514a5693
2022-12-06 19:06:37,008 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=367b6ce1-15df-4fad-9ed8-0b10514a5693]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:06:37,008 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=367b6ce1-15df-4fad-9ed8-0b10514a5693]: Client trainer got task: train
2022-12-06 19:06:37,718 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.690598726272583 seconds
2022-12-06 19:06:37,735 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:06:38,142 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=1eece279-1ce8-443b-b1aa-fda194700ef3
2022-12-06 19:06:38,142 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1eece279-1ce8-443b-b1aa-fda194700ef3]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:06:38,142 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1eece279-1ce8-443b-b1aa-fda194700ef3]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 19:06:59,158 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=367b6ce1-15df-4fad-9ed8-0b10514a5693]: Accuracy when validating site-1's model on site-1s data: 0.9620104876858017
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 19:07:00,177 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1eece279-1ce8-443b-b1aa-fda194700ef3]: Accuracy when validating site-2's model on site-2s data: 0.9630716279895178
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.60      0.41      0.49       222
         eve       0.40      0.28      0.33        96
         geo       0.85      0.89      0.87     14594
         gpe       0.95      0.92      0.93      5584
         nat       0.66      0.37      0.48       116
         org       0.78      0.75      0.76      8377
         per       0.80      0.83      0.81      7230
         tim       0.86      0.82      0.84      6802

   micro avg       0.84      0.84      0.84     43021
   macro avg       0.74      0.66      0.69     43021
weighted avg       0.84      0.84      0.84     43021

F1-score: 0.9734217319594107
val 0/1: 
              precision    recall  f1-score   support

         art       0.22      0.11      0.14        19
         eve       0.25      0.19      0.21        16
         geo       0.78      0.83      0.81      1819
         gpe       0.92      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.57      0.63       991
         per       0.69      0.80      0.74       907
         tim       0.81      0.80      0.81       854

   micro avg       0.78      0.78      0.78      5343
   macro avg       0.55      0.53      0.53      5343
weighted avg       0.77      0.78      0.78      5343

F1-score: 0.9591796192110811
2022-12-06 19:15:40,774 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=367b6ce1-15df-4fad-9ed8-0b10514a5693]: train:
              precision    recall  f1-score   support

         art       0.60      0.41      0.49       222
         eve       0.40      0.28      0.33        96
         geo       0.85      0.89      0.87     14594
         gpe       0.95      0.92      0.93      5584
         nat       0.66      0.37      0.48       116
         org       0.78      0.75      0.76      8377
         per       0.80      0.83      0.81      7230
         tim       0.86      0.82      0.84      6802

   micro avg       0.84      0.84      0.84     43021
   macro avg       0.74      0.66      0.69     43021
weighted avg       0.84      0.84      0.84     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.22      0.11      0.14        19
         eve       0.25      0.19      0.21        16
         geo       0.78      0.83      0.81      1819
         gpe       0.92      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.57      0.63       991
         per       0.69      0.80      0.74       907
         tim       0.81      0.80      0.81       854

   micro avg       0.78      0.78      0.78      5343
   macro avg       0.55      0.53      0.53      5343
weighted avg       0.77      0.78      0.78      5343

2022-12-06 19:15:40,982 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 19:15:41,691 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=367b6ce1-15df-4fad-9ed8-0b10514a5693]: finished processing task
2022-12-06 19:15:41,693 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:15:42,500 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.40      0.28      0.33       176
         eve       0.37      0.26      0.31       117
         geo       0.85      0.87      0.86     14724
         gpe       0.94      0.90      0.92      5503
         nat       0.57      0.38      0.46        95
         org       0.75      0.73      0.74      8238
         per       0.77      0.79      0.78      6998
         tim       0.84      0.81      0.82      6773

   micro avg       0.82      0.82      0.82     42624
   macro avg       0.69      0.63      0.65     42624
weighted avg       0.82      0.82      0.82     42624

F1-score: 0.9706175928178158
val 0/1: 
              precision    recall  f1-score   support

         art       0.55      0.24      0.34        45
         eve       0.22      0.15      0.18        13
         geo       0.84      0.85      0.84      1773
         gpe       0.94      0.90      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.68      0.69      0.69      1045
         per       0.74      0.75      0.74       940
         tim       0.83      0.81      0.82       859

   micro avg       0.80      0.79      0.79      5327
   macro avg       0.60      0.55      0.57      5327
weighted avg       0.80      0.79      0.79      5327

F1-score: 0.9617612990454005
2022-12-06 19:15:43,711 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1eece279-1ce8-443b-b1aa-fda194700ef3]: train:
              precision    recall  f1-score   support

         art       0.40      0.28      0.33       176
         eve       0.37      0.26      0.31       117
         geo       0.85      0.87      0.86     14724
         gpe       0.94      0.90      0.92      5503
         nat       0.57      0.38      0.46        95
         org       0.75      0.73      0.74      8238
         per       0.77      0.79      0.78      6998
         tim       0.84      0.81      0.82      6773

   micro avg       0.82      0.82      0.82     42624
   macro avg       0.69      0.63      0.65     42624
weighted avg       0.82      0.82      0.82     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.55      0.24      0.34        45
         eve       0.22      0.15      0.18        13
         geo       0.84      0.85      0.84      1773
         gpe       0.94      0.90      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.68      0.69      0.69      1045
         per       0.74      0.75      0.74       940
         tim       0.83      0.81      0.82       859

   micro avg       0.80      0.79      0.79      5327
   macro avg       0.60      0.55      0.57      5327
weighted avg       0.80      0.79      0.79      5327

2022-12-06 19:15:44,583 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 19:15:44,629 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1eece279-1ce8-443b-b1aa-fda194700ef3]: finished processing task
2022-12-06 19:15:44,630 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:15:45,430 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 19:16:05,207 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670354165 seconds)
2022-12-06 19:16:05,207 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=367b6ce1-15df-4fad-9ed8-0b10514a5693
2022-12-06 19:16:05,208 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=367b6ce1-15df-4fad-9ed8-0b10514a5693]: invoking result_received_cb ...
2022-12-06 19:16:05,278 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=367b6ce1-15df-4fad-9ed8-0b10514a5693]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 19:16:05,278 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=367b6ce1-15df-4fad-9ed8-0b10514a5693]: finished processing client result by scatter_and_gather
2022-12-06 19:16:05,311 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670354165 seconds). SubmitUpdate time: 22.811192989349365 seconds
2022-12-06 19:16:05,358 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=367b6ce1-15df-4fad-9ed8-0b10514a5693]: result sent to server for task: name=train, id=367b6ce1-15df-4fad-9ed8-0b10514a5693
2022-12-06 19:16:05,359 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:16:08,348 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670354168 seconds)
2022-12-06 19:16:08,348 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=1eece279-1ce8-443b-b1aa-fda194700ef3
2022-12-06 19:16:08,348 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1eece279-1ce8-443b-b1aa-fda194700ef3]: invoking result_received_cb ...
2022-12-06 19:16:08,512 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1eece279-1ce8-443b-b1aa-fda194700ef3]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 19:16:08,513 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1eece279-1ce8-443b-b1aa-fda194700ef3]: finished processing client result by scatter_and_gather
2022-12-06 19:16:08,548 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670354168 seconds). SubmitUpdate time: 23.11815595626831 seconds
2022-12-06 19:16:08,555 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:16:08,594 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1eece279-1ce8-443b-b1aa-fda194700ef3]: result sent to server for task: name=train, id=1eece279-1ce8-443b-b1aa-fda194700ef3
2022-12-06 19:16:08,594 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:16:10,567 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:16:10,672 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:16:12,579 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:16:12,702 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:16:14,591 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:16:14,714 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:16:16,603 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:16:16,726 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:16:18,615 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:16:18,693 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 19:16:18,738 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:16:19,192 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 19:16:19,193 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 10
2022-12-06 19:16:19,336 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 19:16:19,337 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 19:16:20,051 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 19:16:20,051 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 10 finished.
2022-12-06 19:16:20,051 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 11 started.
2022-12-06 19:16:20,052 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 19:16:20,625 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6]: assigned task to client site-1: name=train, id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6
2022-12-06 19:16:20,626 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6]: sent task assignment to client
2022-12-06 19:16:21,484 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 19:16:21,897 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=39ef772e-12f7-4a9e-9d03-04127020faa8]: assigned task to client site-2: name=train, id=39ef772e-12f7-4a9e-9d03-04127020faa8
2022-12-06 19:16:21,898 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=39ef772e-12f7-4a9e-9d03-04127020faa8]: sent task assignment to client
2022-12-06 19:16:22,717 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 19:16:44,141 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.519423961639404 seconds
2022-12-06 19:16:44,148 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:16:44,597 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6
2022-12-06 19:16:44,598 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:16:44,598 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6]: Client trainer got task: train
2022-12-06 19:16:45,477 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.7329158782959 seconds
2022-12-06 19:16:45,493 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:16:45,893 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=39ef772e-12f7-4a9e-9d03-04127020faa8
2022-12-06 19:16:45,894 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=39ef772e-12f7-4a9e-9d03-04127020faa8]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:16:45,894 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=39ef772e-12f7-4a9e-9d03-04127020faa8]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 19:17:06,744 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6]: Accuracy when validating site-1's model on site-1s data: 0.9618459330493898
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 19:17:07,902 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=39ef772e-12f7-4a9e-9d03-04127020faa8]: Accuracy when validating site-2's model on site-2s data: 0.9622474814165196
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.71      0.50      0.59       222
         eve       0.37      0.27      0.31        96
         geo       0.86      0.89      0.88     14594
         gpe       0.95      0.93      0.94      5584
         nat       0.65      0.32      0.43       116
         org       0.78      0.76      0.77      8377
         per       0.81      0.84      0.83      7230
         tim       0.86      0.83      0.84      6802

   micro avg       0.85      0.85      0.85     43021
   macro avg       0.75      0.67      0.70     43021
weighted avg       0.85      0.85      0.85     43021

F1-score: 0.974545452204834
val 0/1: 
              precision    recall  f1-score   support

         art       0.10      0.11      0.10        19
         eve       0.25      0.19      0.21        16
         geo       0.81      0.84      0.83      1819
         gpe       0.94      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.64      0.65      0.65       991
         per       0.68      0.74      0.71       907
         tim       0.82      0.81      0.81       854

   micro avg       0.77      0.79      0.78      5343
   macro avg       0.53      0.53      0.53      5343
weighted avg       0.77      0.79      0.78      5343

F1-score: 0.9605818211427282
2022-12-06 19:25:47,577 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6]: train:
              precision    recall  f1-score   support

         art       0.71      0.50      0.59       222
         eve       0.37      0.27      0.31        96
         geo       0.86      0.89      0.88     14594
         gpe       0.95      0.93      0.94      5584
         nat       0.65      0.32      0.43       116
         org       0.78      0.76      0.77      8377
         per       0.81      0.84      0.83      7230
         tim       0.86      0.83      0.84      6802

   micro avg       0.85      0.85      0.85     43021
   macro avg       0.75      0.67      0.70     43021
weighted avg       0.85      0.85      0.85     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.10      0.11      0.10        19
         eve       0.25      0.19      0.21        16
         geo       0.81      0.84      0.83      1819
         gpe       0.94      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.64      0.65      0.65       991
         per       0.68      0.74      0.71       907
         tim       0.82      0.81      0.81       854

   micro avg       0.77      0.79      0.78      5343
   macro avg       0.53      0.53      0.53      5343
weighted avg       0.77      0.79      0.78      5343

2022-12-06 19:25:48,545 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 19:25:48,622 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6]: finished processing task
2022-12-06 19:25:48,623 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:25:49,436 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.46      0.38      0.41       176
         eve       0.45      0.31      0.37       117
         geo       0.86      0.88      0.87     14724
         gpe       0.95      0.92      0.93      5503
         nat       0.57      0.39      0.46        95
         org       0.78      0.75      0.76      8238
         per       0.79      0.82      0.81      6998
         tim       0.85      0.83      0.84      6773

   micro avg       0.84      0.84      0.84     42624
   macro avg       0.71      0.66      0.68     42624
weighted avg       0.84      0.84      0.84     42624

F1-score: 0.9739531001492493
val 0/1: 
              precision    recall  f1-score   support

         art       0.55      0.24      0.34        45
         eve       0.23      0.23      0.23        13
         geo       0.83      0.85      0.84      1773
         gpe       0.93      0.92      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.71      0.68      0.70      1045
         per       0.74      0.76      0.75       940
         tim       0.84      0.81      0.83       859

   micro avg       0.80      0.80      0.80      5327
   macro avg       0.60      0.56      0.58      5327
weighted avg       0.80      0.80      0.80      5327

F1-score: 0.9623490593861227
2022-12-06 19:25:51,085 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=39ef772e-12f7-4a9e-9d03-04127020faa8]: train:
              precision    recall  f1-score   support

         art       0.46      0.38      0.41       176
         eve       0.45      0.31      0.37       117
         geo       0.86      0.88      0.87     14724
         gpe       0.95      0.92      0.93      5503
         nat       0.57      0.39      0.46        95
         org       0.78      0.75      0.76      8238
         per       0.79      0.82      0.81      6998
         tim       0.85      0.83      0.84      6773

   micro avg       0.84      0.84      0.84     42624
   macro avg       0.71      0.66      0.68     42624
weighted avg       0.84      0.84      0.84     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.55      0.24      0.34        45
         eve       0.23      0.23      0.23        13
         geo       0.83      0.85      0.84      1773
         gpe       0.93      0.92      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.71      0.68      0.70      1045
         per       0.74      0.76      0.75       940
         tim       0.84      0.81      0.83       859

   micro avg       0.80      0.80      0.80      5327
   macro avg       0.60      0.56      0.58      5327
weighted avg       0.80      0.80      0.80      5327

2022-12-06 19:25:51,096 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 19:25:52,219 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=39ef772e-12f7-4a9e-9d03-04127020faa8]: finished processing task
2022-12-06 19:25:52,221 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:25:53,029 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 19:26:12,175 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670354772 seconds)
2022-12-06 19:26:12,175 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6
2022-12-06 19:26:12,175 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6]: invoking result_received_cb ...
2022-12-06 19:26:12,247 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 19:26:12,247 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6]: finished processing client result by scatter_and_gather
2022-12-06 19:26:12,278 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670354772 seconds). SubmitUpdate time: 22.84217119216919 seconds
2022-12-06 19:26:12,335 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6]: result sent to server for task: name=train, id=a725b31e-32e0-4638-9f5a-ff07aab8b7f6
2022-12-06 19:26:12,335 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:26:15,775 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670354775 seconds)
2022-12-06 19:26:15,775 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=39ef772e-12f7-4a9e-9d03-04127020faa8
2022-12-06 19:26:15,775 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=39ef772e-12f7-4a9e-9d03-04127020faa8]: invoking result_received_cb ...
2022-12-06 19:26:15,930 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=39ef772e-12f7-4a9e-9d03-04127020faa8]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 19:26:15,930 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=39ef772e-12f7-4a9e-9d03-04127020faa8]: finished processing client result by scatter_and_gather
2022-12-06 19:26:15,965 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670354775 seconds). SubmitUpdate time: 22.935813188552856 seconds
2022-12-06 19:26:15,970 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:26:16,020 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=39ef772e-12f7-4a9e-9d03-04127020faa8]: result sent to server for task: name=train, id=39ef772e-12f7-4a9e-9d03-04127020faa8
2022-12-06 19:26:16,021 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:26:17,982 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:26:18,089 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:26:19,995 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:26:20,101 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:26:22,007 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:26:22,113 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:26:24,019 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:26:24,143 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:26:26,031 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:26:26,123 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 19:26:26,155 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:26:26,622 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 19:26:26,623 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 11
2022-12-06 19:26:26,760 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 19:26:26,761 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 19:26:27,378 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 19:26:27,379 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 11 finished.
2022-12-06 19:26:27,379 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 12 started.
2022-12-06 19:26:27,380 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 19:26:28,041 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=1b44ed95-e67b-4985-b0df-925079a30c24]: assigned task to client site-1: name=train, id=1b44ed95-e67b-4985-b0df-925079a30c24
2022-12-06 19:26:28,042 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=1b44ed95-e67b-4985-b0df-925079a30c24]: sent task assignment to client
2022-12-06 19:26:28,903 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 19:26:29,319 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=5fd88118-507d-41cb-823c-bf1374b840d9]: assigned task to client site-2: name=train, id=5fd88118-507d-41cb-823c-bf1374b840d9
2022-12-06 19:26:29,320 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=5fd88118-507d-41cb-823c-bf1374b840d9]: sent task assignment to client
2022-12-06 19:26:30,131 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 19:26:51,625 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.587746620178223 seconds
2022-12-06 19:26:51,639 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:26:52,076 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=1b44ed95-e67b-4985-b0df-925079a30c24
2022-12-06 19:26:52,076 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1b44ed95-e67b-4985-b0df-925079a30c24]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:26:52,077 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1b44ed95-e67b-4985-b0df-925079a30c24]: Client trainer got task: train
2022-12-06 19:26:52,800 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.64016079902649 seconds
2022-12-06 19:26:52,829 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:26:53,253 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=5fd88118-507d-41cb-823c-bf1374b840d9
2022-12-06 19:26:53,253 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5fd88118-507d-41cb-823c-bf1374b840d9]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:26:53,253 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5fd88118-507d-41cb-823c-bf1374b840d9]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 19:27:14,231 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1b44ed95-e67b-4985-b0df-925079a30c24]: Accuracy when validating site-1's model on site-1s data: 0.962456275848759
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 19:27:15,288 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5fd88118-507d-41cb-823c-bf1374b840d9]: Accuracy when validating site-2's model on site-2s data: 0.9630395501760634
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.65      0.52      0.58       222
         eve       0.38      0.24      0.29        96
         geo       0.87      0.90      0.88     14594
         gpe       0.95      0.93      0.94      5584
         nat       0.60      0.41      0.49       116
         org       0.81      0.78      0.79      8377
         per       0.82      0.84      0.83      7230
         tim       0.87      0.84      0.85      6802

   micro avg       0.86      0.86      0.86     43021
   macro avg       0.74      0.68      0.71     43021
weighted avg       0.86      0.86      0.86     43021

F1-score: 0.9763942524261018
val 0/1: 
              precision    recall  f1-score   support

         art       0.15      0.11      0.12        19
         eve       0.27      0.19      0.22        16
         geo       0.81      0.85      0.83      1819
         gpe       0.96      0.93      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.66      0.65      0.66       991
         per       0.74      0.74      0.74       907
         tim       0.83      0.81      0.82       854

   micro avg       0.79      0.79      0.79      5343
   macro avg       0.55      0.53      0.54      5343
weighted avg       0.79      0.79      0.79      5343

F1-score: 0.9617318719200648
2022-12-06 19:35:46,245 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1b44ed95-e67b-4985-b0df-925079a30c24]: train:
              precision    recall  f1-score   support

         art       0.65      0.52      0.58       222
         eve       0.38      0.24      0.29        96
         geo       0.87      0.90      0.88     14594
         gpe       0.95      0.93      0.94      5584
         nat       0.60      0.41      0.49       116
         org       0.81      0.78      0.79      8377
         per       0.82      0.84      0.83      7230
         tim       0.87      0.84      0.85      6802

   micro avg       0.86      0.86      0.86     43021
   macro avg       0.74      0.68      0.71     43021
weighted avg       0.86      0.86      0.86     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.15      0.11      0.12        19
         eve       0.27      0.19      0.22        16
         geo       0.81      0.85      0.83      1819
         gpe       0.96      0.93      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.66      0.65      0.66       991
         per       0.74      0.74      0.74       907
         tim       0.83      0.81      0.82       854

   micro avg       0.79      0.79      0.79      5343
   macro avg       0.55      0.53      0.54      5343
weighted avg       0.79      0.79      0.79      5343

2022-12-06 19:35:47,036 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 19:35:47,314 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1b44ed95-e67b-4985-b0df-925079a30c24]: finished processing task
2022-12-06 19:35:47,315 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:35:48,125 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.54      0.43      0.48       176
         eve       0.36      0.31      0.33       117
         geo       0.87      0.89      0.88     14724
         gpe       0.95      0.92      0.93      5503
         nat       0.72      0.57      0.64        95
         org       0.79      0.77      0.78      8238
         per       0.80      0.82      0.81      6998
         tim       0.86      0.84      0.85      6773

   micro avg       0.85      0.85      0.85     42624
   macro avg       0.74      0.69      0.71     42624
weighted avg       0.85      0.85      0.85     42624

F1-score: 0.9759178032265746
val 0/1: 
              precision    recall  f1-score   support

         art       0.75      0.20      0.32        45
         eve       0.29      0.15      0.20        13
         geo       0.83      0.87      0.85      1773
         gpe       0.93      0.92      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.71      0.68      0.70      1045
         per       0.74      0.73      0.74       940
         tim       0.83      0.81      0.82       859

   micro avg       0.80      0.80      0.80      5327
   macro avg       0.64      0.55      0.57      5327
weighted avg       0.80      0.80      0.80      5327

F1-score: 0.9630849206296344
2022-12-06 19:35:58,512 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5fd88118-507d-41cb-823c-bf1374b840d9]: train:
              precision    recall  f1-score   support

         art       0.54      0.43      0.48       176
         eve       0.36      0.31      0.33       117
         geo       0.87      0.89      0.88     14724
         gpe       0.95      0.92      0.93      5503
         nat       0.72      0.57      0.64        95
         org       0.79      0.77      0.78      8238
         per       0.80      0.82      0.81      6998
         tim       0.86      0.84      0.85      6773

   micro avg       0.85      0.85      0.85     42624
   macro avg       0.74      0.69      0.71     42624
weighted avg       0.85      0.85      0.85     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.75      0.20      0.32        45
         eve       0.29      0.15      0.20        13
         geo       0.83      0.87      0.85      1773
         gpe       0.93      0.92      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.71      0.68      0.70      1045
         per       0.74      0.73      0.74       940
         tim       0.83      0.81      0.82       859

   micro avg       0.80      0.80      0.80      5327
   macro avg       0.64      0.55      0.57      5327
weighted avg       0.80      0.80      0.80      5327

2022-12-06 19:35:58,699 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 19:35:59,601 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5fd88118-507d-41cb-823c-bf1374b840d9]: finished processing task
2022-12-06 19:35:59,602 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:36:00,396 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 19:36:10,749 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670355370 seconds)
2022-12-06 19:36:10,749 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=1b44ed95-e67b-4985-b0df-925079a30c24
2022-12-06 19:36:10,750 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1b44ed95-e67b-4985-b0df-925079a30c24]: invoking result_received_cb ...
2022-12-06 19:36:10,820 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1b44ed95-e67b-4985-b0df-925079a30c24]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 19:36:10,820 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1b44ed95-e67b-4985-b0df-925079a30c24]: finished processing client result by scatter_and_gather
2022-12-06 19:36:10,852 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670355370 seconds). SubmitUpdate time: 22.726833820343018 seconds
2022-12-06 19:36:10,884 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1b44ed95-e67b-4985-b0df-925079a30c24]: result sent to server for task: name=train, id=1b44ed95-e67b-4985-b0df-925079a30c24
2022-12-06 19:36:10,885 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:36:12,963 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:36:14,973 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:36:16,994 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:36:19,003 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:36:23,097 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670355383 seconds)
2022-12-06 19:36:23,098 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=5fd88118-507d-41cb-823c-bf1374b840d9
2022-12-06 19:36:23,098 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5fd88118-507d-41cb-823c-bf1374b840d9]: invoking result_received_cb ...
2022-12-06 19:36:23,253 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5fd88118-507d-41cb-823c-bf1374b840d9]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 19:36:23,254 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5fd88118-507d-41cb-823c-bf1374b840d9]: finished processing client result by scatter_and_gather
2022-12-06 19:36:23,258 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:36:23,285 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670355383 seconds). SubmitUpdate time: 22.88983130455017 seconds
2022-12-06 19:36:23,342 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5fd88118-507d-41cb-823c-bf1374b840d9]: result sent to server for task: name=train, id=5fd88118-507d-41cb-823c-bf1374b840d9
2022-12-06 19:36:23,342 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:36:25,289 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:36:25,422 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:36:27,301 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:36:27,440 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:36:29,313 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:36:29,452 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:36:31,325 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:36:31,464 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:36:33,337 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:36:33,451 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 19:36:33,476 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:36:33,951 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 19:36:33,952 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 12
2022-12-06 19:36:34,056 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 19:36:34,056 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 19:36:34,669 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 19:36:34,669 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 12 finished.
2022-12-06 19:36:34,669 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 13 started.
2022-12-06 19:36:34,670 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 19:36:35,347 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=3b14ba57-5553-4fee-b7a5-f960d19f1a22]: assigned task to client site-1: name=train, id=3b14ba57-5553-4fee-b7a5-f960d19f1a22
2022-12-06 19:36:35,348 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=3b14ba57-5553-4fee-b7a5-f960d19f1a22]: sent task assignment to client
2022-12-06 19:36:36,192 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 19:36:36,600 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=cbd87504-5a75-4d06-a128-6373da2230a7]: assigned task to client site-2: name=train, id=cbd87504-5a75-4d06-a128-6373da2230a7
2022-12-06 19:36:36,602 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=cbd87504-5a75-4d06-a128-6373da2230a7]: sent task assignment to client
2022-12-06 19:36:37,409 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 19:36:58,768 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.42452621459961 seconds
2022-12-06 19:36:58,800 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:36:59,215 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=3b14ba57-5553-4fee-b7a5-f960d19f1a22
2022-12-06 19:36:59,215 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3b14ba57-5553-4fee-b7a5-f960d19f1a22]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:36:59,215 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3b14ba57-5553-4fee-b7a5-f960d19f1a22]: Client trainer got task: train
2022-12-06 19:37:00,056 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.57427430152893 seconds
2022-12-06 19:37:00,061 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:37:00,491 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=cbd87504-5a75-4d06-a128-6373da2230a7
2022-12-06 19:37:00,491 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cbd87504-5a75-4d06-a128-6373da2230a7]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:37:00,491 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cbd87504-5a75-4d06-a128-6373da2230a7]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 19:37:21,317 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3b14ba57-5553-4fee-b7a5-f960d19f1a22]: Accuracy when validating site-1's model on site-1s data: 0.9628121422617532
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 19:37:22,501 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cbd87504-5a75-4d06-a128-6373da2230a7]: Accuracy when validating site-2's model on site-2s data: 0.9644405209533905
2022-12-06 19:46:03,382 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
-------------------------------------------------- save local model: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.67      0.49      0.57       222
         eve       0.42      0.38      0.40        96
         geo       0.87      0.90      0.89     14594
         gpe       0.96      0.93      0.94      5584
         nat       0.64      0.43      0.52       116
         org       0.81      0.79      0.80      8377
         per       0.83      0.85      0.84      7230
         tim       0.87      0.84      0.85      6802

   micro avg       0.86      0.86      0.86     43021
   macro avg       0.76      0.70      0.73     43021
weighted avg       0.86      0.86      0.86     43021

F1-score: 0.9773242374520507
val 0/1: 
              precision    recall  f1-score   support

         art       0.06      0.05      0.06        19
         eve       0.38      0.19      0.25        16
         geo       0.80      0.87      0.84      1819
         gpe       0.95      0.94      0.94       731
         nat       1.00      0.17      0.29         6
         org       0.69      0.61      0.65       991
         per       0.70      0.77      0.73       907
         tim       0.83      0.81      0.82       854

   micro avg       0.79      0.80      0.79      5343
   macro avg       0.68      0.55      0.57      5343
weighted avg       0.78      0.80      0.79      5343

F1-score: 0.9620391879875251
2022-12-06 19:46:03,675 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3b14ba57-5553-4fee-b7a5-f960d19f1a22]: train:
              precision    recall  f1-score   support

         art       0.67      0.49      0.57       222
         eve       0.42      0.38      0.40        96
         geo       0.87      0.90      0.89     14594
         gpe       0.96      0.93      0.94      5584
         nat       0.64      0.43      0.52       116
         org       0.81      0.79      0.80      8377
         per       0.83      0.85      0.84      7230
         tim       0.87      0.84      0.85      6802

   micro avg       0.86      0.86      0.86     43021
   macro avg       0.76      0.70      0.73     43021
weighted avg       0.86      0.86      0.86     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.06      0.05      0.06        19
         eve       0.38      0.19      0.25        16
         geo       0.80      0.87      0.84      1819
         gpe       0.95      0.94      0.94       731
         nat       1.00      0.17      0.29         6
         org       0.69      0.61      0.65       991
         per       0.70      0.77      0.73       907
         tim       0.83      0.81      0.82       854

   micro avg       0.79      0.80      0.79      5343
   macro avg       0.68      0.55      0.57      5343
weighted avg       0.78      0.80      0.79      5343

-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 19:46:04,482 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3b14ba57-5553-4fee-b7a5-f960d19f1a22]: finished processing task
2022-12-06 19:46:04,483 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:46:05,290 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.57      0.48      0.52       176
         eve       0.41      0.34      0.37       117
         geo       0.87      0.90      0.89     14724
         gpe       0.95      0.93      0.94      5503
         nat       0.62      0.42      0.50        95
         org       0.80      0.78      0.79      8238
         per       0.81      0.84      0.82      6998
         tim       0.87      0.85      0.86      6773

   micro avg       0.86      0.86      0.86     42624
   macro avg       0.74      0.69      0.71     42624
weighted avg       0.86      0.86      0.86     42624

F1-score: 0.9775545429560909
val 0/1: 
              precision    recall  f1-score   support

         art       0.56      0.11      0.19        45
         eve       0.43      0.23      0.30        13
         geo       0.83      0.85      0.84      1773
         gpe       0.92      0.93      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.71      0.67      0.69      1045
         per       0.73      0.76      0.75       940
         tim       0.84      0.82      0.83       859

   micro avg       0.80      0.79      0.80      5327
   macro avg       0.63      0.55      0.56      5327
weighted avg       0.80      0.79      0.79      5327

F1-score: 0.9628440103480785
2022-12-06 19:46:06,119 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cbd87504-5a75-4d06-a128-6373da2230a7]: train:
              precision    recall  f1-score   support

         art       0.57      0.48      0.52       176
         eve       0.41      0.34      0.37       117
         geo       0.87      0.90      0.89     14724
         gpe       0.95      0.93      0.94      5503
         nat       0.62      0.42      0.50        95
         org       0.80      0.78      0.79      8238
         per       0.81      0.84      0.82      6998
         tim       0.87      0.85      0.86      6773

   micro avg       0.86      0.86      0.86     42624
   macro avg       0.74      0.69      0.71     42624
weighted avg       0.86      0.86      0.86     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.56      0.11      0.19        45
         eve       0.43      0.23      0.30        13
         geo       0.83      0.85      0.84      1773
         gpe       0.92      0.93      0.92       640
         nat       0.00      0.00      0.00        12
         org       0.71      0.67      0.69      1045
         per       0.73      0.76      0.75       940
         tim       0.84      0.82      0.83       859

   micro avg       0.80      0.79      0.80      5327
   macro avg       0.63      0.55      0.56      5327
weighted avg       0.80      0.79      0.79      5327

2022-12-06 19:46:06,475 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 19:46:07,008 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cbd87504-5a75-4d06-a128-6373da2230a7]: finished processing task
2022-12-06 19:46:07,009 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:46:07,830 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 19:46:28,018 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670355988 seconds)
2022-12-06 19:46:28,018 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=3b14ba57-5553-4fee-b7a5-f960d19f1a22
2022-12-06 19:46:28,019 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3b14ba57-5553-4fee-b7a5-f960d19f1a22]: invoking result_received_cb ...
2022-12-06 19:46:28,090 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3b14ba57-5553-4fee-b7a5-f960d19f1a22]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 19:46:28,091 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3b14ba57-5553-4fee-b7a5-f960d19f1a22]: finished processing client result by scatter_and_gather
2022-12-06 19:46:28,122 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670355988 seconds). SubmitUpdate time: 22.832010746002197 seconds
2022-12-06 19:46:28,154 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3b14ba57-5553-4fee-b7a5-f960d19f1a22]: result sent to server for task: name=train, id=3b14ba57-5553-4fee-b7a5-f960d19f1a22
2022-12-06 19:46:28,154 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:46:31,162 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670355991 seconds)
2022-12-06 19:46:31,162 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=cbd87504-5a75-4d06-a128-6373da2230a7
2022-12-06 19:46:31,163 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cbd87504-5a75-4d06-a128-6373da2230a7]: invoking result_received_cb ...
2022-12-06 19:46:31,320 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cbd87504-5a75-4d06-a128-6373da2230a7]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 19:46:31,321 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cbd87504-5a75-4d06-a128-6373da2230a7]: finished processing client result by scatter_and_gather
2022-12-06 19:46:31,356 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670355991 seconds). SubmitUpdate time: 23.526047229766846 seconds
2022-12-06 19:46:31,359 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:46:31,375 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cbd87504-5a75-4d06-a128-6373da2230a7]: result sent to server for task: name=train, id=cbd87504-5a75-4d06-a128-6373da2230a7
2022-12-06 19:46:31,375 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:46:33,372 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:46:33,458 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:46:35,384 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:46:35,470 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:46:37,396 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:46:37,482 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:46:39,408 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:46:39,494 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:46:41,420 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:46:41,506 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:46:41,521 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 19:46:42,022 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 19:46:42,023 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 13
2022-12-06 19:46:42,170 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 19:46:42,170 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 19:46:43,012 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 19:46:43,013 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 13 finished.
2022-12-06 19:46:43,013 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 14 started.
2022-12-06 19:46:43,013 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 19:46:43,430 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=f8453070-b754-4061-8038-6ac4e0e779e5]: assigned task to client site-1: name=train, id=f8453070-b754-4061-8038-6ac4e0e779e5
2022-12-06 19:46:43,431 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=f8453070-b754-4061-8038-6ac4e0e779e5]: sent task assignment to client
2022-12-06 19:46:44,272 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 19:46:44,680 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=50fe7ed2-967e-4780-8538-aa8bce59e7b3]: assigned task to client site-2: name=train, id=50fe7ed2-967e-4780-8538-aa8bce59e7b3
2022-12-06 19:46:44,695 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=50fe7ed2-967e-4780-8538-aa8bce59e7b3]: sent task assignment to client
2022-12-06 19:46:45,496 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 19:47:06,873 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.44690728187561 seconds
2022-12-06 19:47:06,889 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:47:07,294 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=f8453070-b754-4061-8038-6ac4e0e779e5
2022-12-06 19:47:07,294 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f8453070-b754-4061-8038-6ac4e0e779e5]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:47:07,294 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f8453070-b754-4061-8038-6ac4e0e779e5]: Client trainer got task: train
2022-12-06 19:47:08,062 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.549754858016968 seconds
2022-12-06 19:47:08,095 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:47:08,503 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=50fe7ed2-967e-4780-8538-aa8bce59e7b3
2022-12-06 19:47:08,504 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=50fe7ed2-967e-4780-8538-aa8bce59e7b3]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:47:08,504 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=50fe7ed2-967e-4780-8538-aa8bce59e7b3]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 19:47:29,465 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f8453070-b754-4061-8038-6ac4e0e779e5]: Accuracy when validating site-1's model on site-1s data: 0.9633588328599568
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 19:47:30,534 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=50fe7ed2-967e-4780-8538-aa8bce59e7b3]: Accuracy when validating site-2's model on site-2s data: 0.9653105012372413
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.68      0.58      0.62       222
         eve       0.44      0.32      0.37        96
         geo       0.88      0.91      0.89     14594
         gpe       0.95      0.93      0.94      5584
         nat       0.61      0.47      0.53       116
         org       0.82      0.80      0.81      8377
         per       0.84      0.86      0.85      7230
         tim       0.88      0.86      0.87      6802

   micro avg       0.87      0.87      0.87     43021
   macro avg       0.76      0.72      0.74     43021
weighted avg       0.87      0.87      0.87     43021

F1-score: 0.9788717923231733
val 0/1: 
              precision    recall  f1-score   support

         art       0.08      0.11      0.09        19
         eve       0.21      0.19      0.20        16
         geo       0.81      0.85      0.83      1819
         gpe       0.94      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.69      0.62      0.65       991
         per       0.71      0.78      0.74       907
         tim       0.80      0.81      0.81       854

   micro avg       0.78      0.79      0.79      5343
   macro avg       0.53      0.54      0.53      5343
weighted avg       0.78      0.79      0.79      5343

F1-score: 0.9598753668380853
2022-12-06 19:56:11,215 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f8453070-b754-4061-8038-6ac4e0e779e5]: train:
              precision    recall  f1-score   support

         art       0.68      0.58      0.62       222
         eve       0.44      0.32      0.37        96
         geo       0.88      0.91      0.89     14594
         gpe       0.95      0.93      0.94      5584
         nat       0.61      0.47      0.53       116
         org       0.82      0.80      0.81      8377
         per       0.84      0.86      0.85      7230
         tim       0.88      0.86      0.87      6802

   micro avg       0.87      0.87      0.87     43021
   macro avg       0.76      0.72      0.74     43021
weighted avg       0.87      0.87      0.87     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.08      0.11      0.09        19
         eve       0.21      0.19      0.20        16
         geo       0.81      0.85      0.83      1819
         gpe       0.94      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.69      0.62      0.65       991
         per       0.71      0.78      0.74       907
         tim       0.80      0.81      0.81       854

   micro avg       0.78      0.79      0.79      5343
   macro avg       0.53      0.54      0.53      5343
weighted avg       0.78      0.79      0.79      5343

2022-12-06 19:56:11,485 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 19:56:12,143 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f8453070-b754-4061-8038-6ac4e0e779e5]: finished processing task
2022-12-06 19:56:12,145 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:56:12,943 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.64      0.53      0.58       176
         eve       0.47      0.39      0.43       117
         geo       0.88      0.91      0.89     14724
         gpe       0.95      0.93      0.94      5503
         nat       0.57      0.48      0.52        95
         org       0.81      0.79      0.80      8238
         per       0.82      0.84      0.83      6998
         tim       0.87      0.85      0.86      6773

   micro avg       0.86      0.86      0.86     42624
   macro avg       0.75      0.72      0.73     42624
weighted avg       0.86      0.86      0.86     42624

F1-score: 0.9786397651655724
val 0/1: 
              precision    recall  f1-score   support

         art       0.47      0.31      0.37        45
         eve       0.21      0.23      0.22        13
         geo       0.82      0.89      0.85      1773
         gpe       0.94      0.94      0.94       640
         nat       0.50      0.08      0.14        12
         org       0.68      0.72      0.70      1045
         per       0.78      0.70      0.74       940
         tim       0.81      0.84      0.82       859

   micro avg       0.79      0.81      0.80      5327
   macro avg       0.65      0.59      0.60      5327
weighted avg       0.79      0.81      0.80      5327

F1-score: 0.9637949497476124
2022-12-06 19:56:15,804 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=50fe7ed2-967e-4780-8538-aa8bce59e7b3]: train:
              precision    recall  f1-score   support

         art       0.64      0.53      0.58       176
         eve       0.47      0.39      0.43       117
         geo       0.88      0.91      0.89     14724
         gpe       0.95      0.93      0.94      5503
         nat       0.57      0.48      0.52        95
         org       0.81      0.79      0.80      8238
         per       0.82      0.84      0.83      6998
         tim       0.87      0.85      0.86      6773

   micro avg       0.86      0.86      0.86     42624
   macro avg       0.75      0.72      0.73     42624
weighted avg       0.86      0.86      0.86     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.47      0.31      0.37        45
         eve       0.21      0.23      0.22        13
         geo       0.82      0.89      0.85      1773
         gpe       0.94      0.94      0.94       640
         nat       0.50      0.08      0.14        12
         org       0.68      0.72      0.70      1045
         per       0.78      0.70      0.74       940
         tim       0.81      0.84      0.82       859

   micro avg       0.79      0.81      0.80      5327
   macro avg       0.65      0.59      0.60      5327
weighted avg       0.79      0.81      0.80      5327

2022-12-06 19:56:15,984 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 19:56:16,806 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=50fe7ed2-967e-4780-8538-aa8bce59e7b3]: finished processing task
2022-12-06 19:56:16,808 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 19:56:17,612 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 19:56:35,692 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670356595 seconds)
2022-12-06 19:56:35,692 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=f8453070-b754-4061-8038-6ac4e0e779e5
2022-12-06 19:56:35,692 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f8453070-b754-4061-8038-6ac4e0e779e5]: invoking result_received_cb ...
2022-12-06 19:56:35,764 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f8453070-b754-4061-8038-6ac4e0e779e5]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 19:56:35,764 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f8453070-b754-4061-8038-6ac4e0e779e5]: finished processing client result by scatter_and_gather
2022-12-06 19:56:35,797 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670356595 seconds). SubmitUpdate time: 22.853500366210938 seconds
2022-12-06 19:56:35,849 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f8453070-b754-4061-8038-6ac4e0e779e5]: result sent to server for task: name=train, id=f8453070-b754-4061-8038-6ac4e0e779e5
2022-12-06 19:56:35,850 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:56:40,385 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670356600 seconds)
2022-12-06 19:56:40,385 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=50fe7ed2-967e-4780-8538-aa8bce59e7b3
2022-12-06 19:56:40,386 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=50fe7ed2-967e-4780-8538-aa8bce59e7b3]: invoking result_received_cb ...
2022-12-06 19:56:40,534 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=50fe7ed2-967e-4780-8538-aa8bce59e7b3]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 19:56:40,534 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=50fe7ed2-967e-4780-8538-aa8bce59e7b3]: finished processing client result by scatter_and_gather
2022-12-06 19:56:40,571 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670356600 seconds). SubmitUpdate time: 22.959871768951416 seconds
2022-12-06 19:56:40,574 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:56:40,601 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=50fe7ed2-967e-4780-8538-aa8bce59e7b3]: result sent to server for task: name=train, id=50fe7ed2-967e-4780-8538-aa8bce59e7b3
2022-12-06 19:56:40,602 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:56:42,586 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:56:42,683 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:56:44,598 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:56:44,722 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:56:46,610 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:56:46,734 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:56:48,622 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:56:48,746 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:56:50,634 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 19:56:50,750 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 19:56:50,757 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 19:56:51,249 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 19:56:51,250 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 14
2022-12-06 19:56:51,348 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 19:56:51,349 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 19:56:51,967 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 19:56:51,968 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 14 finished.
2022-12-06 19:56:51,968 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 15 started.
2022-12-06 19:56:51,968 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 19:56:52,658 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=cc968897-d4a4-437d-b6b6-4768d5ded35c]: assigned task to client site-1: name=train, id=cc968897-d4a4-437d-b6b6-4768d5ded35c
2022-12-06 19:56:52,659 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=cc968897-d4a4-437d-b6b6-4768d5ded35c]: sent task assignment to client
2022-12-06 19:56:53,506 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 19:56:53,918 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=e8917181-8096-4403-b5ab-1d45f1bb8146]: assigned task to client site-2: name=train, id=e8917181-8096-4403-b5ab-1d45f1bb8146
2022-12-06 19:56:53,920 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=e8917181-8096-4403-b5ab-1d45f1bb8146]: sent task assignment to client
2022-12-06 19:56:54,729 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 19:57:16,186 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.531770944595337 seconds
2022-12-06 19:57:16,217 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:57:16,636 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=cc968897-d4a4-437d-b6b6-4768d5ded35c
2022-12-06 19:57:16,636 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cc968897-d4a4-437d-b6b6-4768d5ded35c]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:57:16,636 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cc968897-d4a4-437d-b6b6-4768d5ded35c]: Client trainer got task: train
2022-12-06 19:57:17,412 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.648990869522095 seconds
2022-12-06 19:57:17,428 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 19:57:17,829 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=e8917181-8096-4403-b5ab-1d45f1bb8146
2022-12-06 19:57:17,829 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e8917181-8096-4403-b5ab-1d45f1bb8146]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 19:57:17,829 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e8917181-8096-4403-b5ab-1d45f1bb8146]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 19:57:38,811 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cc968897-d4a4-437d-b6b6-4768d5ded35c]: Accuracy when validating site-1's model on site-1s data: 0.9622565440781227
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 19:57:39,888 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e8917181-8096-4403-b5ab-1d45f1bb8146]: Accuracy when validating site-2's model on site-2s data: 0.9645065398058573
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.61      0.56      0.59       222
         eve       0.51      0.43      0.47        96
         geo       0.88      0.91      0.90     14594
         gpe       0.96      0.94      0.95      5584
         nat       0.61      0.45      0.52       116
         org       0.82      0.80      0.81      8377
         per       0.84      0.86      0.85      7230
         tim       0.87      0.86      0.87      6802

   micro avg       0.87      0.87      0.87     43021
   macro avg       0.76      0.73      0.74     43021
weighted avg       0.87      0.87      0.87     43021

F1-score: 0.9796300731038896
val 0/1: 
              precision    recall  f1-score   support

         art       0.15      0.11      0.12        19
         eve       0.33      0.19      0.24        16
         geo       0.80      0.86      0.83      1819
         gpe       0.95      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.67      0.64      0.66       991
         per       0.71      0.79      0.75       907
         tim       0.81      0.82      0.81       854

   micro avg       0.78      0.81      0.79      5343
   macro avg       0.55      0.54      0.54      5343
weighted avg       0.78      0.81      0.79      5343

F1-score: 0.961757605583812
2022-12-06 20:06:21,112 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cc968897-d4a4-437d-b6b6-4768d5ded35c]: train:
              precision    recall  f1-score   support

         art       0.61      0.56      0.59       222
         eve       0.51      0.43      0.47        96
         geo       0.88      0.91      0.90     14594
         gpe       0.96      0.94      0.95      5584
         nat       0.61      0.45      0.52       116
         org       0.82      0.80      0.81      8377
         per       0.84      0.86      0.85      7230
         tim       0.87      0.86      0.87      6802

   micro avg       0.87      0.87      0.87     43021
   macro avg       0.76      0.73      0.74     43021
weighted avg       0.87      0.87      0.87     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.15      0.11      0.12        19
         eve       0.33      0.19      0.24        16
         geo       0.80      0.86      0.83      1819
         gpe       0.95      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.67      0.64      0.66       991
         per       0.71      0.79      0.75       907
         tim       0.81      0.82      0.81       854

   micro avg       0.78      0.81      0.79      5343
   macro avg       0.55      0.54      0.54      5343
weighted avg       0.78      0.81      0.79      5343

2022-12-06 20:06:22,075 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 20:06:22,291 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cc968897-d4a4-437d-b6b6-4768d5ded35c]: finished processing task
2022-12-06 20:06:22,292 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:06:23,099 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.65      0.58      0.61       176
         eve       0.45      0.42      0.44       117
         geo       0.89      0.91      0.90     14724
         gpe       0.96      0.93      0.94      5503
         nat       0.60      0.49      0.54        95
         org       0.83      0.81      0.82      8238
         per       0.84      0.86      0.85      6998
         tim       0.89      0.87      0.88      6773

   micro avg       0.87      0.88      0.87     42624
   macro avg       0.76      0.73      0.75     42624
weighted avg       0.87      0.88      0.87     42624

F1-score: 0.9805346293867527
val 0/1: 
              precision    recall  f1-score   support

         art       0.52      0.29      0.37        45
         eve       0.33      0.23      0.27        13
         geo       0.84      0.88      0.86      1773
         gpe       0.91      0.95      0.93       640
         nat       0.00      0.00      0.00        12
         org       0.72      0.69      0.70      1045
         per       0.72      0.78      0.75       940
         tim       0.82      0.83      0.82       859

   micro avg       0.80      0.82      0.81      5327
   macro avg       0.61      0.58      0.59      5327
weighted avg       0.79      0.82      0.80      5327

F1-score: 0.9634180567087124
2022-12-06 20:06:23,777 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e8917181-8096-4403-b5ab-1d45f1bb8146]: train:
              precision    recall  f1-score   support

         art       0.65      0.58      0.61       176
         eve       0.45      0.42      0.44       117
         geo       0.89      0.91      0.90     14724
         gpe       0.96      0.93      0.94      5503
         nat       0.60      0.49      0.54        95
         org       0.83      0.81      0.82      8238
         per       0.84      0.86      0.85      6998
         tim       0.89      0.87      0.88      6773

   micro avg       0.87      0.88      0.87     42624
   macro avg       0.76      0.73      0.75     42624
weighted avg       0.87      0.88      0.87     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.52      0.29      0.37        45
         eve       0.33      0.23      0.27        13
         geo       0.84      0.88      0.86      1773
         gpe       0.91      0.95      0.93       640
         nat       0.00      0.00      0.00        12
         org       0.72      0.69      0.70      1045
         per       0.72      0.78      0.75       940
         tim       0.82      0.83      0.82       859

   micro avg       0.80      0.82      0.81      5327
   macro avg       0.61      0.58      0.59      5327
weighted avg       0.79      0.82      0.80      5327

2022-12-06 20:06:24,058 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 20:06:24,783 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e8917181-8096-4403-b5ab-1d45f1bb8146]: finished processing task
2022-12-06 20:06:24,784 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:06:25,581 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 20:06:45,802 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670357205 seconds)
2022-12-06 20:06:45,802 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=cc968897-d4a4-437d-b6b6-4768d5ded35c
2022-12-06 20:06:45,803 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cc968897-d4a4-437d-b6b6-4768d5ded35c]: invoking result_received_cb ...
2022-12-06 20:06:45,874 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cc968897-d4a4-437d-b6b6-4768d5ded35c]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 20:06:45,874 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cc968897-d4a4-437d-b6b6-4768d5ded35c]: finished processing client result by scatter_and_gather
2022-12-06 20:06:45,906 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670357205 seconds). SubmitUpdate time: 22.80636715888977 seconds
2022-12-06 20:06:45,957 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cc968897-d4a4-437d-b6b6-4768d5ded35c]: result sent to server for task: name=train, id=cc968897-d4a4-437d-b6b6-4768d5ded35c
2022-12-06 20:06:45,958 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:06:48,961 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670357208 seconds)
2022-12-06 20:06:48,961 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=e8917181-8096-4403-b5ab-1d45f1bb8146
2022-12-06 20:06:48,962 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e8917181-8096-4403-b5ab-1d45f1bb8146]: invoking result_received_cb ...
2022-12-06 20:06:49,117 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e8917181-8096-4403-b5ab-1d45f1bb8146]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 20:06:49,117 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e8917181-8096-4403-b5ab-1d45f1bb8146]: finished processing client result by scatter_and_gather
2022-12-06 20:06:49,152 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670357208 seconds). SubmitUpdate time: 23.57050919532776 seconds
2022-12-06 20:06:49,154 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:06:49,204 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e8917181-8096-4403-b5ab-1d45f1bb8146]: result sent to server for task: name=train, id=e8917181-8096-4403-b5ab-1d45f1bb8146
2022-12-06 20:06:49,205 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:06:51,166 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:06:51,289 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:06:53,178 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:06:53,301 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:06:55,197 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:06:55,313 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:06:57,209 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:06:57,325 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:06:59,222 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:06:59,321 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 20:06:59,337 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:06:59,820 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 20:06:59,821 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 15
2022-12-06 20:06:59,968 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 20:06:59,968 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 20:07:00,596 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 20:07:00,597 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 15 finished.
2022-12-06 20:07:00,597 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 16 started.
2022-12-06 20:07:00,598 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 20:07:01,231 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=26109fc8-a42f-4199-bace-f89925a80efb]: assigned task to client site-1: name=train, id=26109fc8-a42f-4199-bace-f89925a80efb
2022-12-06 20:07:01,232 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=26109fc8-a42f-4199-bace-f89925a80efb]: sent task assignment to client
2022-12-06 20:07:02,099 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 20:07:02,517 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=bc312146-57a9-479c-9dfc-b28f50f75f9f]: assigned task to client site-2: name=train, id=bc312146-57a9-479c-9dfc-b28f50f75f9f
2022-12-06 20:07:02,518 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=bc312146-57a9-479c-9dfc-b28f50f75f9f]: sent task assignment to client
2022-12-06 20:07:03,321 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 20:07:24,715 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.487525701522827 seconds
2022-12-06 20:07:24,747 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:07:25,158 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=26109fc8-a42f-4199-bace-f89925a80efb
2022-12-06 20:07:25,158 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=26109fc8-a42f-4199-bace-f89925a80efb]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:07:25,158 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=26109fc8-a42f-4199-bace-f89925a80efb]: Client trainer got task: train
2022-12-06 20:07:25,948 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.60518980026245 seconds
2022-12-06 20:07:25,964 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:07:26,390 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=bc312146-57a9-479c-9dfc-b28f50f75f9f
2022-12-06 20:07:26,391 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bc312146-57a9-479c-9dfc-b28f50f75f9f]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:07:26,391 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bc312146-57a9-479c-9dfc-b28f50f75f9f]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 20:07:47,454 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=26109fc8-a42f-4199-bace-f89925a80efb]: Accuracy when validating site-1's model on site-1s data: 0.9623104036165977
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 20:07:48,465 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bc312146-57a9-479c-9dfc-b28f50f75f9f]: Accuracy when validating site-2's model on site-2s data: 0.9644591346671672
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.74      0.68      0.71       222
         eve       0.49      0.42      0.45        96
         geo       0.89      0.92      0.91     14594
         gpe       0.96      0.94      0.95      5584
         nat       0.62      0.47      0.54       116
         org       0.85      0.82      0.83      8377
         per       0.85      0.87      0.86      7230
         tim       0.89      0.88      0.89      6802

   micro avg       0.88      0.89      0.89     43021
   macro avg       0.79      0.75      0.77     43021
weighted avg       0.88      0.89      0.89     43021

F1-score: 0.9818129599971932
val 0/1: 
              precision    recall  f1-score   support

         art       0.11      0.16      0.13        19
         eve       0.19      0.19      0.19        16
         geo       0.79      0.87      0.83      1819
         gpe       0.95      0.94      0.95       731
         nat       0.00      0.00      0.00         6
         org       0.70      0.62      0.66       991
         per       0.73      0.77      0.75       907
         tim       0.85      0.81      0.83       854

   micro avg       0.79      0.80      0.80      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.79      0.80      0.79      5343

F1-score: 0.9622037387802984
2022-12-06 20:16:30,033 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=26109fc8-a42f-4199-bace-f89925a80efb]: train:
              precision    recall  f1-score   support

         art       0.74      0.68      0.71       222
         eve       0.49      0.42      0.45        96
         geo       0.89      0.92      0.91     14594
         gpe       0.96      0.94      0.95      5584
         nat       0.62      0.47      0.54       116
         org       0.85      0.82      0.83      8377
         per       0.85      0.87      0.86      7230
         tim       0.89      0.88      0.89      6802

   micro avg       0.88      0.89      0.89     43021
   macro avg       0.79      0.75      0.77     43021
weighted avg       0.88      0.89      0.89     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.11      0.16      0.13        19
         eve       0.19      0.19      0.19        16
         geo       0.79      0.87      0.83      1819
         gpe       0.95      0.94      0.95       731
         nat       0.00      0.00      0.00         6
         org       0.70      0.62      0.66       991
         per       0.73      0.77      0.75       907
         tim       0.85      0.81      0.83       854

   micro avg       0.79      0.80      0.80      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.79      0.80      0.79      5343

2022-12-06 20:16:30,344 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 20:16:31,148 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=26109fc8-a42f-4199-bace-f89925a80efb]: finished processing task
2022-12-06 20:16:31,150 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:16:31,955 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.61      0.60      0.61       176
         eve       0.54      0.49      0.51       117
         geo       0.89      0.92      0.91     14724
         gpe       0.96      0.93      0.94      5503
         nat       0.68      0.53      0.59        95
         org       0.85      0.82      0.83      8238
         per       0.85      0.87      0.86      6998
         tim       0.88      0.87      0.88      6773

   micro avg       0.88      0.88      0.88     42624
   macro avg       0.78      0.75      0.77     42624
weighted avg       0.88      0.88      0.88     42624

F1-score: 0.9818792059710945
val 0/1: 
              precision    recall  f1-score   support

         art       0.59      0.36      0.44        45
         eve       0.20      0.23      0.21        13
         geo       0.84      0.86      0.85      1773
         gpe       0.89      0.94      0.91       640
         nat       0.00      0.00      0.00        12
         org       0.74      0.66      0.69      1045
         per       0.72      0.79      0.75       940
         tim       0.82      0.84      0.83       859

   micro avg       0.80      0.81      0.80      5327
   macro avg       0.60      0.58      0.59      5327
weighted avg       0.79      0.81      0.80      5327

F1-score: 0.9626537717013757
2022-12-06 20:16:32,471 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bc312146-57a9-479c-9dfc-b28f50f75f9f]: train:
              precision    recall  f1-score   support

         art       0.61      0.60      0.61       176
         eve       0.54      0.49      0.51       117
         geo       0.89      0.92      0.91     14724
         gpe       0.96      0.93      0.94      5503
         nat       0.68      0.53      0.59        95
         org       0.85      0.82      0.83      8238
         per       0.85      0.87      0.86      6998
         tim       0.88      0.87      0.88      6773

   micro avg       0.88      0.88      0.88     42624
   macro avg       0.78      0.75      0.77     42624
weighted avg       0.88      0.88      0.88     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.59      0.36      0.44        45
         eve       0.20      0.23      0.21        13
         geo       0.84      0.86      0.85      1773
         gpe       0.89      0.94      0.91       640
         nat       0.00      0.00      0.00        12
         org       0.74      0.66      0.69      1045
         per       0.72      0.79      0.75       940
         tim       0.82      0.84      0.83       859

   micro avg       0.80      0.81      0.80      5327
   macro avg       0.60      0.58      0.59      5327
weighted avg       0.79      0.81      0.80      5327

2022-12-06 20:16:32,643 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 20:16:33,381 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bc312146-57a9-479c-9dfc-b28f50f75f9f]: finished processing task
2022-12-06 20:16:33,383 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:16:34,182 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 20:16:54,677 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670357814 seconds)
2022-12-06 20:16:54,678 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=26109fc8-a42f-4199-bace-f89925a80efb
2022-12-06 20:16:54,678 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=26109fc8-a42f-4199-bace-f89925a80efb]: invoking result_received_cb ...
2022-12-06 20:16:54,747 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=26109fc8-a42f-4199-bace-f89925a80efb]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 20:16:54,747 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=26109fc8-a42f-4199-bace-f89925a80efb]: finished processing client result by scatter_and_gather
2022-12-06 20:16:54,780 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670357814 seconds). SubmitUpdate time: 22.824718952178955 seconds
2022-12-06 20:16:54,838 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=26109fc8-a42f-4199-bace-f89925a80efb]: result sent to server for task: name=train, id=26109fc8-a42f-4199-bace-f89925a80efb
2022-12-06 20:16:54,839 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:16:57,780 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670357817 seconds)
2022-12-06 20:16:57,780 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=bc312146-57a9-479c-9dfc-b28f50f75f9f
2022-12-06 20:16:57,780 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=bc312146-57a9-479c-9dfc-b28f50f75f9f]: invoking result_received_cb ...
2022-12-06 20:16:57,937 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=bc312146-57a9-479c-9dfc-b28f50f75f9f]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 20:16:57,937 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=bc312146-57a9-479c-9dfc-b28f50f75f9f]: finished processing client result by scatter_and_gather
2022-12-06 20:16:57,973 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670357817 seconds). SubmitUpdate time: 23.791749238967896 seconds
2022-12-06 20:16:57,977 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:16:58,026 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bc312146-57a9-479c-9dfc-b28f50f75f9f]: result sent to server for task: name=train, id=bc312146-57a9-479c-9dfc-b28f50f75f9f
2022-12-06 20:16:58,027 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:16:59,989 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:17:00,111 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:17:02,002 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:17:02,123 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:17:04,014 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:17:04,136 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:17:06,026 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:17:06,149 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:17:08,038 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:17:08,144 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 20:17:08,161 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:17:08,644 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 20:17:08,645 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 16
2022-12-06 20:17:08,747 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 20:17:08,747 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 20:17:09,354 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 20:17:09,354 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 16 finished.
2022-12-06 20:17:09,354 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 17 started.
2022-12-06 20:17:09,355 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 20:17:10,046 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=69b1aeba-5735-405b-b223-394c8a552aa1]: assigned task to client site-1: name=train, id=69b1aeba-5735-405b-b223-394c8a552aa1
2022-12-06 20:17:10,047 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=69b1aeba-5735-405b-b223-394c8a552aa1]: sent task assignment to client
2022-12-06 20:17:10,895 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 20:17:11,335 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=32ed6ddc-2511-4477-b0e7-57d325d052b4]: assigned task to client site-2: name=train, id=32ed6ddc-2511-4477-b0e7-57d325d052b4
2022-12-06 20:17:11,336 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=32ed6ddc-2511-4477-b0e7-57d325d052b4]: sent task assignment to client
2022-12-06 20:17:12,163 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 20:17:33,656 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.613555192947388 seconds
2022-12-06 20:17:33,675 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:17:34,081 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=69b1aeba-5735-405b-b223-394c8a552aa1
2022-12-06 20:17:34,081 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=69b1aeba-5735-405b-b223-394c8a552aa1]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:17:34,081 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=69b1aeba-5735-405b-b223-394c8a552aa1]: Client trainer got task: train
2022-12-06 20:17:34,880 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.713578701019287 seconds
2022-12-06 20:17:34,897 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:17:35,291 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=32ed6ddc-2511-4477-b0e7-57d325d052b4
2022-12-06 20:17:35,291 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=32ed6ddc-2511-4477-b0e7-57d325d052b4]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:17:35,291 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=32ed6ddc-2511-4477-b0e7-57d325d052b4]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 20:17:56,262 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=69b1aeba-5735-405b-b223-394c8a552aa1]: Accuracy when validating site-1's model on site-1s data: 0.9631731139291766
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 20:17:57,359 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=32ed6ddc-2511-4477-b0e7-57d325d052b4]: Accuracy when validating site-2's model on site-2s data: 0.9647373691707478
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.81      0.71      0.76       222
         eve       0.52      0.47      0.49        96
         geo       0.90      0.92      0.91     14594
         gpe       0.96      0.94      0.95      5584
         nat       0.67      0.49      0.57       116
         org       0.85      0.83      0.84      8377
         per       0.86      0.88      0.87      7230
         tim       0.90      0.88      0.89      6802

   micro avg       0.89      0.89      0.89     43021
   macro avg       0.81      0.76      0.78     43021
weighted avg       0.89      0.89      0.89     43021

F1-score: 0.9822518946360601
val 0/1: 
              precision    recall  f1-score   support

         art       0.14      0.11      0.12        19
         eve       0.25      0.31      0.28        16
         geo       0.80      0.88      0.84      1819
         gpe       0.93      0.95      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.72      0.60      0.66       991
         per       0.73      0.79      0.76       907
         tim       0.82      0.81      0.82       854

   micro avg       0.79      0.80      0.80      5343
   macro avg       0.55      0.56      0.55      5343
weighted avg       0.79      0.80      0.80      5343

F1-score: 0.9623354118575612
2022-12-06 20:26:39,306 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=69b1aeba-5735-405b-b223-394c8a552aa1]: train:
              precision    recall  f1-score   support

         art       0.81      0.71      0.76       222
         eve       0.52      0.47      0.49        96
         geo       0.90      0.92      0.91     14594
         gpe       0.96      0.94      0.95      5584
         nat       0.67      0.49      0.57       116
         org       0.85      0.83      0.84      8377
         per       0.86      0.88      0.87      7230
         tim       0.90      0.88      0.89      6802

   micro avg       0.89      0.89      0.89     43021
   macro avg       0.81      0.76      0.78     43021
weighted avg       0.89      0.89      0.89     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.14      0.11      0.12        19
         eve       0.25      0.31      0.28        16
         geo       0.80      0.88      0.84      1819
         gpe       0.93      0.95      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.72      0.60      0.66       991
         per       0.73      0.79      0.76       907
         tim       0.82      0.81      0.82       854

   micro avg       0.79      0.80      0.80      5343
   macro avg       0.55      0.56      0.55      5343
weighted avg       0.79      0.80      0.80      5343

2022-12-06 20:26:40,056 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 20:26:40,488 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=69b1aeba-5735-405b-b223-394c8a552aa1]: finished processing task
2022-12-06 20:26:40,489 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:26:41,308 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.68      0.64      0.66       176
         eve       0.44      0.40      0.42       117
         geo       0.90      0.92      0.91     14724
         gpe       0.96      0.94      0.95      5503
         nat       0.67      0.57      0.61        95
         org       0.84      0.82      0.83      8238
         per       0.85      0.87      0.86      6998
         tim       0.89      0.88      0.89      6773

   micro avg       0.88      0.88      0.88     42624
   macro avg       0.78      0.75      0.77     42624
weighted avg       0.88      0.88      0.88     42624

F1-score: 0.9821789802043868
val 0/1: 
              precision    recall  f1-score   support

         art       0.71      0.22      0.34        45
         eve       0.25      0.23      0.24        13
         geo       0.83      0.88      0.86      1773
         gpe       0.96      0.91      0.94       640
         nat       0.50      0.08      0.14        12
         org       0.71      0.72      0.72      1045
         per       0.77      0.75      0.76       940
         tim       0.82      0.82      0.82       859

   micro avg       0.81      0.81      0.81      5327
   macro avg       0.69      0.58      0.60      5327
weighted avg       0.81      0.81      0.81      5327

F1-score: 0.9645194195595633
2022-12-06 20:26:42,740 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=32ed6ddc-2511-4477-b0e7-57d325d052b4]: train:
              precision    recall  f1-score   support

         art       0.68      0.64      0.66       176
         eve       0.44      0.40      0.42       117
         geo       0.90      0.92      0.91     14724
         gpe       0.96      0.94      0.95      5503
         nat       0.67      0.57      0.61        95
         org       0.84      0.82      0.83      8238
         per       0.85      0.87      0.86      6998
         tim       0.89      0.88      0.89      6773

   micro avg       0.88      0.88      0.88     42624
   macro avg       0.78      0.75      0.77     42624
weighted avg       0.88      0.88      0.88     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.71      0.22      0.34        45
         eve       0.25      0.23      0.24        13
         geo       0.83      0.88      0.86      1773
         gpe       0.96      0.91      0.94       640
         nat       0.50      0.08      0.14        12
         org       0.71      0.72      0.72      1045
         per       0.77      0.75      0.76       940
         tim       0.82      0.82      0.82       859

   micro avg       0.81      0.81      0.81      5327
   macro avg       0.69      0.58      0.60      5327
weighted avg       0.81      0.81      0.81      5327

2022-12-06 20:26:43,287 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 20:26:43,783 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=32ed6ddc-2511-4477-b0e7-57d325d052b4]: finished processing task
2022-12-06 20:26:43,785 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:26:44,594 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 20:27:04,000 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670358424 seconds)
2022-12-06 20:27:04,000 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=69b1aeba-5735-405b-b223-394c8a552aa1
2022-12-06 20:27:04,001 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=69b1aeba-5735-405b-b223-394c8a552aa1]: invoking result_received_cb ...
2022-12-06 20:27:04,069 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=69b1aeba-5735-405b-b223-394c8a552aa1]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 20:27:04,070 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=69b1aeba-5735-405b-b223-394c8a552aa1]: finished processing client result by scatter_and_gather
2022-12-06 20:27:04,100 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670358424 seconds). SubmitUpdate time: 22.79232358932495 seconds
2022-12-06 20:27:04,155 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=69b1aeba-5735-405b-b223-394c8a552aa1]: result sent to server for task: name=train, id=69b1aeba-5735-405b-b223-394c8a552aa1
2022-12-06 20:27:04,156 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:27:07,394 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670358427 seconds)
2022-12-06 20:27:07,394 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=32ed6ddc-2511-4477-b0e7-57d325d052b4
2022-12-06 20:27:07,395 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=32ed6ddc-2511-4477-b0e7-57d325d052b4]: invoking result_received_cb ...
2022-12-06 20:27:07,551 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=32ed6ddc-2511-4477-b0e7-57d325d052b4]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 20:27:07,551 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=32ed6ddc-2511-4477-b0e7-57d325d052b4]: finished processing client result by scatter_and_gather
2022-12-06 20:27:07,585 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670358427 seconds). SubmitUpdate time: 22.991461277008057 seconds
2022-12-06 20:27:07,591 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:27:07,617 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=32ed6ddc-2511-4477-b0e7-57d325d052b4]: result sent to server for task: name=train, id=32ed6ddc-2511-4477-b0e7-57d325d052b4
2022-12-06 20:27:07,617 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:27:09,603 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:27:09,685 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:27:11,615 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:27:11,697 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:27:13,628 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:27:13,709 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:27:15,641 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:27:15,722 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:27:17,653 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:27:17,733 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:27:17,748 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 20:27:18,247 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 20:27:18,248 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 17
2022-12-06 20:27:18,389 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 20:27:18,389 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 20:27:19,009 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 20:27:19,009 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 17 finished.
2022-12-06 20:27:19,010 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 18 started.
2022-12-06 20:27:19,010 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 20:27:19,663 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=0750aad7-f28c-4698-8b28-d82e003e5628]: assigned task to client site-1: name=train, id=0750aad7-f28c-4698-8b28-d82e003e5628
2022-12-06 20:27:19,664 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=0750aad7-f28c-4698-8b28-d82e003e5628]: sent task assignment to client
2022-12-06 20:27:20,511 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 20:27:20,921 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c]: assigned task to client site-2: name=train, id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c
2022-12-06 20:27:20,923 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c]: sent task assignment to client
2022-12-06 20:27:21,742 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 20:27:43,153 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.493608474731445 seconds
2022-12-06 20:27:43,173 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:27:43,612 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=0750aad7-f28c-4698-8b28-d82e003e5628
2022-12-06 20:27:43,613 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0750aad7-f28c-4698-8b28-d82e003e5628]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:27:43,613 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0750aad7-f28c-4698-8b28-d82e003e5628]: Client trainer got task: train
2022-12-06 20:27:44,435 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.695988178253174 seconds
2022-12-06 20:27:44,452 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:27:44,855 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c
2022-12-06 20:27:44,856 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:27:44,856 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 20:28:05,806 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0750aad7-f28c-4698-8b28-d82e003e5628]: Accuracy when validating site-1's model on site-1s data: 0.9625115719857865
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 20:28:06,952 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c]: Accuracy when validating site-2's model on site-2s data: 0.9652295667781505
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.73      0.67      0.70       222
         eve       0.58      0.53      0.55        96
         geo       0.90      0.93      0.92     14594
         gpe       0.96      0.94      0.95      5584
         nat       0.62      0.55      0.58       116
         org       0.86      0.84      0.85      8377
         per       0.87      0.88      0.88      7230
         tim       0.91      0.89      0.90      6802

   micro avg       0.90      0.90      0.90     43021
   macro avg       0.80      0.78      0.79     43021
weighted avg       0.90      0.90      0.90     43021

F1-score: 0.9836797037156614
val 0/1: 
              precision    recall  f1-score   support

         art       0.17      0.11      0.13        19
         eve       0.30      0.19      0.23        16
         geo       0.81      0.87      0.84      1819
         gpe       0.95      0.95      0.95       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.62      0.66       991
         per       0.71      0.78      0.74       907
         tim       0.83      0.83      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.56      0.54      0.55      5343
weighted avg       0.79      0.81      0.80      5343

F1-score: 0.9634649563875994
2022-12-06 20:36:48,133 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0750aad7-f28c-4698-8b28-d82e003e5628]: train:
              precision    recall  f1-score   support

         art       0.73      0.67      0.70       222
         eve       0.58      0.53      0.55        96
         geo       0.90      0.93      0.92     14594
         gpe       0.96      0.94      0.95      5584
         nat       0.62      0.55      0.58       116
         org       0.86      0.84      0.85      8377
         per       0.87      0.88      0.88      7230
         tim       0.91      0.89      0.90      6802

   micro avg       0.90      0.90      0.90     43021
   macro avg       0.80      0.78      0.79     43021
weighted avg       0.90      0.90      0.90     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.17      0.11      0.13        19
         eve       0.30      0.19      0.23        16
         geo       0.81      0.87      0.84      1819
         gpe       0.95      0.95      0.95       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.62      0.66       991
         per       0.71      0.78      0.74       907
         tim       0.83      0.83      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.56      0.54      0.55      5343
weighted avg       0.79      0.81      0.80      5343

2022-12-06 20:36:48,765 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 20:36:49,106 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0750aad7-f28c-4698-8b28-d82e003e5628]: finished processing task
2022-12-06 20:36:49,107 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:36:49,920 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.68      0.61      0.65       176
         eve       0.55      0.56      0.56       117
         geo       0.90      0.92      0.91     14724
         gpe       0.96      0.94      0.95      5503
         nat       0.62      0.52      0.56        95
         org       0.85      0.83      0.84      8238
         per       0.86      0.87      0.86      6998
         tim       0.90      0.89      0.89      6773

   micro avg       0.89      0.89      0.89     42624
   macro avg       0.79      0.77      0.78     42624
weighted avg       0.89      0.89      0.89     42624

F1-score: 0.9830011276205597
val 0/1: 
              precision    recall  f1-score   support

         art       0.55      0.24      0.34        45
         eve       0.18      0.15      0.17        13
         geo       0.85      0.86      0.85      1773
         gpe       0.93      0.93      0.93       640
         nat       0.25      0.08      0.12        12
         org       0.69      0.72      0.70      1045
         per       0.75      0.75      0.75       940
         tim       0.86      0.85      0.85       859

   micro avg       0.81      0.81      0.81      5327
   macro avg       0.63      0.57      0.59      5327
weighted avg       0.80      0.81      0.81      5327

F1-score: 0.9637248297014425
2022-12-06 20:36:52,174 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c]: train:
              precision    recall  f1-score   support

         art       0.68      0.61      0.65       176
         eve       0.55      0.56      0.56       117
         geo       0.90      0.92      0.91     14724
         gpe       0.96      0.94      0.95      5503
         nat       0.62      0.52      0.56        95
         org       0.85      0.83      0.84      8238
         per       0.86      0.87      0.86      6998
         tim       0.90      0.89      0.89      6773

   micro avg       0.89      0.89      0.89     42624
   macro avg       0.79      0.77      0.78     42624
weighted avg       0.89      0.89      0.89     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.55      0.24      0.34        45
         eve       0.18      0.15      0.17        13
         geo       0.85      0.86      0.85      1773
         gpe       0.93      0.93      0.93       640
         nat       0.25      0.08      0.12        12
         org       0.69      0.72      0.70      1045
         per       0.75      0.75      0.75       940
         tim       0.86      0.85      0.85       859

   micro avg       0.81      0.81      0.81      5327
   macro avg       0.63      0.57      0.59      5327
weighted avg       0.80      0.81      0.81      5327

2022-12-06 20:36:52,846 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 20:36:53,303 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c]: finished processing task
2022-12-06 20:36:53,305 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:36:54,104 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 20:37:12,620 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670359032 seconds)
2022-12-06 20:37:12,620 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=0750aad7-f28c-4698-8b28-d82e003e5628
2022-12-06 20:37:12,621 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0750aad7-f28c-4698-8b28-d82e003e5628]: invoking result_received_cb ...
2022-12-06 20:37:12,691 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0750aad7-f28c-4698-8b28-d82e003e5628]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 20:37:12,691 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0750aad7-f28c-4698-8b28-d82e003e5628]: finished processing client result by scatter_and_gather
2022-12-06 20:37:12,723 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670359032 seconds). SubmitUpdate time: 22.802682161331177 seconds
2022-12-06 20:37:12,763 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0750aad7-f28c-4698-8b28-d82e003e5628]: result sent to server for task: name=train, id=0750aad7-f28c-4698-8b28-d82e003e5628
2022-12-06 20:37:12,764 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:37:16,814 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670359036 seconds)
2022-12-06 20:37:16,814 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c
2022-12-06 20:37:16,814 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c]: invoking result_received_cb ...
2022-12-06 20:37:16,978 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 20:37:16,978 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c]: finished processing client result by scatter_and_gather
2022-12-06 20:37:17,013 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670359036 seconds). SubmitUpdate time: 22.909233331680298 seconds
2022-12-06 20:37:17,018 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:37:17,046 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c]: result sent to server for task: name=train, id=1dd257db-cbd0-4a24-8d4f-bf6a0def294c
2022-12-06 20:37:17,047 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:37:19,031 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:37:19,128 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:37:21,043 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:37:21,140 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:37:23,056 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:37:23,153 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:37:25,069 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:37:25,165 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:37:27,081 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:37:27,161 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 20:37:27,177 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:37:27,660 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 20:37:27,661 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 18
2022-12-06 20:37:27,759 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 20:37:27,759 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 20:37:28,380 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 20:37:28,381 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 18 finished.
2022-12-06 20:37:28,381 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 19 started.
2022-12-06 20:37:28,382 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 20:37:29,091 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=ca97bf4c-c553-40f4-92bf-8365411f14fb]: assigned task to client site-1: name=train, id=ca97bf4c-c553-40f4-92bf-8365411f14fb
2022-12-06 20:37:29,092 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=ca97bf4c-c553-40f4-92bf-8365411f14fb]: sent task assignment to client
2022-12-06 20:37:29,943 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 20:37:30,355 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79]: assigned task to client site-2: name=train, id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79
2022-12-06 20:37:30,356 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79]: sent task assignment to client
2022-12-06 20:37:31,160 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 20:37:52,526 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.437853813171387 seconds
2022-12-06 20:37:52,531 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:37:52,956 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=ca97bf4c-c553-40f4-92bf-8365411f14fb
2022-12-06 20:37:52,957 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ca97bf4c-c553-40f4-92bf-8365411f14fb]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:37:52,957 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ca97bf4c-c553-40f4-92bf-8365411f14fb]: Client trainer got task: train
2022-12-06 20:37:53,793 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.61038589477539 seconds
2022-12-06 20:37:53,810 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:37:54,224 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79
2022-12-06 20:37:54,224 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:37:54,224 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 20:38:15,150 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ca97bf4c-c553-40f4-92bf-8365411f14fb]: Accuracy when validating site-1's model on site-1s data: 0.9642388640600199
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 20:38:16,323 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79]: Accuracy when validating site-2's model on site-2s data: 0.965496327045058
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.78      0.70      0.74       222
         eve       0.63      0.61      0.62        96
         geo       0.91      0.93      0.92     14594
         gpe       0.97      0.95      0.96      5584
         nat       0.73      0.62      0.67       116
         org       0.87      0.85      0.86      8377
         per       0.87      0.89      0.88      7230
         tim       0.91      0.90      0.90      6802

   micro avg       0.90      0.90      0.90     43021
   macro avg       0.83      0.81      0.82     43021
weighted avg       0.90      0.90      0.90     43021

F1-score: 0.9844205492391785
val 0/1: 
              precision    recall  f1-score   support

         art       0.17      0.05      0.08        19
         eve       0.20      0.19      0.19        16
         geo       0.81      0.86      0.84      1819
         gpe       0.93      0.95      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.69      0.64      0.66       991
         per       0.74      0.79      0.77       907
         tim       0.85      0.80      0.82       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.55      0.54      0.54      5343
weighted avg       0.80      0.81      0.80      5343

F1-score: 0.9635240893031117
2022-12-06 20:46:58,281 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ca97bf4c-c553-40f4-92bf-8365411f14fb]: train:
              precision    recall  f1-score   support

         art       0.78      0.70      0.74       222
         eve       0.63      0.61      0.62        96
         geo       0.91      0.93      0.92     14594
         gpe       0.97      0.95      0.96      5584
         nat       0.73      0.62      0.67       116
         org       0.87      0.85      0.86      8377
         per       0.87      0.89      0.88      7230
         tim       0.91      0.90      0.90      6802

   micro avg       0.90      0.90      0.90     43021
   macro avg       0.83      0.81      0.82     43021
weighted avg       0.90      0.90      0.90     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.17      0.05      0.08        19
         eve       0.20      0.19      0.19        16
         geo       0.81      0.86      0.84      1819
         gpe       0.93      0.95      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.69      0.64      0.66       991
         per       0.74      0.79      0.77       907
         tim       0.85      0.80      0.82       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.55      0.54      0.54      5343
weighted avg       0.80      0.81      0.80      5343

2022-12-06 20:46:59,150 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 20:46:59,310 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ca97bf4c-c553-40f4-92bf-8365411f14fb]: finished processing task
2022-12-06 20:46:59,312 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:47:00,112 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.75      0.67      0.71       176
         eve       0.58      0.55      0.56       117
         geo       0.91      0.93      0.92     14724
         gpe       0.97      0.94      0.95      5503
         nat       0.71      0.58      0.64        95
         org       0.86      0.85      0.86      8238
         per       0.87      0.88      0.87      6998
         tim       0.90      0.89      0.90      6773

   micro avg       0.90      0.90      0.90     42624
   macro avg       0.82      0.79      0.80     42624
weighted avg       0.90      0.90      0.90     42624

F1-score: 0.9845802764763962
val 0/1: 
              precision    recall  f1-score   support

         art       0.48      0.29      0.36        45
         eve       0.20      0.31      0.24        13
         geo       0.83      0.88      0.85      1773
         gpe       0.93      0.93      0.93       640
         nat       0.50      0.08      0.14        12
         org       0.74      0.65      0.69      1045
         per       0.71      0.78      0.74       940
         tim       0.83      0.84      0.84       859

   micro avg       0.80      0.81      0.80      5327
   macro avg       0.65      0.59      0.60      5327
weighted avg       0.80      0.81      0.80      5327

F1-score: 0.963298826116985
2022-12-06 20:47:02,014 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79]: train:
              precision    recall  f1-score   support

         art       0.75      0.67      0.71       176
         eve       0.58      0.55      0.56       117
         geo       0.91      0.93      0.92     14724
         gpe       0.97      0.94      0.95      5503
         nat       0.71      0.58      0.64        95
         org       0.86      0.85      0.86      8238
         per       0.87      0.88      0.87      6998
         tim       0.90      0.89      0.90      6773

   micro avg       0.90      0.90      0.90     42624
   macro avg       0.82      0.79      0.80     42624
weighted avg       0.90      0.90      0.90     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.48      0.29      0.36        45
         eve       0.20      0.31      0.24        13
         geo       0.83      0.88      0.85      1773
         gpe       0.93      0.93      0.93       640
         nat       0.50      0.08      0.14        12
         org       0.74      0.65      0.69      1045
         per       0.71      0.78      0.74       940
         tim       0.83      0.84      0.84       859

   micro avg       0.80      0.81      0.80      5327
   macro avg       0.65      0.59      0.60      5327
weighted avg       0.80      0.81      0.80      5327

2022-12-06 20:47:02,200 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 20:47:03,075 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79]: finished processing task
2022-12-06 20:47:03,076 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:47:03,853 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 20:47:22,841 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670359642 seconds)
2022-12-06 20:47:22,842 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=ca97bf4c-c553-40f4-92bf-8365411f14fb
2022-12-06 20:47:22,842 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ca97bf4c-c553-40f4-92bf-8365411f14fb]: invoking result_received_cb ...
2022-12-06 20:47:22,914 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ca97bf4c-c553-40f4-92bf-8365411f14fb]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 20:47:22,915 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ca97bf4c-c553-40f4-92bf-8365411f14fb]: finished processing client result by scatter_and_gather
2022-12-06 20:47:22,948 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670359642 seconds). SubmitUpdate time: 22.83581280708313 seconds
2022-12-06 20:47:22,983 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ca97bf4c-c553-40f4-92bf-8365411f14fb]: result sent to server for task: name=train, id=ca97bf4c-c553-40f4-92bf-8365411f14fb
2022-12-06 20:47:22,983 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:47:26,565 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670359646 seconds)
2022-12-06 20:47:26,565 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79
2022-12-06 20:47:26,566 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79]: invoking result_received_cb ...
2022-12-06 20:47:26,726 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 20:47:26,727 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79]: finished processing client result by scatter_and_gather
2022-12-06 20:47:26,762 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670359646 seconds). SubmitUpdate time: 22.908923625946045 seconds
2022-12-06 20:47:26,766 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:47:26,816 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79]: result sent to server for task: name=train, id=0d29118d-7ffb-4e8b-99a4-df38fa7c5c79
2022-12-06 20:47:26,816 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:47:28,777 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:47:28,890 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:47:30,789 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:47:30,909 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:47:32,802 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:47:32,921 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:47:34,815 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:47:34,934 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:47:36,827 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:47:36,918 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 20:47:36,918 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 20:47:36,919 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 19
2022-12-06 20:47:36,947 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:47:37,063 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 20:47:37,063 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 20:47:37,849 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 20:47:37,849 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 19 finished.
2022-12-06 20:47:37,850 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 20 started.
2022-12-06 20:47:37,850 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 20:47:38,836 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=6ff52a70-3ede-4379-b517-fb7cdff38ea0]: assigned task to client site-1: name=train, id=6ff52a70-3ede-4379-b517-fb7cdff38ea0
2022-12-06 20:47:38,837 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=6ff52a70-3ede-4379-b517-fb7cdff38ea0]: sent task assignment to client
2022-12-06 20:47:39,701 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 20:47:40,117 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507]: assigned task to client site-2: name=train, id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507
2022-12-06 20:47:40,118 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507]: sent task assignment to client
2022-12-06 20:47:40,923 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 20:48:02,484 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.651232481002808 seconds
2022-12-06 20:48:02,520 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:48:02,929 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=6ff52a70-3ede-4379-b517-fb7cdff38ea0
2022-12-06 20:48:02,930 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6ff52a70-3ede-4379-b517-fb7cdff38ea0]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:48:02,930 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6ff52a70-3ede-4379-b517-fb7cdff38ea0]: Client trainer got task: train
2022-12-06 20:48:03,630 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.676631927490234 seconds
2022-12-06 20:48:03,646 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:48:04,060 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507
2022-12-06 20:48:04,061 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:48:04,061 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 20:48:25,108 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6ff52a70-3ede-4379-b517-fb7cdff38ea0]: Accuracy when validating site-1's model on site-1s data: 0.9642929190043401
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 20:48:26,153 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507]: Accuracy when validating site-2's model on site-2s data: 0.9654720713129803
2022-12-06 20:57:08,875 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
-------------------------------------------------- save local model: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.76      0.71      0.73       222
         eve       0.65      0.61      0.63        96
         geo       0.91      0.94      0.92     14594
         gpe       0.97      0.95      0.96      5584
         nat       0.75      0.59      0.66       116
         org       0.88      0.86      0.87      8377
         per       0.89      0.90      0.89      7230
         tim       0.91      0.90      0.91      6802

   micro avg       0.91      0.91      0.91     43021
   macro avg       0.84      0.81      0.82     43021
weighted avg       0.91      0.91      0.91     43021

F1-score: 0.9857167352395549
val 0/1: 
              precision    recall  f1-score   support

         art       0.15      0.11      0.12        19
         eve       0.26      0.31      0.29        16
         geo       0.85      0.83      0.84      1819
         gpe       0.95      0.95      0.95       731
         nat       0.25      0.17      0.20         6
         org       0.66      0.68      0.67       991
         per       0.70      0.79      0.74       907
         tim       0.82      0.83      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.58      0.58      0.58      5343
weighted avg       0.79      0.81      0.80      5343

F1-score: 0.9623157607541724
2022-12-06 20:57:08,977 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6ff52a70-3ede-4379-b517-fb7cdff38ea0]: train:
              precision    recall  f1-score   support

         art       0.76      0.71      0.73       222
         eve       0.65      0.61      0.63        96
         geo       0.91      0.94      0.92     14594
         gpe       0.97      0.95      0.96      5584
         nat       0.75      0.59      0.66       116
         org       0.88      0.86      0.87      8377
         per       0.89      0.90      0.89      7230
         tim       0.91      0.90      0.91      6802

   micro avg       0.91      0.91      0.91     43021
   macro avg       0.84      0.81      0.82     43021
weighted avg       0.91      0.91      0.91     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.15      0.11      0.12        19
         eve       0.26      0.31      0.29        16
         geo       0.85      0.83      0.84      1819
         gpe       0.95      0.95      0.95       731
         nat       0.25      0.17      0.20         6
         org       0.66      0.68      0.67       991
         per       0.70      0.79      0.74       907
         tim       0.82      0.83      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.58      0.58      0.58      5343
weighted avg       0.79      0.81      0.80      5343

-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 20:57:09,989 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6ff52a70-3ede-4379-b517-fb7cdff38ea0]: finished processing task
2022-12-06 20:57:09,991 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:57:10,795 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.69      0.66      0.67       176
         eve       0.67      0.67      0.67       117
         geo       0.90      0.93      0.92     14724
         gpe       0.96      0.93      0.95      5503
         nat       0.75      0.62      0.68        95
         org       0.85      0.84      0.84      8238
         per       0.85      0.87      0.86      6998
         tim       0.90      0.89      0.89      6773

   micro avg       0.89      0.89      0.89     42624
   macro avg       0.82      0.80      0.81     42624
weighted avg       0.89      0.89      0.89     42624

F1-score: 0.9835160455084436
val 0/1: 
              precision    recall  f1-score   support

         art       0.47      0.18      0.26        45
         eve       0.30      0.23      0.26        13
         geo       0.84      0.87      0.86      1773
         gpe       0.93      0.93      0.93       640
         nat       0.25      0.08      0.12        12
         org       0.69      0.71      0.70      1045
         per       0.74      0.75      0.74       940
         tim       0.84      0.83      0.83       859

   micro avg       0.80      0.81      0.81      5327
   macro avg       0.63      0.57      0.59      5327
weighted avg       0.80      0.81      0.80      5327

F1-score: 0.9636930000265647
2022-12-06 20:57:12,039 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507]: train:
              precision    recall  f1-score   support

         art       0.69      0.66      0.67       176
         eve       0.67      0.67      0.67       117
         geo       0.90      0.93      0.92     14724
         gpe       0.96      0.93      0.95      5503
         nat       0.75      0.62      0.68        95
         org       0.85      0.84      0.84      8238
         per       0.85      0.87      0.86      6998
         tim       0.90      0.89      0.89      6773

   micro avg       0.89      0.89      0.89     42624
   macro avg       0.82      0.80      0.81     42624
weighted avg       0.89      0.89      0.89     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.47      0.18      0.26        45
         eve       0.30      0.23      0.26        13
         geo       0.84      0.87      0.86      1773
         gpe       0.93      0.93      0.93       640
         nat       0.25      0.08      0.12        12
         org       0.69      0.71      0.70      1045
         per       0.74      0.75      0.74       940
         tim       0.84      0.83      0.83       859

   micro avg       0.80      0.81      0.81      5327
   macro avg       0.63      0.57      0.59      5327
weighted avg       0.80      0.81      0.80      5327

2022-12-06 20:57:12,259 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 20:57:12,939 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507]: finished processing task
2022-12-06 20:57:12,940 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 20:57:13,765 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 20:57:33,493 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670360253 seconds)
2022-12-06 20:57:33,493 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=6ff52a70-3ede-4379-b517-fb7cdff38ea0
2022-12-06 20:57:33,493 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=6ff52a70-3ede-4379-b517-fb7cdff38ea0]: invoking result_received_cb ...
2022-12-06 20:57:33,565 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=6ff52a70-3ede-4379-b517-fb7cdff38ea0]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 20:57:33,565 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=6ff52a70-3ede-4379-b517-fb7cdff38ea0]: finished processing client result by scatter_and_gather
2022-12-06 20:57:33,596 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670360253 seconds). SubmitUpdate time: 22.8011634349823 seconds
2022-12-06 20:57:33,648 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6ff52a70-3ede-4379-b517-fb7cdff38ea0]: result sent to server for task: name=train, id=6ff52a70-3ede-4379-b517-fb7cdff38ea0
2022-12-06 20:57:33,648 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:57:36,635 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670360256 seconds)
2022-12-06 20:57:36,635 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507
2022-12-06 20:57:36,635 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507]: invoking result_received_cb ...
2022-12-06 20:57:36,793 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 20:57:36,793 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507]: finished processing client result by scatter_and_gather
2022-12-06 20:57:36,828 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670360256 seconds). SubmitUpdate time: 23.063011407852173 seconds
2022-12-06 20:57:36,834 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:57:36,880 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507]: result sent to server for task: name=train, id=dd1b52a2-6666-4fe1-a3c0-c1c3bde8d507
2022-12-06 20:57:36,881 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:57:38,853 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:57:38,960 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:57:40,866 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:57:40,972 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:57:42,879 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:57:42,985 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:57:44,891 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:57:45,004 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:57:46,902 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 20:57:46,996 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 20:57:47,015 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 20:57:47,495 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 20:57:47,496 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 20
2022-12-06 20:57:47,598 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 20:57:47,598 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 20:57:48,591 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 20:57:48,592 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 20 finished.
2022-12-06 20:57:48,593 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 21 started.
2022-12-06 20:57:48,594 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 20:57:48,912 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=096055e3-9b61-455c-9cf2-de19199d4344]: assigned task to client site-1: name=train, id=096055e3-9b61-455c-9cf2-de19199d4344
2022-12-06 20:57:48,913 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=096055e3-9b61-455c-9cf2-de19199d4344]: sent task assignment to client
2022-12-06 20:57:49,765 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 20:57:50,178 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e]: assigned task to client site-2: name=train, id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e
2022-12-06 20:57:50,179 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e]: sent task assignment to client
2022-12-06 20:57:50,980 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 20:58:12,543 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.634782552719116 seconds
2022-12-06 20:58:12,562 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:58:12,983 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=096055e3-9b61-455c-9cf2-de19199d4344
2022-12-06 20:58:12,983 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=096055e3-9b61-455c-9cf2-de19199d4344]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:58:12,983 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=096055e3-9b61-455c-9cf2-de19199d4344]: Client trainer got task: train
2022-12-06 20:58:13,641 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.621467351913452 seconds
2022-12-06 20:58:13,646 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 20:58:14,057 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e
2022-12-06 20:58:14,058 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 20:58:14,058 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 20:58:35,170 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=096055e3-9b61-455c-9cf2-de19199d4344]: Accuracy when validating site-1's model on site-1s data: 0.9638006983978186
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 20:58:36,129 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e]: Accuracy when validating site-2's model on site-2s data: 0.9657098544825949
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.81      0.77      0.79       222
         eve       0.65      0.65      0.65        96
         geo       0.91      0.94      0.92     14594
         gpe       0.97      0.95      0.96      5584
         nat       0.67      0.61      0.64       116
         org       0.87      0.86      0.87      8377
         per       0.88      0.90      0.89      7230
         tim       0.91      0.91      0.91      6802

   micro avg       0.91      0.91      0.91     43021
   macro avg       0.83      0.82      0.83     43021
weighted avg       0.91      0.91      0.91     43021

F1-score: 0.9857131382447839
val 0/1: 
              precision    recall  f1-score   support

         art       0.11      0.11      0.11        19
         eve       0.29      0.38      0.32        16
         geo       0.82      0.85      0.83      1819
         gpe       0.95      0.93      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.68      0.64      0.66       991
         per       0.72      0.78      0.75       907
         tim       0.82      0.81      0.82       854

   micro avg       0.79      0.80      0.79      5343
   macro avg       0.55      0.56      0.55      5343
weighted avg       0.79      0.80      0.79      5343

F1-score: 0.9617133165672492
2022-12-06 21:07:17,793 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=096055e3-9b61-455c-9cf2-de19199d4344]: train:
              precision    recall  f1-score   support

         art       0.81      0.77      0.79       222
         eve       0.65      0.65      0.65        96
         geo       0.91      0.94      0.92     14594
         gpe       0.97      0.95      0.96      5584
         nat       0.67      0.61      0.64       116
         org       0.87      0.86      0.87      8377
         per       0.88      0.90      0.89      7230
         tim       0.91      0.91      0.91      6802

   micro avg       0.91      0.91      0.91     43021
   macro avg       0.83      0.82      0.83     43021
weighted avg       0.91      0.91      0.91     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.11      0.11      0.11        19
         eve       0.29      0.38      0.32        16
         geo       0.82      0.85      0.83      1819
         gpe       0.95      0.93      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.68      0.64      0.66       991
         per       0.72      0.78      0.75       907
         tim       0.82      0.81      0.82       854

   micro avg       0.79      0.80      0.79      5343
   macro avg       0.55      0.56      0.55      5343
weighted avg       0.79      0.80      0.79      5343

2022-12-06 21:07:17,965 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 21:07:18,943 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=096055e3-9b61-455c-9cf2-de19199d4344]: finished processing task
2022-12-06 21:07:18,944 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:07:19,773 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 21:07:22,044 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.74      0.69      0.71       176
         eve       0.57      0.62      0.59       117
         geo       0.92      0.94      0.93     14724
         gpe       0.96      0.95      0.96      5503
         nat       0.76      0.61      0.68        95
         org       0.88      0.86      0.87      8238
         per       0.87      0.89      0.88      6998
         tim       0.91      0.90      0.91      6773

   micro avg       0.90      0.91      0.91     42624
   macro avg       0.83      0.81      0.82     42624
weighted avg       0.90      0.91      0.91     42624

F1-score: 0.98604488884687
val 0/1: 
              precision    recall  f1-score   support

         art       0.57      0.36      0.44        45
         eve       0.27      0.23      0.25        13
         geo       0.83      0.88      0.86      1773
         gpe       0.95      0.92      0.94       640
         nat       0.09      0.08      0.09        12
         org       0.72      0.72      0.72      1045
         per       0.74      0.79      0.76       940
         tim       0.83      0.85      0.84       859

   micro avg       0.80      0.83      0.82      5327
   macro avg       0.63      0.60      0.61      5327
weighted avg       0.80      0.83      0.81      5327

F1-score: 0.9647737324835111
2022-12-06 21:07:22,094 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e]: train:
              precision    recall  f1-score   support

         art       0.74      0.69      0.71       176
         eve       0.57      0.62      0.59       117
         geo       0.92      0.94      0.93     14724
         gpe       0.96      0.95      0.96      5503
         nat       0.76      0.61      0.68        95
         org       0.88      0.86      0.87      8238
         per       0.87      0.89      0.88      6998
         tim       0.91      0.90      0.91      6773

   micro avg       0.90      0.91      0.91     42624
   macro avg       0.83      0.81      0.82     42624
weighted avg       0.90      0.91      0.91     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.57      0.36      0.44        45
         eve       0.27      0.23      0.25        13
         geo       0.83      0.88      0.86      1773
         gpe       0.95      0.92      0.94       640
         nat       0.09      0.08      0.09        12
         org       0.72      0.72      0.72      1045
         per       0.74      0.79      0.76       940
         tim       0.83      0.85      0.84       859

   micro avg       0.80      0.83      0.82      5327
   macro avg       0.63      0.60      0.61      5327
weighted avg       0.80      0.83      0.81      5327

-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 21:07:22,898 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e]: finished processing task
2022-12-06 21:07:22,900 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:07:23,684 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 21:07:42,494 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670360862 seconds)
2022-12-06 21:07:42,494 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=096055e3-9b61-455c-9cf2-de19199d4344
2022-12-06 21:07:42,495 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=096055e3-9b61-455c-9cf2-de19199d4344]: invoking result_received_cb ...
2022-12-06 21:07:42,565 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=096055e3-9b61-455c-9cf2-de19199d4344]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 21:07:42,566 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=096055e3-9b61-455c-9cf2-de19199d4344]: finished processing client result by scatter_and_gather
2022-12-06 21:07:42,599 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670360862 seconds). SubmitUpdate time: 22.825472593307495 seconds
2022-12-06 21:07:42,632 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=096055e3-9b61-455c-9cf2-de19199d4344]: result sent to server for task: name=train, id=096055e3-9b61-455c-9cf2-de19199d4344
2022-12-06 21:07:42,633 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:07:46,414 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670360866 seconds)
2022-12-06 21:07:46,414 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e
2022-12-06 21:07:46,415 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e]: invoking result_received_cb ...
2022-12-06 21:07:46,573 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 21:07:46,573 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e]: finished processing client result by scatter_and_gather
2022-12-06 21:07:46,607 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670360866 seconds). SubmitUpdate time: 22.923760890960693 seconds
2022-12-06 21:07:46,624 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:07:46,652 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e]: result sent to server for task: name=train, id=fd8b39f2-4f4a-4439-83fa-a8b82442e09e
2022-12-06 21:07:46,652 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:07:48,649 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:07:48,736 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:07:50,660 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:07:50,746 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:07:52,673 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:07:52,759 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:07:54,686 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:07:54,771 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:07:56,699 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:07:56,768 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 21:07:56,783 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:07:57,266 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 21:07:57,267 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 21
2022-12-06 21:07:57,415 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 21:07:57,415 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 21:07:58,432 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 21:07:58,432 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 21 finished.
2022-12-06 21:07:58,432 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 22 started.
2022-12-06 21:07:58,432 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 21:07:58,708 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6]: assigned task to client site-1: name=train, id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6
2022-12-06 21:07:58,709 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6]: sent task assignment to client
2022-12-06 21:07:59,543 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 21:07:59,955 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c]: assigned task to client site-2: name=train, id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c
2022-12-06 21:07:59,957 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c]: sent task assignment to client
2022-12-06 21:08:00,764 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 21:08:22,203 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.497693061828613 seconds
2022-12-06 21:08:22,221 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:08:22,627 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6
2022-12-06 21:08:22,628 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:08:22,628 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6]: Client trainer got task: train
2022-12-06 21:08:23,668 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.879143476486206 seconds
2022-12-06 21:08:23,685 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:08:24,104 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c
2022-12-06 21:08:24,104 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:08:24,104 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 21:08:44,760 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6]: Accuracy when validating site-1's model on site-1s data: 0.9635057440358857
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 21:08:46,180 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c]: Accuracy when validating site-2's model on site-2s data: 0.9659692295075513
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.76      0.71      0.73       222
         eve       0.55      0.53      0.54        96
         geo       0.90      0.92      0.91     14594
         gpe       0.96      0.94      0.95      5584
         nat       0.67      0.54      0.60       116
         org       0.85      0.83      0.84      8377
         per       0.86      0.87      0.86      7230
         tim       0.91      0.89      0.90      6802

   micro avg       0.89      0.89      0.89     43021
   macro avg       0.81      0.78      0.79     43021
weighted avg       0.89      0.89      0.89     43021

F1-score: 0.9825666119861592
val 0/1: 
              precision    recall  f1-score   support

         art       0.09      0.16      0.12        19
         eve       0.21      0.31      0.25        16
         geo       0.81      0.87      0.84      1819
         gpe       0.94      0.94      0.94       731
         nat       0.50      0.17      0.25         6
         org       0.73      0.62      0.67       991
         per       0.72      0.80      0.76       907
         tim       0.82      0.81      0.82       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.60      0.59      0.58      5343
weighted avg       0.79      0.81      0.80      5343

F1-score: 0.962457901512011
2022-12-06 21:17:27,014 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6]: train:
              precision    recall  f1-score   support

         art       0.76      0.71      0.73       222
         eve       0.55      0.53      0.54        96
         geo       0.90      0.92      0.91     14594
         gpe       0.96      0.94      0.95      5584
         nat       0.67      0.54      0.60       116
         org       0.85      0.83      0.84      8377
         per       0.86      0.87      0.86      7230
         tim       0.91      0.89      0.90      6802

   micro avg       0.89      0.89      0.89     43021
   macro avg       0.81      0.78      0.79     43021
weighted avg       0.89      0.89      0.89     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.09      0.16      0.12        19
         eve       0.21      0.31      0.25        16
         geo       0.81      0.87      0.84      1819
         gpe       0.94      0.94      0.94       731
         nat       0.50      0.17      0.25         6
         org       0.73      0.62      0.67       991
         per       0.72      0.80      0.76       907
         tim       0.82      0.81      0.82       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.60      0.59      0.58      5343
weighted avg       0.79      0.81      0.80      5343

2022-12-06 21:17:27,596 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 21:17:27,934 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6]: finished processing task
2022-12-06 21:17:27,936 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:17:28,736 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.76      0.75      0.76       176
         eve       0.63      0.65      0.64       117
         geo       0.92      0.94      0.93     14724
         gpe       0.97      0.95      0.96      5503
         nat       0.77      0.76      0.76        95
         org       0.88      0.87      0.87      8238
         per       0.89      0.90      0.89      6998
         tim       0.92      0.91      0.92      6773

   micro avg       0.91      0.91      0.91     42624
   macro avg       0.84      0.84      0.84     42624
weighted avg       0.91      0.91      0.91     42624

F1-score: 0.9870277938889768
val 0/1: 
              precision    recall  f1-score   support

         art       0.67      0.31      0.42        45
         eve       0.20      0.23      0.21        13
         geo       0.82      0.89      0.86      1773
         gpe       0.94      0.94      0.94       640
         nat       0.50      0.08      0.14        12
         org       0.72      0.69      0.71      1045
         per       0.74      0.80      0.77       940
         tim       0.83      0.85      0.84       859

   micro avg       0.80      0.83      0.81      5327
   macro avg       0.68      0.60      0.61      5327
weighted avg       0.80      0.83      0.81      5327

F1-score: 0.9649728433495754
2022-12-06 21:17:31,328 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c]: train:
              precision    recall  f1-score   support

         art       0.76      0.75      0.76       176
         eve       0.63      0.65      0.64       117
         geo       0.92      0.94      0.93     14724
         gpe       0.97      0.95      0.96      5503
         nat       0.77      0.76      0.76        95
         org       0.88      0.87      0.87      8238
         per       0.89      0.90      0.89      6998
         tim       0.92      0.91      0.92      6773

   micro avg       0.91      0.91      0.91     42624
   macro avg       0.84      0.84      0.84     42624
weighted avg       0.91      0.91      0.91     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.67      0.31      0.42        45
         eve       0.20      0.23      0.21        13
         geo       0.82      0.89      0.86      1773
         gpe       0.94      0.94      0.94       640
         nat       0.50      0.08      0.14        12
         org       0.72      0.69      0.71      1045
         per       0.74      0.80      0.77       940
         tim       0.83      0.85      0.84       859

   micro avg       0.80      0.83      0.81      5327
   macro avg       0.68      0.60      0.61      5327
weighted avg       0.80      0.83      0.81      5327

2022-12-06 21:17:31,532 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 21:17:32,251 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c]: finished processing task
2022-12-06 21:17:32,252 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:17:33,041 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 21:17:51,482 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670361471 seconds)
2022-12-06 21:17:51,483 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6
2022-12-06 21:17:51,483 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6]: invoking result_received_cb ...
2022-12-06 21:17:51,552 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 21:17:51,553 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6]: finished processing client result by scatter_and_gather
2022-12-06 21:17:51,585 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670361471 seconds). SubmitUpdate time: 22.8485746383667 seconds
2022-12-06 21:17:51,633 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6]: result sent to server for task: name=train, id=fcaedc31-af34-4f1b-bf1b-57d3aaa292c6
2022-12-06 21:17:51,634 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:17:55,732 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670361475 seconds)
2022-12-06 21:17:55,733 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c
2022-12-06 21:17:55,733 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c]: invoking result_received_cb ...
2022-12-06 21:17:55,890 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 21:17:55,904 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c]: finished processing client result by scatter_and_gather
2022-12-06 21:17:55,936 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670361475 seconds). SubmitUpdate time: 22.89568591117859 seconds
2022-12-06 21:17:55,954 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:17:55,990 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c]: result sent to server for task: name=train, id=fdfdf940-d4d8-4daa-a4d4-8b79ed609d7c
2022-12-06 21:17:55,991 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:17:57,967 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:17:58,075 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:17:59,978 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:18:00,088 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:18:01,990 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:18:02,107 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:18:04,002 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:18:04,120 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:18:06,015 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:18:06,096 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 21:18:06,132 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:18:06,595 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 21:18:06,596 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 22
2022-12-06 21:18:06,694 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 21:18:06,694 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 21:18:07,729 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 21:18:07,730 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 22 finished.
2022-12-06 21:18:07,730 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 23 started.
2022-12-06 21:18:07,730 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 21:18:08,025 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99]: assigned task to client site-1: name=train, id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99
2022-12-06 21:18:08,026 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99]: sent task assignment to client
2022-12-06 21:18:08,889 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 21:18:09,306 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=ada6babf-acbc-4096-9ea5-8374f2e90a11]: assigned task to client site-2: name=train, id=ada6babf-acbc-4096-9ea5-8374f2e90a11
2022-12-06 21:18:09,308 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=ada6babf-acbc-4096-9ea5-8374f2e90a11]: sent task assignment to client
2022-12-06 21:18:10,110 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 21:18:31,503 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.48206639289856 seconds
2022-12-06 21:18:31,535 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:18:31,932 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99
2022-12-06 21:18:31,933 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:18:31,933 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99]: Client trainer got task: train
2022-12-06 21:18:32,773 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.63586664199829 seconds
2022-12-06 21:18:32,791 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:18:33,219 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=ada6babf-acbc-4096-9ea5-8374f2e90a11
2022-12-06 21:18:33,219 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ada6babf-acbc-4096-9ea5-8374f2e90a11]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:18:33,219 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ada6babf-acbc-4096-9ea5-8374f2e90a11]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 21:18:54,090 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99]: Accuracy when validating site-1's model on site-1s data: 0.9638163225288371
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 21:18:55,289 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ada6babf-acbc-4096-9ea5-8374f2e90a11]: Accuracy when validating site-2's model on site-2s data: 0.9657940002172598
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.84      0.80      0.82       222
         eve       0.61      0.64      0.62        96
         geo       0.92      0.94      0.93     14594
         gpe       0.97      0.95      0.96      5584
         nat       0.76      0.67      0.71       116
         org       0.89      0.88      0.88      8377
         per       0.89      0.91      0.90      7230
         tim       0.92      0.92      0.92      6802

   micro avg       0.92      0.92      0.92     43021
   macro avg       0.85      0.84      0.84     43021
weighted avg       0.92      0.92      0.92     43021

F1-score: 0.9874169453548733
val 0/1: 
              precision    recall  f1-score   support

         art       0.10      0.11      0.10        19
         eve       0.30      0.19      0.23        16
         geo       0.83      0.86      0.84      1819
         gpe       0.93      0.95      0.94       731
         nat       0.50      0.17      0.25         6
         org       0.71      0.66      0.68       991
         per       0.72      0.81      0.77       907
         tim       0.84      0.82      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.62      0.57      0.58      5343
weighted avg       0.80      0.82      0.81      5343

F1-score: 0.9641728274921625
2022-12-06 21:27:36,495 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99]: train:
              precision    recall  f1-score   support

         art       0.84      0.80      0.82       222
         eve       0.61      0.64      0.62        96
         geo       0.92      0.94      0.93     14594
         gpe       0.97      0.95      0.96      5584
         nat       0.76      0.67      0.71       116
         org       0.89      0.88      0.88      8377
         per       0.89      0.91      0.90      7230
         tim       0.92      0.92      0.92      6802

   micro avg       0.92      0.92      0.92     43021
   macro avg       0.85      0.84      0.84     43021
weighted avg       0.92      0.92      0.92     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.10      0.11      0.10        19
         eve       0.30      0.19      0.23        16
         geo       0.83      0.86      0.84      1819
         gpe       0.93      0.95      0.94       731
         nat       0.50      0.17      0.25         6
         org       0.71      0.66      0.68       991
         per       0.72      0.81      0.77       907
         tim       0.84      0.82      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.62      0.57      0.58      5343
weighted avg       0.80      0.82      0.81      5343

2022-12-06 21:27:37,042 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 21:27:37,435 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99]: finished processing task
2022-12-06 21:27:37,436 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:27:38,237 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.79      0.75      0.77       176
         eve       0.69      0.69      0.69       117
         geo       0.92      0.94      0.93     14724
         gpe       0.97      0.95      0.96      5503
         nat       0.84      0.72      0.77        95
         org       0.89      0.87      0.88      8238
         per       0.89      0.90      0.89      6998
         tim       0.92      0.92      0.92      6773

   micro avg       0.91      0.92      0.91     42624
   macro avg       0.86      0.84      0.85     42624
weighted avg       0.91      0.92      0.91     42624

F1-score: 0.9872628156656778
val 0/1: 
              precision    recall  f1-score   support

         art       0.42      0.31      0.36        45
         eve       0.20      0.23      0.21        13
         geo       0.83      0.89      0.86      1773
         gpe       0.94      0.94      0.94       640
         nat       0.00      0.00      0.00        12
         org       0.75      0.67      0.71      1045
         per       0.73      0.78      0.76       940
         tim       0.85      0.86      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.59      0.58      0.59      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9656412644854816
2022-12-06 21:27:39,648 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ada6babf-acbc-4096-9ea5-8374f2e90a11]: train:
              precision    recall  f1-score   support

         art       0.79      0.75      0.77       176
         eve       0.69      0.69      0.69       117
         geo       0.92      0.94      0.93     14724
         gpe       0.97      0.95      0.96      5503
         nat       0.84      0.72      0.77        95
         org       0.89      0.87      0.88      8238
         per       0.89      0.90      0.89      6998
         tim       0.92      0.92      0.92      6773

   micro avg       0.91      0.92      0.91     42624
   macro avg       0.86      0.84      0.85     42624
weighted avg       0.91      0.92      0.91     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.42      0.31      0.36        45
         eve       0.20      0.23      0.21        13
         geo       0.83      0.89      0.86      1773
         gpe       0.94      0.94      0.94       640
         nat       0.00      0.00      0.00        12
         org       0.75      0.67      0.71      1045
         per       0.73      0.78      0.76       940
         tim       0.85      0.86      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.59      0.58      0.59      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-06 21:27:40,211 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 21:27:40,568 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ada6babf-acbc-4096-9ea5-8374f2e90a11]: finished processing task
2022-12-06 21:27:40,569 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:27:41,354 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 21:28:00,959 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670362080 seconds)
2022-12-06 21:28:00,959 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99
2022-12-06 21:28:00,959 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99]: invoking result_received_cb ...
2022-12-06 21:28:01,033 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 21:28:01,034 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99]: finished processing client result by scatter_and_gather
2022-12-06 21:28:01,065 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670362080 seconds). SubmitUpdate time: 22.828686952590942 seconds
2022-12-06 21:28:01,107 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99]: result sent to server for task: name=train, id=2d2cb499-4d0a-4f18-8093-0c03a65c0f99
2022-12-06 21:28:01,108 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:28:04,136 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670362084 seconds)
2022-12-06 21:28:04,136 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=ada6babf-acbc-4096-9ea5-8374f2e90a11
2022-12-06 21:28:04,137 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ada6babf-acbc-4096-9ea5-8374f2e90a11]: invoking result_received_cb ...
2022-12-06 21:28:04,295 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ada6babf-acbc-4096-9ea5-8374f2e90a11]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 21:28:04,295 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ada6babf-acbc-4096-9ea5-8374f2e90a11]: finished processing client result by scatter_and_gather
2022-12-06 21:28:04,330 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670362084 seconds). SubmitUpdate time: 22.97588562965393 seconds
2022-12-06 21:28:04,345 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:28:04,355 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ada6babf-acbc-4096-9ea5-8374f2e90a11]: result sent to server for task: name=train, id=ada6babf-acbc-4096-9ea5-8374f2e90a11
2022-12-06 21:28:04,356 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:28:06,358 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:28:06,439 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:28:08,370 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:28:08,450 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:28:10,383 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:28:10,463 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:28:12,395 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:28:12,475 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:28:14,408 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:28:14,488 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:28:14,494 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 21:28:14,993 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 21:28:14,994 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 23
2022-12-06 21:28:15,138 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 21:28:15,139 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 21:28:15,768 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 21:28:15,768 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 23 finished.
2022-12-06 21:28:15,768 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 24 started.
2022-12-06 21:28:15,769 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 21:28:16,418 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=8557244e-38f0-46b4-bcee-b28fcb0cab7f]: assigned task to client site-1: name=train, id=8557244e-38f0-46b4-bcee-b28fcb0cab7f
2022-12-06 21:28:16,419 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=8557244e-38f0-46b4-bcee-b28fcb0cab7f]: sent task assignment to client
2022-12-06 21:28:17,280 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 21:28:17,697 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=99e0b9a9-2c41-49ee-b87c-fede80132ee5]: assigned task to client site-2: name=train, id=99e0b9a9-2c41-49ee-b87c-fede80132ee5
2022-12-06 21:28:17,698 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=99e0b9a9-2c41-49ee-b87c-fede80132ee5]: sent task assignment to client
2022-12-06 21:28:18,515 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 21:28:39,947 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.532519578933716 seconds
2022-12-06 21:28:39,957 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:28:40,378 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=8557244e-38f0-46b4-bcee-b28fcb0cab7f
2022-12-06 21:28:40,378 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8557244e-38f0-46b4-bcee-b28fcb0cab7f]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:28:40,378 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8557244e-38f0-46b4-bcee-b28fcb0cab7f]: Client trainer got task: train
2022-12-06 21:28:41,247 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.75338077545166 seconds
2022-12-06 21:28:41,263 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:28:41,662 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=99e0b9a9-2c41-49ee-b87c-fede80132ee5
2022-12-06 21:28:41,662 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=99e0b9a9-2c41-49ee-b87c-fede80132ee5]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:28:41,663 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=99e0b9a9-2c41-49ee-b87c-fede80132ee5]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 21:29:02,553 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8557244e-38f0-46b4-bcee-b28fcb0cab7f]: Accuracy when validating site-1's model on site-1s data: 0.965299216723917
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 21:29:03,698 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=99e0b9a9-2c41-49ee-b87c-fede80132ee5]: Accuracy when validating site-2's model on site-2s data: 0.9665088756486897
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.80      0.75      0.77       176
         eve       0.68      0.68      0.68       117
         geo       0.92      0.94      0.93     14724
         gpe       0.97      0.94      0.96      5503
         nat       0.89      0.81      0.85        95
         org       0.89      0.88      0.88      8238
         per       0.89      0.90      0.90      6998
         tim       0.92      0.92      0.92      6773

   micro avg       0.92      0.92      0.92     42624
   macro avg       0.87      0.85      0.86     42624
weighted avg       0.92      0.92      0.92     42624

F1-score: 0.9877721137195237
val 0/1: 
              precision    recall  f1-score   support

         art       0.41      0.27      0.32        45
         eve       0.18      0.23      0.20        13
         geo       0.82      0.90      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.20      0.08      0.12        12
         org       0.72      0.71      0.72      1045
         per       0.76      0.70      0.73       940
         tim       0.85      0.84      0.84       859

   micro avg       0.80      0.81      0.81      5327
   macro avg       0.61      0.58      0.59      5327
weighted avg       0.80      0.81      0.81      5327

F1-score: 0.9640228566688349
2022-12-06 21:37:41,325 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=99e0b9a9-2c41-49ee-b87c-fede80132ee5]: train:
              precision    recall  f1-score   support

         art       0.80      0.75      0.77       176
         eve       0.68      0.68      0.68       117
         geo       0.92      0.94      0.93     14724
         gpe       0.97      0.94      0.96      5503
         nat       0.89      0.81      0.85        95
         org       0.89      0.88      0.88      8238
         per       0.89      0.90      0.90      6998
         tim       0.92      0.92      0.92      6773

   micro avg       0.92      0.92      0.92     42624
   macro avg       0.87      0.85      0.86     42624
weighted avg       0.92      0.92      0.92     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.41      0.27      0.32        45
         eve       0.18      0.23      0.20        13
         geo       0.82      0.90      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.20      0.08      0.12        12
         org       0.72      0.71      0.72      1045
         per       0.76      0.70      0.73       940
         tim       0.85      0.84      0.84       859

   micro avg       0.80      0.81      0.81      5327
   macro avg       0.61      0.58      0.59      5327
weighted avg       0.80      0.81      0.81      5327

2022-12-06 21:37:41,658 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 21:37:42,249 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=99e0b9a9-2c41-49ee-b87c-fede80132ee5]: finished processing task
2022-12-06 21:37:42,250 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:37:43,053 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.84      0.82      0.83       222
         eve       0.69      0.67      0.68        96
         geo       0.93      0.94      0.93     14594
         gpe       0.97      0.96      0.96      5584
         nat       0.76      0.67      0.71       116
         org       0.89      0.88      0.89      8377
         per       0.90      0.92      0.91      7230
         tim       0.93      0.92      0.92      6802

   micro avg       0.92      0.92      0.92     43021
   macro avg       0.86      0.85      0.85     43021
weighted avg       0.92      0.92      0.92     43021

F1-score: 0.9879773494173315
val 0/1: 
              precision    recall  f1-score   support

         art       0.14      0.11      0.12        19
         eve       0.20      0.19      0.19        16
         geo       0.82      0.86      0.84      1819
         gpe       0.93      0.95      0.94       731
         nat       0.20      0.17      0.18         6
         org       0.71      0.64      0.67       991
         per       0.71      0.81      0.76       907
         tim       0.84      0.81      0.82       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.57      0.57      0.57      5343
weighted avg       0.79      0.81      0.80      5343

F1-score: 0.9631852726925889
2022-12-06 21:37:45,252 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8557244e-38f0-46b4-bcee-b28fcb0cab7f]: train:
              precision    recall  f1-score   support

         art       0.84      0.82      0.83       222
         eve       0.69      0.67      0.68        96
         geo       0.93      0.94      0.93     14594
         gpe       0.97      0.96      0.96      5584
         nat       0.76      0.67      0.71       116
         org       0.89      0.88      0.89      8377
         per       0.90      0.92      0.91      7230
         tim       0.93      0.92      0.92      6802

   micro avg       0.92      0.92      0.92     43021
   macro avg       0.86      0.85      0.85     43021
weighted avg       0.92      0.92      0.92     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.14      0.11      0.12        19
         eve       0.20      0.19      0.19        16
         geo       0.82      0.86      0.84      1819
         gpe       0.93      0.95      0.94       731
         nat       0.20      0.17      0.18         6
         org       0.71      0.64      0.67       991
         per       0.71      0.81      0.76       907
         tim       0.84      0.81      0.82       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.57      0.57      0.57      5343
weighted avg       0.79      0.81      0.80      5343

2022-12-06 21:37:45,423 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 21:37:46,166 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8557244e-38f0-46b4-bcee-b28fcb0cab7f]: finished processing task
2022-12-06 21:37:46,167 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:37:46,980 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 21:38:05,749 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670362685 seconds)
2022-12-06 21:38:05,750 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=99e0b9a9-2c41-49ee-b87c-fede80132ee5
2022-12-06 21:38:05,750 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=99e0b9a9-2c41-49ee-b87c-fede80132ee5]: invoking result_received_cb ...
2022-12-06 21:38:05,818 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=99e0b9a9-2c41-49ee-b87c-fede80132ee5]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 21:38:05,819 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=99e0b9a9-2c41-49ee-b87c-fede80132ee5]: finished processing client result by scatter_and_gather
2022-12-06 21:38:05,852 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670362685 seconds). SubmitUpdate time: 22.798869609832764 seconds
2022-12-06 21:38:05,906 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=99e0b9a9-2c41-49ee-b87c-fede80132ee5]: result sent to server for task: name=train, id=99e0b9a9-2c41-49ee-b87c-fede80132ee5
2022-12-06 21:38:05,907 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:38:09,686 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670362689 seconds)
2022-12-06 21:38:09,687 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=8557244e-38f0-46b4-bcee-b28fcb0cab7f
2022-12-06 21:38:09,687 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=8557244e-38f0-46b4-bcee-b28fcb0cab7f]: invoking result_received_cb ...
2022-12-06 21:38:09,844 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=8557244e-38f0-46b4-bcee-b28fcb0cab7f]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 21:38:09,844 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=8557244e-38f0-46b4-bcee-b28fcb0cab7f]: finished processing client result by scatter_and_gather
2022-12-06 21:38:09,879 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670362689 seconds). SubmitUpdate time: 22.89942240715027 seconds
2022-12-06 21:38:09,886 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:38:09,909 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8557244e-38f0-46b4-bcee-b28fcb0cab7f]: result sent to server for task: name=train, id=8557244e-38f0-46b4-bcee-b28fcb0cab7f
2022-12-06 21:38:09,910 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:38:11,898 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:38:11,986 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:38:13,911 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:38:14,024 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:38:15,923 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:38:16,037 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:38:17,936 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:38:18,049 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:38:19,947 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:38:20,050 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 21:38:20,061 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:38:20,549 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 21:38:20,550 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 24
2022-12-06 21:38:20,652 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 21:38:20,652 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 21:38:21,336 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 21:38:21,337 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 24 finished.
2022-12-06 21:38:21,337 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 25 started.
2022-12-06 21:38:21,338 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 21:38:21,957 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=b02dd267-3619-4be0-85ac-30762954f1ba]: assigned task to client site-2: name=train, id=b02dd267-3619-4be0-85ac-30762954f1ba
2022-12-06 21:38:21,958 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=b02dd267-3619-4be0-85ac-30762954f1ba]: sent task assignment to client
2022-12-06 21:38:22,807 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 21:38:23,219 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c]: assigned task to client site-1: name=train, id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c
2022-12-06 21:38:23,220 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c]: sent task assignment to client
2022-12-06 21:38:24,031 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 21:38:45,434 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.480189085006714 seconds
2022-12-06 21:38:45,466 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:38:45,882 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=b02dd267-3619-4be0-85ac-30762954f1ba
2022-12-06 21:38:45,896 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b02dd267-3619-4be0-85ac-30762954f1ba]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:38:45,897 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b02dd267-3619-4be0-85ac-30762954f1ba]: Client trainer got task: train
2022-12-06 21:38:46,756 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.689066648483276 seconds
2022-12-06 21:38:46,773 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:38:47,199 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c
2022-12-06 21:38:47,199 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:38:47,200 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c]: Client trainer got task: train
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 21:39:07,952 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b02dd267-3619-4be0-85ac-30762954f1ba]: Accuracy when validating site-2's model on site-2s data: 0.9658938451117404
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 21:39:09,369 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c]: Accuracy when validating site-1's model on site-1s data: 0.9641270947056564
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.86      0.82      0.84       222
         eve       0.61      0.66      0.63        96
         geo       0.93      0.95      0.94     14594
         gpe       0.97      0.96      0.96      5584
         nat       0.83      0.78      0.80       116
         org       0.90      0.89      0.90      8377
         per       0.90      0.92      0.91      7230
         tim       0.93      0.93      0.93      6802

   micro avg       0.92      0.93      0.93     43021
   macro avg       0.87      0.86      0.86     43021
weighted avg       0.92      0.93      0.93     43021

F1-score: 0.9889370630823684
val 0/1: 
              precision    recall  f1-score   support

         art       0.09      0.11      0.10        19
         eve       0.22      0.31      0.26        16
         geo       0.83      0.83      0.83      1819
         gpe       0.93      0.92      0.92       731
         nat       0.00      0.00      0.00         6
         org       0.72      0.64      0.68       991
         per       0.72      0.81      0.77       907
         tim       0.80      0.80      0.80       854

   micro avg       0.79      0.79      0.79      5343
   macro avg       0.54      0.55      0.54      5343
weighted avg       0.79      0.79      0.79      5343

F1-score: 0.9616888641601489
2022-12-06 21:47:51,580 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c]: train:
              precision    recall  f1-score   support

         art       0.86      0.82      0.84       222
         eve       0.61      0.66      0.63        96
         geo       0.93      0.95      0.94     14594
         gpe       0.97      0.96      0.96      5584
         nat       0.83      0.78      0.80       116
         org       0.90      0.89      0.90      8377
         per       0.90      0.92      0.91      7230
         tim       0.93      0.93      0.93      6802

   micro avg       0.92      0.93      0.93     43021
   macro avg       0.87      0.86      0.86     43021
weighted avg       0.92      0.93      0.93     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.09      0.11      0.10        19
         eve       0.22      0.31      0.26        16
         geo       0.83      0.83      0.83      1819
         gpe       0.93      0.92      0.92       731
         nat       0.00      0.00      0.00         6
         org       0.72      0.64      0.68       991
         per       0.72      0.81      0.77       907
         tim       0.80      0.80      0.80       854

   micro avg       0.79      0.79      0.79      5343
   macro avg       0.54      0.55      0.54      5343
weighted avg       0.79      0.79      0.79      5343

2022-12-06 21:47:52,175 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 21:47:52,762 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c]: finished processing task
2022-12-06 21:47:52,763 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:47:53,121 - SimulatorServer - INFO - getting AuxCommunicate request
2022-12-06 21:47:53,588 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
-------------------------------------------------- save local model: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.74      0.73      0.74       176
         eve       0.64      0.67      0.65       117
         geo       0.92      0.94      0.93     14724
         gpe       0.97      0.95      0.96      5503
         nat       0.77      0.76      0.77        95
         org       0.89      0.88      0.89      8238
         per       0.89      0.91      0.90      6998
         tim       0.93      0.93      0.93      6773

   micro avg       0.92      0.92      0.92     42624
   macro avg       0.84      0.84      0.84     42624
weighted avg       0.92      0.92      0.92     42624

F1-score: 0.9880801174296693
val 0/1: 
              precision    recall  f1-score   support

         art       0.48      0.27      0.34        45
         eve       0.19      0.23      0.21        13
         geo       0.84      0.87      0.86      1773
         gpe       0.93      0.95      0.94       640
         nat       0.38      0.25      0.30        12
         org       0.72      0.72      0.72      1045
         per       0.76      0.76      0.76       940
         tim       0.84      0.85      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.64      0.61      0.62      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.965582867685271
2022-12-06 21:47:53,594 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b02dd267-3619-4be0-85ac-30762954f1ba]: train:
              precision    recall  f1-score   support

         art       0.74      0.73      0.74       176
         eve       0.64      0.67      0.65       117
         geo       0.92      0.94      0.93     14724
         gpe       0.97      0.95      0.96      5503
         nat       0.77      0.76      0.77        95
         org       0.89      0.88      0.89      8238
         per       0.89      0.91      0.90      6998
         tim       0.93      0.93      0.93      6773

   micro avg       0.92      0.92      0.92     42624
   macro avg       0.84      0.84      0.84     42624
weighted avg       0.92      0.92      0.92     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.48      0.27      0.34        45
         eve       0.19      0.23      0.21        13
         geo       0.84      0.87      0.86      1773
         gpe       0.93      0.95      0.94       640
         nat       0.38      0.25      0.30        12
         org       0.72      0.72      0.72      1045
         per       0.76      0.76      0.76       940
         tim       0.84      0.85      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.64      0.61      0.62      5327
weighted avg       0.81      0.82      0.81      5327

-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 21:47:54,407 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b02dd267-3619-4be0-85ac-30762954f1ba]: finished processing task
2022-12-06 21:47:54,408 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:47:55,203 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 21:48:16,416 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670363296 seconds)
2022-12-06 21:48:16,416 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c
2022-12-06 21:48:16,417 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c]: invoking result_received_cb ...
2022-12-06 21:48:16,487 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 21:48:16,488 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c]: finished processing client result by scatter_and_gather
2022-12-06 21:48:16,523 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670363296 seconds). SubmitUpdate time: 22.93495488166809 seconds
2022-12-06 21:48:16,577 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c]: result sent to server for task: name=train, id=02e9e5bc-cc09-477a-a52a-a6b1d1ac2d8c
2022-12-06 21:48:16,578 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:48:19,605 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670363299 seconds)
2022-12-06 21:48:19,605 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=b02dd267-3619-4be0-85ac-30762954f1ba
2022-12-06 21:48:19,605 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b02dd267-3619-4be0-85ac-30762954f1ba]: invoking result_received_cb ...
2022-12-06 21:48:19,768 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b02dd267-3619-4be0-85ac-30762954f1ba]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 21:48:19,768 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b02dd267-3619-4be0-85ac-30762954f1ba]: finished processing client result by scatter_and_gather
2022-12-06 21:48:19,802 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670363299 seconds). SubmitUpdate time: 24.59847640991211 seconds
2022-12-06 21:48:19,807 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:48:19,851 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b02dd267-3619-4be0-85ac-30762954f1ba]: result sent to server for task: name=train, id=b02dd267-3619-4be0-85ac-30762954f1ba
2022-12-06 21:48:19,852 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:48:21,819 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:48:21,921 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:48:23,832 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:48:23,947 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:48:25,845 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:48:25,959 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:48:27,858 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:48:27,971 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:48:29,870 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:48:29,946 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 21:48:29,983 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:48:30,444 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 21:48:30,445 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 25
2022-12-06 21:48:30,594 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 21:48:30,594 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 21:48:31,483 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 21:48:31,484 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 25 finished.
2022-12-06 21:48:31,484 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 26 started.
2022-12-06 21:48:31,485 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 21:48:31,879 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e]: assigned task to client site-1: name=train, id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e
2022-12-06 21:48:31,881 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e]: sent task assignment to client
2022-12-06 21:48:32,733 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 21:48:33,148 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=51c0f3b1-e879-4ff1-bec4-8c536da2469c]: assigned task to client site-2: name=train, id=51c0f3b1-e879-4ff1-bec4-8c536da2469c
2022-12-06 21:48:33,149 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=51c0f3b1-e879-4ff1-bec4-8c536da2469c]: sent task assignment to client
2022-12-06 21:48:33,969 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 21:48:55,490 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.613584995269775 seconds
2022-12-06 21:48:55,492 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:48:55,935 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e
2022-12-06 21:48:55,936 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:48:55,936 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e]: Client trainer got task: train
2022-12-06 21:48:56,702 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.713131189346313 seconds
2022-12-06 21:48:56,720 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:48:57,118 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=51c0f3b1-e879-4ff1-bec4-8c536da2469c
2022-12-06 21:48:57,119 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=51c0f3b1-e879-4ff1-bec4-8c536da2469c]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:48:57,119 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=51c0f3b1-e879-4ff1-bec4-8c536da2469c]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 21:49:18,116 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e]: Accuracy when validating site-1's model on site-1s data: 0.9635246912728733
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 21:49:19,161 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=51c0f3b1-e879-4ff1-bec4-8c536da2469c]: Accuracy when validating site-2's model on site-2s data: 0.9663181199062616
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.88      0.82      0.85       222
         eve       0.59      0.64      0.61        96
         geo       0.92      0.94      0.93     14594
         gpe       0.97      0.95      0.96      5584
         nat       0.79      0.70      0.74       116
         org       0.89      0.88      0.88      8377
         per       0.90      0.92      0.91      7230
         tim       0.92      0.92      0.92      6802

   micro avg       0.92      0.92      0.92     43021
   macro avg       0.86      0.85      0.85     43021
weighted avg       0.92      0.92      0.92     43021

F1-score: 0.9875176868501666
val 0/1: 
              precision    recall  f1-score   support

         art       0.11      0.11      0.11        19
         eve       0.19      0.19      0.19        16
         geo       0.83      0.87      0.85      1819
         gpe       0.95      0.95      0.95       731
         nat       0.00      0.00      0.00         6
         org       0.66      0.66      0.66       991
         per       0.72      0.79      0.75       907
         tim       0.86      0.82      0.84       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.54      0.55      0.54      5343
weighted avg       0.80      0.81      0.80      5343

F1-score: 0.9646093539868604
2022-12-06 21:58:00,513 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e]: train:
              precision    recall  f1-score   support

         art       0.88      0.82      0.85       222
         eve       0.59      0.64      0.61        96
         geo       0.92      0.94      0.93     14594
         gpe       0.97      0.95      0.96      5584
         nat       0.79      0.70      0.74       116
         org       0.89      0.88      0.88      8377
         per       0.90      0.92      0.91      7230
         tim       0.92      0.92      0.92      6802

   micro avg       0.92      0.92      0.92     43021
   macro avg       0.86      0.85      0.85     43021
weighted avg       0.92      0.92      0.92     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.11      0.11      0.11        19
         eve       0.19      0.19      0.19        16
         geo       0.83      0.87      0.85      1819
         gpe       0.95      0.95      0.95       731
         nat       0.00      0.00      0.00         6
         org       0.66      0.66      0.66       991
         per       0.72      0.79      0.75       907
         tim       0.86      0.82      0.84       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.54      0.55      0.54      5343
weighted avg       0.80      0.81      0.80      5343

2022-12-06 21:58:00,896 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 21:58:01,662 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e]: finished processing task
2022-12-06 21:58:01,663 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:58:02,468 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.88      0.81      0.84       176
         eve       0.72      0.74      0.73       117
         geo       0.93      0.95      0.94     14724
         gpe       0.97      0.95      0.96      5503
         nat       0.82      0.79      0.81        95
         org       0.90      0.89      0.90      8238
         per       0.90      0.91      0.91      6998
         tim       0.93      0.92      0.93      6773

   micro avg       0.92      0.93      0.93     42624
   macro avg       0.88      0.87      0.88     42624
weighted avg       0.92      0.93      0.93     42624

F1-score: 0.9891683228595096
val 0/1: 
              precision    recall  f1-score   support

         art       0.61      0.31      0.41        45
         eve       0.17      0.23      0.19        13
         geo       0.85      0.86      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.33      0.08      0.13        12
         org       0.69      0.73      0.71      1045
         per       0.76      0.77      0.76       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.65      0.60      0.61      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9652001328915353
2022-12-06 21:58:04,210 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=51c0f3b1-e879-4ff1-bec4-8c536da2469c]: train:
              precision    recall  f1-score   support

         art       0.88      0.81      0.84       176
         eve       0.72      0.74      0.73       117
         geo       0.93      0.95      0.94     14724
         gpe       0.97      0.95      0.96      5503
         nat       0.82      0.79      0.81        95
         org       0.90      0.89      0.90      8238
         per       0.90      0.91      0.91      6998
         tim       0.93      0.92      0.93      6773

   micro avg       0.92      0.93      0.93     42624
   macro avg       0.88      0.87      0.88     42624
weighted avg       0.92      0.93      0.93     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.61      0.31      0.41        45
         eve       0.17      0.23      0.19        13
         geo       0.85      0.86      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.33      0.08      0.13        12
         org       0.69      0.73      0.71      1045
         per       0.76      0.77      0.76       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.65      0.60      0.61      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-06 21:58:04,382 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 21:58:05,107 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=51c0f3b1-e879-4ff1-bec4-8c536da2469c]: finished processing task
2022-12-06 21:58:05,108 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 21:58:05,894 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 21:58:25,344 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670363905 seconds)
2022-12-06 21:58:25,344 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e
2022-12-06 21:58:25,344 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e]: invoking result_received_cb ...
2022-12-06 21:58:25,416 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 21:58:25,417 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e]: finished processing client result by scatter_and_gather
2022-12-06 21:58:25,448 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670363905 seconds). SubmitUpdate time: 22.97977328300476 seconds
2022-12-06 21:58:25,501 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e]: result sent to server for task: name=train, id=a90eab84-4cb0-40ac-88d3-d9bdae9e434e
2022-12-06 21:58:25,501 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:58:28,719 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670363908 seconds)
2022-12-06 21:58:28,719 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=51c0f3b1-e879-4ff1-bec4-8c536da2469c
2022-12-06 21:58:28,719 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=51c0f3b1-e879-4ff1-bec4-8c536da2469c]: invoking result_received_cb ...
2022-12-06 21:58:28,878 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=51c0f3b1-e879-4ff1-bec4-8c536da2469c]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 21:58:28,878 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=51c0f3b1-e879-4ff1-bec4-8c536da2469c]: finished processing client result by scatter_and_gather
2022-12-06 21:58:28,910 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670363908 seconds). SubmitUpdate time: 23.016035556793213 seconds
2022-12-06 21:58:28,918 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:58:28,966 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=51c0f3b1-e879-4ff1-bec4-8c536da2469c]: result sent to server for task: name=train, id=51c0f3b1-e879-4ff1-bec4-8c536da2469c
2022-12-06 21:58:28,967 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:58:30,937 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:58:31,047 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:58:32,950 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:58:33,060 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:58:34,961 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:58:35,072 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:58:36,974 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:58:37,084 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:58:38,986 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 21:58:39,075 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 21:58:39,096 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 21:58:39,573 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 21:58:39,574 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 26
2022-12-06 21:58:39,663 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 21:58:39,664 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 21:58:40,555 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 21:58:40,556 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 26 finished.
2022-12-06 21:58:40,556 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 27 started.
2022-12-06 21:58:40,556 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 21:58:40,996 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9]: assigned task to client site-1: name=train, id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9
2022-12-06 21:58:40,997 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9]: sent task assignment to client
2022-12-06 21:58:41,853 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 21:58:42,269 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e]: assigned task to client site-2: name=train, id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e
2022-12-06 21:58:42,271 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e]: sent task assignment to client
2022-12-06 21:58:43,074 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 21:59:04,580 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.587476015090942 seconds
2022-12-06 21:59:04,612 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:59:05,032 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9
2022-12-06 21:59:05,033 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:59:05,033 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9]: Client trainer got task: train
2022-12-06 21:59:05,722 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.621071815490723 seconds
2022-12-06 21:59:05,739 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 21:59:06,151 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e
2022-12-06 21:59:06,151 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 21:59:06,152 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 21:59:27,192 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9]: Accuracy when validating site-1's model on site-1s data: 0.9663267390277305
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 21:59:28,226 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e]: Accuracy when validating site-2's model on site-2s data: 0.9658812251781551
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.84      0.83      0.84       222
         eve       0.72      0.69      0.70        96
         geo       0.93      0.95      0.94     14594
         gpe       0.97      0.96      0.96      5584
         nat       0.78      0.72      0.75       116
         org       0.90      0.89      0.89      8377
         per       0.90      0.92      0.91      7230
         tim       0.94      0.94      0.94      6802

   micro avg       0.93      0.93      0.93     43021
   macro avg       0.87      0.86      0.87     43021
weighted avg       0.93      0.93      0.93     43021

F1-score: 0.9894927354731852
val 0/1: 
              precision    recall  f1-score   support

         art       0.27      0.16      0.20        19
         eve       0.25      0.25      0.25        16
         geo       0.83      0.87      0.85      1819
         gpe       0.95      0.94      0.95       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.67      0.69       991
         per       0.73      0.80      0.76       907
         tim       0.84      0.81      0.82       854

   micro avg       0.81      0.82      0.81      5343
   macro avg       0.57      0.56      0.57      5343
weighted avg       0.81      0.82      0.81      5343

F1-score: 0.9651935941025052
2022-12-06 22:08:03,452 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9]: train:
              precision    recall  f1-score   support

         art       0.84      0.83      0.84       222
         eve       0.72      0.69      0.70        96
         geo       0.93      0.95      0.94     14594
         gpe       0.97      0.96      0.96      5584
         nat       0.78      0.72      0.75       116
         org       0.90      0.89      0.89      8377
         per       0.90      0.92      0.91      7230
         tim       0.94      0.94      0.94      6802

   micro avg       0.93      0.93      0.93     43021
   macro avg       0.87      0.86      0.87     43021
weighted avg       0.93      0.93      0.93     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.27      0.16      0.20        19
         eve       0.25      0.25      0.25        16
         geo       0.83      0.87      0.85      1819
         gpe       0.95      0.94      0.95       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.67      0.69       991
         per       0.73      0.80      0.76       907
         tim       0.84      0.81      0.82       854

   micro avg       0.81      0.82      0.81      5343
   macro avg       0.57      0.56      0.57      5343
weighted avg       0.81      0.82      0.81      5343

2022-12-06 22:08:04,197 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 22:08:04,283 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9]: finished processing task
2022-12-06 22:08:04,284 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:08:05,084 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.85      0.84      0.85       176
         eve       0.75      0.81      0.78       117
         geo       0.94      0.95      0.95     14724
         gpe       0.97      0.96      0.96      5503
         nat       0.87      0.73      0.79        95
         org       0.91      0.90      0.91      8238
         per       0.92      0.92      0.92      6998
         tim       0.94      0.93      0.94      6773

   micro avg       0.93      0.93      0.93     42624
   macro avg       0.89      0.88      0.89     42624
weighted avg       0.93      0.93      0.93     42624

F1-score: 0.990195518857742
val 0/1: 
              precision    recall  f1-score   support

         art       0.59      0.22      0.32        45
         eve       0.23      0.23      0.23        13
         geo       0.84      0.88      0.86      1773
         gpe       0.93      0.93      0.93       640
         nat       0.33      0.08      0.13        12
         org       0.68      0.72      0.70      1045
         per       0.75      0.76      0.75       940
         tim       0.86      0.86      0.86       859

   micro avg       0.80      0.82      0.81      5327
   macro avg       0.65      0.59      0.60      5327
weighted avg       0.80      0.82      0.81      5327

F1-score: 0.9645185976770688
2022-12-06 22:08:13,231 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e]: train:
              precision    recall  f1-score   support

         art       0.85      0.84      0.85       176
         eve       0.75      0.81      0.78       117
         geo       0.94      0.95      0.95     14724
         gpe       0.97      0.96      0.96      5503
         nat       0.87      0.73      0.79        95
         org       0.91      0.90      0.91      8238
         per       0.92      0.92      0.92      6998
         tim       0.94      0.93      0.94      6773

   micro avg       0.93      0.93      0.93     42624
   macro avg       0.89      0.88      0.89     42624
weighted avg       0.93      0.93      0.93     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.59      0.22      0.32        45
         eve       0.23      0.23      0.23        13
         geo       0.84      0.88      0.86      1773
         gpe       0.93      0.93      0.93       640
         nat       0.33      0.08      0.13        12
         org       0.68      0.72      0.70      1045
         per       0.75      0.76      0.75       940
         tim       0.86      0.86      0.86       859

   micro avg       0.80      0.82      0.81      5327
   macro avg       0.65      0.59      0.60      5327
weighted avg       0.80      0.82      0.81      5327

2022-12-06 22:08:13,404 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 22:08:14,391 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e]: finished processing task
2022-12-06 22:08:14,392 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:08:15,202 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 22:08:27,831 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670364507 seconds)
2022-12-06 22:08:27,831 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9
2022-12-06 22:08:27,831 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9]: invoking result_received_cb ...
2022-12-06 22:08:27,903 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 22:08:27,903 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9]: finished processing client result by scatter_and_gather
2022-12-06 22:08:27,934 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670364507 seconds). SubmitUpdate time: 22.850295305252075 seconds
2022-12-06 22:08:27,989 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9]: result sent to server for task: name=train, id=4174bda6-2a51-43c0-9dc2-d38ea73be5e9
2022-12-06 22:08:27,989 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:08:30,044 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:08:32,054 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:08:34,063 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:08:38,039 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670364518 seconds)
2022-12-06 22:08:38,039 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e
2022-12-06 22:08:38,040 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e]: invoking result_received_cb ...
2022-12-06 22:08:38,197 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 22:08:38,197 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e]: finished processing client result by scatter_and_gather
2022-12-06 22:08:38,201 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:08:38,228 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670364518 seconds). SubmitUpdate time: 23.025827169418335 seconds
2022-12-06 22:08:38,265 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e]: result sent to server for task: name=train, id=3f10cfbb-4381-4324-825f-ad58e1fb0b2e
2022-12-06 22:08:38,266 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:08:40,234 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:08:40,345 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:08:42,247 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:08:42,358 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:08:44,259 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:08:44,394 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:08:46,286 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:08:46,406 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:08:48,298 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:08:48,386 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 22:08:48,417 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:08:48,884 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 22:08:48,885 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 27
2022-12-06 22:08:49,018 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 22:08:49,019 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 22:08:49,894 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 22:08:49,895 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 27 finished.
2022-12-06 22:08:49,895 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 28 started.
2022-12-06 22:08:49,895 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 22:08:50,308 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=f100f96b-3d31-47ef-95f0-68e1d97ebe02]: assigned task to client site-1: name=train, id=f100f96b-3d31-47ef-95f0-68e1d97ebe02
2022-12-06 22:08:50,309 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=f100f96b-3d31-47ef-95f0-68e1d97ebe02]: sent task assignment to client
2022-12-06 22:08:51,163 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 22:08:51,579 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=caae5dab-aca2-4e75-8efa-278418c1d904]: assigned task to client site-2: name=train, id=caae5dab-aca2-4e75-8efa-278418c1d904
2022-12-06 22:08:51,581 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=caae5dab-aca2-4e75-8efa-278418c1d904]: sent task assignment to client
2022-12-06 22:08:52,403 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 22:09:13,836 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.53203535079956 seconds
2022-12-06 22:09:13,841 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:09:14,283 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=f100f96b-3d31-47ef-95f0-68e1d97ebe02
2022-12-06 22:09:14,283 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f100f96b-3d31-47ef-95f0-68e1d97ebe02]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:09:14,297 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f100f96b-3d31-47ef-95f0-68e1d97ebe02]: Client trainer got task: train
2022-12-06 22:09:15,061 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.638065099716187 seconds
2022-12-06 22:09:15,091 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:09:15,510 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=caae5dab-aca2-4e75-8efa-278418c1d904
2022-12-06 22:09:15,511 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=caae5dab-aca2-4e75-8efa-278418c1d904]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:09:15,511 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=caae5dab-aca2-4e75-8efa-278418c1d904]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 22:09:36,572 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f100f96b-3d31-47ef-95f0-68e1d97ebe02]: Accuracy when validating site-1's model on site-1s data: 0.9656236927022477
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 22:09:37,598 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=caae5dab-aca2-4e75-8efa-278418c1d904]: Accuracy when validating site-2's model on site-2s data: 0.9652927832027034
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.89      0.86      0.88       222
         eve       0.71      0.70      0.71        96
         geo       0.94      0.96      0.95     14594
         gpe       0.97      0.96      0.96      5584
         nat       0.69      0.69      0.69       116
         org       0.91      0.90      0.90      8377
         per       0.92      0.93      0.92      7230
         tim       0.94      0.93      0.94      6802

   micro avg       0.93      0.93      0.93     43021
   macro avg       0.87      0.87      0.87     43021
weighted avg       0.93      0.93      0.93     43021

F1-score: 0.9899036717904298
val 0/1: 
              precision    recall  f1-score   support

         art       0.14      0.16      0.15        19
         eve       0.22      0.31      0.26        16
         geo       0.84      0.85      0.84      1819
         gpe       0.94      0.95      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.65      0.68       991
         per       0.70      0.81      0.75       907
         tim       0.82      0.83      0.82       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.55      0.57      0.56      5343
weighted avg       0.80      0.81      0.80      5343

F1-score: 0.9639136544713831
2022-12-06 22:18:18,116 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f100f96b-3d31-47ef-95f0-68e1d97ebe02]: train:
              precision    recall  f1-score   support

         art       0.89      0.86      0.88       222
         eve       0.71      0.70      0.71        96
         geo       0.94      0.96      0.95     14594
         gpe       0.97      0.96      0.96      5584
         nat       0.69      0.69      0.69       116
         org       0.91      0.90      0.90      8377
         per       0.92      0.93      0.92      7230
         tim       0.94      0.93      0.94      6802

   micro avg       0.93      0.93      0.93     43021
   macro avg       0.87      0.87      0.87     43021
weighted avg       0.93      0.93      0.93     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.14      0.16      0.15        19
         eve       0.22      0.31      0.26        16
         geo       0.84      0.85      0.84      1819
         gpe       0.94      0.95      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.65      0.68       991
         per       0.70      0.81      0.75       907
         tim       0.82      0.83      0.82       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.55      0.57      0.56      5343
weighted avg       0.80      0.81      0.80      5343

2022-12-06 22:18:18,715 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 22:18:19,031 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f100f96b-3d31-47ef-95f0-68e1d97ebe02]: finished processing task
2022-12-06 22:18:19,033 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:18:19,834 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.82      0.81      0.81       176
         eve       0.83      0.86      0.85       117
         geo       0.94      0.95      0.95     14724
         gpe       0.97      0.96      0.96      5503
         nat       0.77      0.76      0.76        95
         org       0.91      0.90      0.91      8238
         per       0.91      0.92      0.92      6998
         tim       0.94      0.94      0.94      6773

   micro avg       0.93      0.94      0.93     42624
   macro avg       0.89      0.89      0.89     42624
weighted avg       0.93      0.94      0.93     42624

F1-score: 0.9903329969883637
val 0/1: 
              precision    recall  f1-score   support

         art       0.53      0.22      0.31        45
         eve       0.21      0.23      0.22        13
         geo       0.81      0.89      0.85      1773
         gpe       0.96      0.93      0.95       640
         nat       0.50      0.08      0.14        12
         org       0.73      0.71      0.72      1045
         per       0.77      0.75      0.76       940
         tim       0.84      0.86      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.67      0.58      0.60      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9644407408804961
2022-12-06 22:18:22,725 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=caae5dab-aca2-4e75-8efa-278418c1d904]: train:
              precision    recall  f1-score   support

         art       0.82      0.81      0.81       176
         eve       0.83      0.86      0.85       117
         geo       0.94      0.95      0.95     14724
         gpe       0.97      0.96      0.96      5503
         nat       0.77      0.76      0.76        95
         org       0.91      0.90      0.91      8238
         per       0.91      0.92      0.92      6998
         tim       0.94      0.94      0.94      6773

   micro avg       0.93      0.94      0.93     42624
   macro avg       0.89      0.89      0.89     42624
weighted avg       0.93      0.94      0.93     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.53      0.22      0.31        45
         eve       0.21      0.23      0.22        13
         geo       0.81      0.89      0.85      1773
         gpe       0.96      0.93      0.95       640
         nat       0.50      0.08      0.14        12
         org       0.73      0.71      0.72      1045
         per       0.77      0.75      0.76       940
         tim       0.84      0.86      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.67      0.58      0.60      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-06 22:18:22,898 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 22:18:23,616 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=caae5dab-aca2-4e75-8efa-278418c1d904]: finished processing task
2022-12-06 22:18:23,617 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:18:24,424 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 22:18:42,552 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670365122 seconds)
2022-12-06 22:18:42,552 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=f100f96b-3d31-47ef-95f0-68e1d97ebe02
2022-12-06 22:18:42,552 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f100f96b-3d31-47ef-95f0-68e1d97ebe02]: invoking result_received_cb ...
2022-12-06 22:18:42,621 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f100f96b-3d31-47ef-95f0-68e1d97ebe02]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 22:18:42,622 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f100f96b-3d31-47ef-95f0-68e1d97ebe02]: finished processing client result by scatter_and_gather
2022-12-06 22:18:42,653 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670365122 seconds). SubmitUpdate time: 22.818336486816406 seconds
2022-12-06 22:18:42,707 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f100f96b-3d31-47ef-95f0-68e1d97ebe02]: result sent to server for task: name=train, id=f100f96b-3d31-47ef-95f0-68e1d97ebe02
2022-12-06 22:18:42,708 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:18:47,154 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670365127 seconds)
2022-12-06 22:18:47,154 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=caae5dab-aca2-4e75-8efa-278418c1d904
2022-12-06 22:18:47,155 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=caae5dab-aca2-4e75-8efa-278418c1d904]: invoking result_received_cb ...
2022-12-06 22:18:47,303 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=caae5dab-aca2-4e75-8efa-278418c1d904]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 22:18:47,303 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=caae5dab-aca2-4e75-8efa-278418c1d904]: finished processing client result by scatter_and_gather
2022-12-06 22:18:47,337 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670365127 seconds). SubmitUpdate time: 22.912832260131836 seconds
2022-12-06 22:18:47,342 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:18:47,368 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=caae5dab-aca2-4e75-8efa-278418c1d904]: result sent to server for task: name=train, id=caae5dab-aca2-4e75-8efa-278418c1d904
2022-12-06 22:18:47,369 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:18:49,352 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:18:49,437 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:18:51,362 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:18:51,446 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:18:53,370 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:18:53,455 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:18:55,380 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:18:55,464 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:18:57,390 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:18:57,472 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:18:57,534 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 22:18:57,534 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 22:18:57,535 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 28
2022-12-06 22:18:57,603 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 22:18:57,604 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 22:18:58,191 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 22:18:58,192 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 28 finished.
2022-12-06 22:18:58,192 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 29 started.
2022-12-06 22:18:58,192 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 22:18:59,397 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=ffe8c804-9c02-4a6f-8439-0e7da2c46398]: assigned task to client site-1: name=train, id=ffe8c804-9c02-4a6f-8439-0e7da2c46398
2022-12-06 22:18:59,398 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=ffe8c804-9c02-4a6f-8439-0e7da2c46398]: sent task assignment to client
2022-12-06 22:19:00,216 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 22:19:00,636 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=786226c3-c115-4a2e-b98e-b4271f703680]: assigned task to client site-2: name=train, id=786226c3-c115-4a2e-b98e-b4271f703680
2022-12-06 22:19:00,637 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=786226c3-c115-4a2e-b98e-b4271f703680]: sent task assignment to client
2022-12-06 22:19:01,435 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 22:19:22,912 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.51667809486389 seconds
2022-12-06 22:19:22,945 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:19:23,368 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=ffe8c804-9c02-4a6f-8439-0e7da2c46398
2022-12-06 22:19:23,369 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ffe8c804-9c02-4a6f-8439-0e7da2c46398]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:19:23,369 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ffe8c804-9c02-4a6f-8439-0e7da2c46398]: Client trainer got task: train
2022-12-06 22:19:24,100 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.623175382614136 seconds
2022-12-06 22:19:24,116 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:19:24,525 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=786226c3-c115-4a2e-b98e-b4271f703680
2022-12-06 22:19:24,525 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=786226c3-c115-4a2e-b98e-b4271f703680]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:19:24,526 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=786226c3-c115-4a2e-b98e-b4271f703680]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 22:19:45,572 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ffe8c804-9c02-4a6f-8439-0e7da2c46398]: Accuracy when validating site-1's model on site-1s data: 0.964841772103368
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 22:19:46,654 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=786226c3-c115-4a2e-b98e-b4271f703680]: Accuracy when validating site-2's model on site-2s data: 0.9663811039804243
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.88      0.88      0.88       222
         eve       0.73      0.74      0.74        96
         geo       0.94      0.95      0.95     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.82      0.80      0.81       116
         org       0.91      0.90      0.91      8377
         per       0.91      0.93      0.92      7230
         tim       0.94      0.94      0.94      6802

   micro avg       0.93      0.94      0.93     43021
   macro avg       0.89      0.89      0.89     43021
weighted avg       0.93      0.94      0.93     43021

F1-score: 0.9901361257413389
val 0/1: 
              precision    recall  f1-score   support

         art       0.11      0.05      0.07        19
         eve       0.15      0.19      0.17        16
         geo       0.84      0.86      0.85      1819
         gpe       0.95      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.65      0.68       991
         per       0.71      0.80      0.75       907
         tim       0.84      0.82      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.80      0.81      0.81      5343

F1-score: 0.9642783077857755
2022-12-06 22:28:25,274 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ffe8c804-9c02-4a6f-8439-0e7da2c46398]: train:
              precision    recall  f1-score   support

         art       0.88      0.88      0.88       222
         eve       0.73      0.74      0.74        96
         geo       0.94      0.95      0.95     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.82      0.80      0.81       116
         org       0.91      0.90      0.91      8377
         per       0.91      0.93      0.92      7230
         tim       0.94      0.94      0.94      6802

   micro avg       0.93      0.94      0.93     43021
   macro avg       0.89      0.89      0.89     43021
weighted avg       0.93      0.94      0.93     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.11      0.05      0.07        19
         eve       0.15      0.19      0.17        16
         geo       0.84      0.86      0.85      1819
         gpe       0.95      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.65      0.68       991
         per       0.71      0.80      0.75       907
         tim       0.84      0.82      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.80      0.81      0.81      5343

2022-12-06 22:28:25,285 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 22:28:26,203 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ffe8c804-9c02-4a6f-8439-0e7da2c46398]: finished processing task
2022-12-06 22:28:26,204 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:28:27,020 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.86      0.84      0.85       176
         eve       0.69      0.74      0.71       117
         geo       0.94      0.95      0.95     14724
         gpe       0.97      0.96      0.97      5503
         nat       0.84      0.82      0.83        95
         org       0.91      0.90      0.91      8238
         per       0.92      0.93      0.92      6998
         tim       0.94      0.94      0.94      6773

   micro avg       0.93      0.94      0.94     42624
   macro avg       0.88      0.88      0.88     42624
weighted avg       0.93      0.94      0.94     42624

F1-score: 0.9905193979084892
val 0/1: 
              precision    recall  f1-score   support

         art       0.47      0.18      0.26        45
         eve       0.19      0.23      0.21        13
         geo       0.83      0.88      0.86      1773
         gpe       0.94      0.93      0.94       640
         nat       0.75      0.25      0.38        12
         org       0.76      0.68      0.72      1045
         per       0.72      0.80      0.76       940
         tim       0.85      0.86      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.69      0.60      0.62      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9647851300941871
2022-12-06 22:28:28,785 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=786226c3-c115-4a2e-b98e-b4271f703680]: train:
              precision    recall  f1-score   support

         art       0.86      0.84      0.85       176
         eve       0.69      0.74      0.71       117
         geo       0.94      0.95      0.95     14724
         gpe       0.97      0.96      0.97      5503
         nat       0.84      0.82      0.83        95
         org       0.91      0.90      0.91      8238
         per       0.92      0.93      0.92      6998
         tim       0.94      0.94      0.94      6773

   micro avg       0.93      0.94      0.94     42624
   macro avg       0.88      0.88      0.88     42624
weighted avg       0.93      0.94      0.94     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.47      0.18      0.26        45
         eve       0.19      0.23      0.21        13
         geo       0.83      0.88      0.86      1773
         gpe       0.94      0.93      0.94       640
         nat       0.75      0.25      0.38        12
         org       0.76      0.68      0.72      1045
         per       0.72      0.80      0.76       940
         tim       0.85      0.86      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.69      0.60      0.62      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-06 22:28:29,684 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 22:28:29,916 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=786226c3-c115-4a2e-b98e-b4271f703680]: finished processing task
2022-12-06 22:28:29,917 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:28:30,699 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 22:28:49,805 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670365729 seconds)
2022-12-06 22:28:49,806 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=ffe8c804-9c02-4a6f-8439-0e7da2c46398
2022-12-06 22:28:49,806 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ffe8c804-9c02-4a6f-8439-0e7da2c46398]: invoking result_received_cb ...
2022-12-06 22:28:49,872 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ffe8c804-9c02-4a6f-8439-0e7da2c46398]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 22:28:49,873 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ffe8c804-9c02-4a6f-8439-0e7da2c46398]: finished processing client result by scatter_and_gather
2022-12-06 22:28:49,903 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670365729 seconds). SubmitUpdate time: 22.88269829750061 seconds
2022-12-06 22:28:49,937 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ffe8c804-9c02-4a6f-8439-0e7da2c46398]: result sent to server for task: name=train, id=ffe8c804-9c02-4a6f-8439-0e7da2c46398
2022-12-06 22:28:49,937 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:28:53,454 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670365733 seconds)
2022-12-06 22:28:53,454 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=786226c3-c115-4a2e-b98e-b4271f703680
2022-12-06 22:28:53,454 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=786226c3-c115-4a2e-b98e-b4271f703680]: invoking result_received_cb ...
2022-12-06 22:28:53,611 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=786226c3-c115-4a2e-b98e-b4271f703680]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 22:28:53,611 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=786226c3-c115-4a2e-b98e-b4271f703680]: finished processing client result by scatter_and_gather
2022-12-06 22:28:53,646 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670365733 seconds). SubmitUpdate time: 22.947202444076538 seconds
2022-12-06 22:28:53,649 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:28:53,699 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=786226c3-c115-4a2e-b98e-b4271f703680]: result sent to server for task: name=train, id=786226c3-c115-4a2e-b98e-b4271f703680
2022-12-06 22:28:53,700 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:28:55,659 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:28:55,794 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:28:57,670 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:28:57,804 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:28:59,681 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:28:59,814 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:29:01,691 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:29:01,829 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:29:03,702 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:29:03,807 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 22:29:03,839 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:29:04,306 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 22:29:04,307 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 29
2022-12-06 22:29:04,420 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 22:29:04,420 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 22:29:05,414 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 22:29:05,414 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 29 finished.
2022-12-06 22:29:05,415 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 30 started.
2022-12-06 22:29:05,415 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 22:29:05,708 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=292dc6d6-cae8-49e2-9eef-2f413a4204de]: assigned task to client site-1: name=train, id=292dc6d6-cae8-49e2-9eef-2f413a4204de
2022-12-06 22:29:05,709 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=292dc6d6-cae8-49e2-9eef-2f413a4204de]: sent task assignment to client
2022-12-06 22:29:06,539 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 22:29:06,954 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=f87ed724-8347-48d6-87ec-359cc7c4dd18]: assigned task to client site-2: name=train, id=f87ed724-8347-48d6-87ec-359cc7c4dd18
2022-12-06 22:29:06,956 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=f87ed724-8347-48d6-87ec-359cc7c4dd18]: sent task assignment to client
2022-12-06 22:29:07,756 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 22:29:29,196 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.490243673324585 seconds
2022-12-06 22:29:29,217 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:29:29,648 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=292dc6d6-cae8-49e2-9eef-2f413a4204de
2022-12-06 22:29:29,648 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=292dc6d6-cae8-49e2-9eef-2f413a4204de]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:29:29,648 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=292dc6d6-cae8-49e2-9eef-2f413a4204de]: Client trainer got task: train
2022-12-06 22:29:30,428 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.583951711654663 seconds
2022-12-06 22:29:30,434 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:29:30,852 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=f87ed724-8347-48d6-87ec-359cc7c4dd18
2022-12-06 22:29:30,852 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f87ed724-8347-48d6-87ec-359cc7c4dd18]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:29:30,853 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f87ed724-8347-48d6-87ec-359cc7c4dd18]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 22:29:51,885 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=292dc6d6-cae8-49e2-9eef-2f413a4204de]: Accuracy when validating site-1's model on site-1s data: 0.9641587799980517
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 22:29:52,975 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f87ed724-8347-48d6-87ec-359cc7c4dd18]: Accuracy when validating site-2's model on site-2s data: 0.9667562078020387
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.86      0.86      0.86       222
         eve       0.74      0.76      0.75        96
         geo       0.94      0.96      0.95     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.76      0.70      0.73       116
         org       0.92      0.91      0.91      8377
         per       0.93      0.94      0.93      7230
         tim       0.95      0.95      0.95      6802

   micro avg       0.94      0.94      0.94     43021
   macro avg       0.88      0.88      0.88     43021
weighted avg       0.94      0.94      0.94     43021

F1-score: 0.9912103266800324
val 0/1: 
              precision    recall  f1-score   support

         art       0.06      0.05      0.06        19
         eve       0.21      0.19      0.20        16
         geo       0.83      0.86      0.84      1819
         gpe       0.93      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.68      0.67      0.68       991
         per       0.72      0.80      0.76       907
         tim       0.84      0.81      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.79      0.81      0.80      5343

F1-score: 0.9636866441012873
2022-12-06 22:38:32,787 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=292dc6d6-cae8-49e2-9eef-2f413a4204de]: train:
              precision    recall  f1-score   support

         art       0.86      0.86      0.86       222
         eve       0.74      0.76      0.75        96
         geo       0.94      0.96      0.95     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.76      0.70      0.73       116
         org       0.92      0.91      0.91      8377
         per       0.93      0.94      0.93      7230
         tim       0.95      0.95      0.95      6802

   micro avg       0.94      0.94      0.94     43021
   macro avg       0.88      0.88      0.88     43021
weighted avg       0.94      0.94      0.94     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.06      0.05      0.06        19
         eve       0.21      0.19      0.20        16
         geo       0.83      0.86      0.84      1819
         gpe       0.93      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.68      0.67      0.68       991
         per       0.72      0.80      0.76       907
         tim       0.84      0.81      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.79      0.81      0.80      5343

2022-12-06 22:38:33,698 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 22:38:33,703 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=292dc6d6-cae8-49e2-9eef-2f413a4204de]: finished processing task
2022-12-06 22:38:33,704 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:38:34,500 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.79      0.78      0.79       176
         eve       0.78      0.76      0.77       117
         geo       0.94      0.95      0.94     14724
         gpe       0.97      0.96      0.96      5503
         nat       0.86      0.79      0.82        95
         org       0.90      0.90      0.90      8238
         per       0.90      0.92      0.91      6998
         tim       0.93      0.93      0.93      6773

   micro avg       0.93      0.93      0.93     42624
   macro avg       0.89      0.87      0.88     42624
weighted avg       0.93      0.93      0.93     42624

F1-score: 0.9899587190377114
val 0/1: 
              precision    recall  f1-score   support

         art       0.34      0.27      0.30        45
         eve       0.14      0.23      0.18        13
         geo       0.83      0.89      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.23      0.25      0.24        12
         org       0.74      0.68      0.71      1045
         per       0.75      0.78      0.76       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.60      0.61      0.60      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9645088189596245
2022-12-06 22:38:36,144 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f87ed724-8347-48d6-87ec-359cc7c4dd18]: train:
              precision    recall  f1-score   support

         art       0.79      0.78      0.79       176
         eve       0.78      0.76      0.77       117
         geo       0.94      0.95      0.94     14724
         gpe       0.97      0.96      0.96      5503
         nat       0.86      0.79      0.82        95
         org       0.90      0.90      0.90      8238
         per       0.90      0.92      0.91      6998
         tim       0.93      0.93      0.93      6773

   micro avg       0.93      0.93      0.93     42624
   macro avg       0.89      0.87      0.88     42624
weighted avg       0.93      0.93      0.93     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.34      0.27      0.30        45
         eve       0.14      0.23      0.18        13
         geo       0.83      0.89      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.23      0.25      0.24        12
         org       0.74      0.68      0.71      1045
         per       0.75      0.78      0.76       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.60      0.61      0.60      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-06 22:38:37,020 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 22:38:37,325 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f87ed724-8347-48d6-87ec-359cc7c4dd18]: finished processing task
2022-12-06 22:38:37,327 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:38:38,109 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 22:38:57,283 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670366337 seconds)
2022-12-06 22:38:57,283 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=292dc6d6-cae8-49e2-9eef-2f413a4204de
2022-12-06 22:38:57,284 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=292dc6d6-cae8-49e2-9eef-2f413a4204de]: invoking result_received_cb ...
2022-12-06 22:38:57,353 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=292dc6d6-cae8-49e2-9eef-2f413a4204de]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 22:38:57,353 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=292dc6d6-cae8-49e2-9eef-2f413a4204de]: finished processing client result by scatter_and_gather
2022-12-06 22:38:57,377 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670366337 seconds). SubmitUpdate time: 22.87646508216858 seconds
2022-12-06 22:38:57,425 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=292dc6d6-cae8-49e2-9eef-2f413a4204de]: result sent to server for task: name=train, id=292dc6d6-cae8-49e2-9eef-2f413a4204de
2022-12-06 22:38:57,425 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:39:00,843 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670366340 seconds)
2022-12-06 22:39:00,843 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=f87ed724-8347-48d6-87ec-359cc7c4dd18
2022-12-06 22:39:00,844 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f87ed724-8347-48d6-87ec-359cc7c4dd18]: invoking result_received_cb ...
2022-12-06 22:39:01,009 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f87ed724-8347-48d6-87ec-359cc7c4dd18]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 22:39:01,009 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f87ed724-8347-48d6-87ec-359cc7c4dd18]: finished processing client result by scatter_and_gather
2022-12-06 22:39:01,046 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:39:01,046 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670366340 seconds). SubmitUpdate time: 22.93692946434021 seconds
2022-12-06 22:39:01,079 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f87ed724-8347-48d6-87ec-359cc7c4dd18]: result sent to server for task: name=train, id=f87ed724-8347-48d6-87ec-359cc7c4dd18
2022-12-06 22:39:01,079 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:39:03,058 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:39:03,139 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:39:05,069 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:39:05,149 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:39:07,078 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:39:07,160 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:39:09,089 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:39:09,170 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:39:11,098 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:39:11,180 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:39:11,205 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 22:39:11,703 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 22:39:11,704 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 30
2022-12-06 22:39:11,775 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 22:39:11,775 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 22:39:12,591 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 22:39:12,592 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 30 finished.
2022-12-06 22:39:12,592 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 31 started.
2022-12-06 22:39:12,593 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 22:39:13,105 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=e737992d-81f1-4844-9c7a-08b959d63279]: assigned task to client site-1: name=train, id=e737992d-81f1-4844-9c7a-08b959d63279
2022-12-06 22:39:13,105 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=e737992d-81f1-4844-9c7a-08b959d63279]: sent task assignment to client
2022-12-06 22:39:13,959 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 22:39:14,385 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=fa9624ce-e4c9-4401-9dfc-109500e03524]: assigned task to client site-2: name=train, id=fa9624ce-e4c9-4401-9dfc-109500e03524
2022-12-06 22:39:14,386 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=fa9624ce-e4c9-4401-9dfc-109500e03524]: sent task assignment to client
2022-12-06 22:39:15,192 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 22:39:36,884 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.781254291534424 seconds
2022-12-06 22:39:36,901 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:39:37,305 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=e737992d-81f1-4844-9c7a-08b959d63279
2022-12-06 22:39:37,305 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e737992d-81f1-4844-9c7a-08b959d63279]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:39:37,306 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e737992d-81f1-4844-9c7a-08b959d63279]: Client trainer got task: train
2022-12-06 22:39:37,818 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.63238263130188 seconds
2022-12-06 22:39:37,834 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:39:38,236 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=fa9624ce-e4c9-4401-9dfc-109500e03524
2022-12-06 22:39:38,237 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fa9624ce-e4c9-4401-9dfc-109500e03524]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:39:38,237 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fa9624ce-e4c9-4401-9dfc-109500e03524]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 22:39:59,507 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e737992d-81f1-4844-9c7a-08b959d63279]: Accuracy when validating site-1's model on site-1s data: 0.9646990101173802
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 22:40:00,369 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fa9624ce-e4c9-4401-9dfc-109500e03524]: Accuracy when validating site-2's model on site-2s data: 0.9664695545364567
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.89      0.88      0.88       222
         eve       0.72      0.76      0.74        96
         geo       0.94      0.96      0.95     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.84      0.76      0.80       116
         org       0.92      0.91      0.92      8377
         per       0.93      0.94      0.94      7230
         tim       0.95      0.95      0.95      6802

   micro avg       0.94      0.94      0.94     43021
   macro avg       0.90      0.89      0.89     43021
weighted avg       0.94      0.94      0.94     43021

F1-score: 0.991712649339651
val 0/1: 
              precision    recall  f1-score   support

         art       0.08      0.11      0.09        19
         eve       0.20      0.25      0.22        16
         geo       0.84      0.85      0.84      1819
         gpe       0.93      0.94      0.93       731
         nat       0.20      0.17      0.18         6
         org       0.71      0.68      0.69       991
         per       0.72      0.81      0.76       907
         tim       0.82      0.83      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.56      0.58      0.57      5343
weighted avg       0.80      0.81      0.80      5343

F1-score: 0.963459200725102
2022-12-06 22:48:39,866 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e737992d-81f1-4844-9c7a-08b959d63279]: train:
              precision    recall  f1-score   support

         art       0.89      0.88      0.88       222
         eve       0.72      0.76      0.74        96
         geo       0.94      0.96      0.95     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.84      0.76      0.80       116
         org       0.92      0.91      0.92      8377
         per       0.93      0.94      0.94      7230
         tim       0.95      0.95      0.95      6802

   micro avg       0.94      0.94      0.94     43021
   macro avg       0.90      0.89      0.89     43021
weighted avg       0.94      0.94      0.94     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.08      0.11      0.09        19
         eve       0.20      0.25      0.22        16
         geo       0.84      0.85      0.84      1819
         gpe       0.93      0.94      0.93       731
         nat       0.20      0.17      0.18         6
         org       0.71      0.68      0.69       991
         per       0.72      0.81      0.76       907
         tim       0.82      0.83      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.56      0.58      0.57      5343
weighted avg       0.80      0.81      0.80      5343

2022-12-06 22:48:40,268 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 22:48:40,794 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e737992d-81f1-4844-9c7a-08b959d63279]: finished processing task
2022-12-06 22:48:40,795 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:48:41,608 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.90      0.86      0.88       176
         eve       0.80      0.83      0.82       117
         geo       0.95      0.96      0.95     14724
         gpe       0.97      0.96      0.97      5503
         nat       0.89      0.85      0.87        95
         org       0.92      0.92      0.92      8238
         per       0.93      0.94      0.93      6998
         tim       0.95      0.94      0.95      6773

   micro avg       0.94      0.94      0.94     42624
   macro avg       0.91      0.91      0.91     42624
weighted avg       0.94      0.94      0.94     42624

F1-score: 0.9918469064453375
val 0/1: 
              precision    recall  f1-score   support

         art       0.43      0.27      0.33        45
         eve       0.19      0.23      0.21        13
         geo       0.85      0.87      0.86      1773
         gpe       0.93      0.94      0.94       640
         nat       0.08      0.08      0.08        12
         org       0.71      0.72      0.72      1045
         per       0.75      0.77      0.76       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.60      0.59      0.59      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9658589750344453
2022-12-06 22:48:43,184 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fa9624ce-e4c9-4401-9dfc-109500e03524]: train:
              precision    recall  f1-score   support

         art       0.90      0.86      0.88       176
         eve       0.80      0.83      0.82       117
         geo       0.95      0.96      0.95     14724
         gpe       0.97      0.96      0.97      5503
         nat       0.89      0.85      0.87        95
         org       0.92      0.92      0.92      8238
         per       0.93      0.94      0.93      6998
         tim       0.95      0.94      0.95      6773

   micro avg       0.94      0.94      0.94     42624
   macro avg       0.91      0.91      0.91     42624
weighted avg       0.94      0.94      0.94     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.43      0.27      0.33        45
         eve       0.19      0.23      0.21        13
         geo       0.85      0.87      0.86      1773
         gpe       0.93      0.94      0.94       640
         nat       0.08      0.08      0.08        12
         org       0.71      0.72      0.72      1045
         per       0.75      0.77      0.76       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.60      0.59      0.59      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-06 22:48:44,186 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 22:48:44,327 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fa9624ce-e4c9-4401-9dfc-109500e03524]: finished processing task
2022-12-06 22:48:44,328 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:48:45,134 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 22:49:04,365 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670366944 seconds)
2022-12-06 22:49:04,365 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=e737992d-81f1-4844-9c7a-08b959d63279
2022-12-06 22:49:04,366 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e737992d-81f1-4844-9c7a-08b959d63279]: invoking result_received_cb ...
2022-12-06 22:49:04,436 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e737992d-81f1-4844-9c7a-08b959d63279]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 22:49:04,437 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e737992d-81f1-4844-9c7a-08b959d63279]: finished processing client result by scatter_and_gather
2022-12-06 22:49:04,460 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670366944 seconds). SubmitUpdate time: 22.85182285308838 seconds
2022-12-06 22:49:04,499 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e737992d-81f1-4844-9c7a-08b959d63279]: result sent to server for task: name=train, id=e737992d-81f1-4844-9c7a-08b959d63279
2022-12-06 22:49:04,500 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:49:07,896 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670366947 seconds)
2022-12-06 22:49:07,896 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=fa9624ce-e4c9-4401-9dfc-109500e03524
2022-12-06 22:49:07,897 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fa9624ce-e4c9-4401-9dfc-109500e03524]: invoking result_received_cb ...
2022-12-06 22:49:08,061 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fa9624ce-e4c9-4401-9dfc-109500e03524]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 22:49:08,062 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fa9624ce-e4c9-4401-9dfc-109500e03524]: finished processing client result by scatter_and_gather
2022-12-06 22:49:08,096 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670366947 seconds). SubmitUpdate time: 22.961845874786377 seconds
2022-12-06 22:49:08,098 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:49:08,138 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fa9624ce-e4c9-4401-9dfc-109500e03524]: result sent to server for task: name=train, id=fa9624ce-e4c9-4401-9dfc-109500e03524
2022-12-06 22:49:08,138 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:49:10,109 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:49:10,185 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:49:12,120 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:49:12,194 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:49:14,129 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:49:14,205 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:49:16,139 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:49:16,215 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:49:18,149 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:49:18,225 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:49:18,238 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 22:49:18,738 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 22:49:18,739 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 31
2022-12-06 22:49:18,859 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 22:49:18,859 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 22:49:19,487 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 22:49:19,487 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 31 finished.
2022-12-06 22:49:19,488 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 32 started.
2022-12-06 22:49:19,488 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 22:49:20,157 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87]: assigned task to client site-1: name=train, id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87
2022-12-06 22:49:20,158 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87]: sent task assignment to client
2022-12-06 22:49:20,992 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 22:49:21,411 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=cb2003cc-5d6e-4a9f-8407-4148973e36c4]: assigned task to client site-2: name=train, id=cb2003cc-5d6e-4a9f-8407-4148973e36c4
2022-12-06 22:49:21,412 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=cb2003cc-5d6e-4a9f-8407-4148973e36c4]: sent task assignment to client
2022-12-06 22:49:22,238 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 22:49:43,605 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.45063829421997 seconds
2022-12-06 22:49:43,637 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:49:44,066 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87
2022-12-06 22:49:44,066 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:49:44,067 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87]: Client trainer got task: train
2022-12-06 22:49:45,178 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.948230504989624 seconds
2022-12-06 22:49:45,193 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:49:45,590 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=cb2003cc-5d6e-4a9f-8407-4148973e36c4
2022-12-06 22:49:45,591 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cb2003cc-5d6e-4a9f-8407-4148973e36c4]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:49:45,591 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cb2003cc-5d6e-4a9f-8407-4148973e36c4]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 22:50:06,252 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87]: Accuracy when validating site-1's model on site-1s data: 0.9647032090808169
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 22:50:07,732 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cb2003cc-5d6e-4a9f-8407-4148973e36c4]: Accuracy when validating site-2's model on site-2s data: 0.9660354821702899
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.91      0.89      0.90       222
         eve       0.78      0.79      0.78        96
         geo       0.95      0.96      0.95     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.84      0.79      0.82       116
         org       0.92      0.91      0.92      8377
         per       0.93      0.94      0.93      7230
         tim       0.95      0.95      0.95      6802

   micro avg       0.94      0.94      0.94     43021
   macro avg       0.91      0.90      0.90     43021
weighted avg       0.94      0.94      0.94     43021

F1-score: 0.9915833491458793
val 0/1: 
              precision    recall  f1-score   support

         art       0.21      0.16      0.18        19
         eve       0.09      0.12      0.11        16
         geo       0.84      0.85      0.84      1819
         gpe       0.94      0.94      0.94       731
         nat       0.33      0.17      0.22         6
         org       0.69      0.66      0.67       991
         per       0.71      0.79      0.74       907
         tim       0.83      0.82      0.82       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.58      0.56      0.57      5343
weighted avg       0.79      0.81      0.80      5343

F1-score: 0.9629691584002702
2022-12-06 22:58:46,673 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87]: train:
              precision    recall  f1-score   support

         art       0.91      0.89      0.90       222
         eve       0.78      0.79      0.78        96
         geo       0.95      0.96      0.95     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.84      0.79      0.82       116
         org       0.92      0.91      0.92      8377
         per       0.93      0.94      0.93      7230
         tim       0.95      0.95      0.95      6802

   micro avg       0.94      0.94      0.94     43021
   macro avg       0.91      0.90      0.90     43021
weighted avg       0.94      0.94      0.94     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.21      0.16      0.18        19
         eve       0.09      0.12      0.11        16
         geo       0.84      0.85      0.84      1819
         gpe       0.94      0.94      0.94       731
         nat       0.33      0.17      0.22         6
         org       0.69      0.66      0.67       991
         per       0.71      0.79      0.74       907
         tim       0.83      0.82      0.82       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.58      0.56      0.57      5343
weighted avg       0.79      0.81      0.80      5343

2022-12-06 22:58:47,492 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 22:58:47,599 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87]: finished processing task
2022-12-06 22:58:47,600 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:58:48,400 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.91      0.90      0.91       176
         eve       0.86      0.87      0.87       117
         geo       0.95      0.96      0.96     14724
         gpe       0.97      0.96      0.97      5503
         nat       0.87      0.86      0.87        95
         org       0.94      0.93      0.93      8238
         per       0.93      0.94      0.93      6998
         tim       0.95      0.95      0.95      6773

   micro avg       0.95      0.95      0.95     42624
   macro avg       0.92      0.92      0.92     42624
weighted avg       0.95      0.95      0.95     42624

F1-score: 0.9923585519104454
val 0/1: 
              precision    recall  f1-score   support

         art       0.50      0.27      0.35        45
         eve       0.21      0.23      0.22        13
         geo       0.83      0.88      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.14      0.08      0.11        12
         org       0.72      0.70      0.71      1045
         per       0.73      0.78      0.75       940
         tim       0.84      0.87      0.86       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.62      0.59      0.60      5327
weighted avg       0.80      0.82      0.81      5327

F1-score: 0.96491129522879
2022-12-06 22:58:52,061 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cb2003cc-5d6e-4a9f-8407-4148973e36c4]: train:
              precision    recall  f1-score   support

         art       0.91      0.90      0.91       176
         eve       0.86      0.87      0.87       117
         geo       0.95      0.96      0.96     14724
         gpe       0.97      0.96      0.97      5503
         nat       0.87      0.86      0.87        95
         org       0.94      0.93      0.93      8238
         per       0.93      0.94      0.93      6998
         tim       0.95      0.95      0.95      6773

   micro avg       0.95      0.95      0.95     42624
   macro avg       0.92      0.92      0.92     42624
weighted avg       0.95      0.95      0.95     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.50      0.27      0.35        45
         eve       0.21      0.23      0.22        13
         geo       0.83      0.88      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.14      0.08      0.11        12
         org       0.72      0.70      0.71      1045
         per       0.73      0.78      0.75       940
         tim       0.84      0.87      0.86       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.62      0.59      0.60      5327
weighted avg       0.80      0.82      0.81      5327

2022-12-06 22:58:52,571 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 22:58:53,167 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cb2003cc-5d6e-4a9f-8407-4148973e36c4]: finished processing task
2022-12-06 22:58:53,168 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 22:58:53,966 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 22:59:11,139 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670367551 seconds)
2022-12-06 22:59:11,139 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87
2022-12-06 22:59:11,140 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87]: invoking result_received_cb ...
2022-12-06 22:59:11,206 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 22:59:11,207 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87]: finished processing client result by scatter_and_gather
2022-12-06 22:59:11,233 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670367551 seconds). SubmitUpdate time: 22.833040714263916 seconds
2022-12-06 22:59:11,275 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87]: result sent to server for task: name=train, id=09e41bb1-a81b-4da4-bb49-e2eb76b6fe87
2022-12-06 22:59:11,276 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:59:13,338 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:59:16,674 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670367556 seconds)
2022-12-06 22:59:16,674 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=cb2003cc-5d6e-4a9f-8407-4148973e36c4
2022-12-06 22:59:16,674 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cb2003cc-5d6e-4a9f-8407-4148973e36c4]: invoking result_received_cb ...
2022-12-06 22:59:16,831 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cb2003cc-5d6e-4a9f-8407-4148973e36c4]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 22:59:16,831 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cb2003cc-5d6e-4a9f-8407-4148973e36c4]: finished processing client result by scatter_and_gather
2022-12-06 22:59:16,836 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:59:16,853 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670367556 seconds). SubmitUpdate time: 22.88650131225586 seconds
2022-12-06 22:59:16,907 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cb2003cc-5d6e-4a9f-8407-4148973e36c4]: result sent to server for task: name=train, id=cb2003cc-5d6e-4a9f-8407-4148973e36c4
2022-12-06 22:59:16,907 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:59:18,866 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:59:18,978 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:59:20,876 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:59:20,988 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:59:22,885 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:59:22,999 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:59:24,895 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:59:25,009 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:59:26,905 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 22:59:27,020 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 22:59:27,031 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 22:59:27,531 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 22:59:27,532 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 32
2022-12-06 22:59:27,610 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 22:59:27,610 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 22:59:28,317 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 22:59:28,317 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 32 finished.
2022-12-06 22:59:28,317 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 33 started.
2022-12-06 22:59:28,318 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 22:59:28,911 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=94d24132-5fc0-4a6e-b8dd-550be274912e]: assigned task to client site-1: name=train, id=94d24132-5fc0-4a6e-b8dd-550be274912e
2022-12-06 22:59:28,912 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=94d24132-5fc0-4a6e-b8dd-550be274912e]: sent task assignment to client
2022-12-06 22:59:29,731 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 22:59:30,144 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=6cdf72c9-415e-42ba-92af-85c30d0965cc]: assigned task to client site-2: name=train, id=6cdf72c9-415e-42ba-92af-85c30d0965cc
2022-12-06 22:59:30,145 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=6cdf72c9-415e-42ba-92af-85c30d0965cc]: sent task assignment to client
2022-12-06 22:59:30,958 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 22:59:52,491 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.582423210144043 seconds
2022-12-06 22:59:52,523 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:59:52,942 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=94d24132-5fc0-4a6e-b8dd-550be274912e
2022-12-06 22:59:52,942 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=94d24132-5fc0-4a6e-b8dd-550be274912e]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:59:52,942 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=94d24132-5fc0-4a6e-b8dd-550be274912e]: Client trainer got task: train
2022-12-06 22:59:53,603 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.577834129333496 seconds
2022-12-06 22:59:53,618 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 22:59:54,043 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=6cdf72c9-415e-42ba-92af-85c30d0965cc
2022-12-06 22:59:54,043 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6cdf72c9-415e-42ba-92af-85c30d0965cc]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 22:59:54,043 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6cdf72c9-415e-42ba-92af-85c30d0965cc]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 23:00:15,118 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=94d24132-5fc0-4a6e-b8dd-550be274912e]: Accuracy when validating site-1's model on site-1s data: 0.9649714211120864
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 23:00:16,189 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6cdf72c9-415e-42ba-92af-85c30d0965cc]: Accuracy when validating site-2's model on site-2s data: 0.9656262855259505
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.90      0.90      0.90       222
         eve       0.80      0.81      0.81        96
         geo       0.95      0.96      0.96     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.85      0.83      0.84       116
         org       0.93      0.93      0.93      8377
         per       0.94      0.95      0.94      7230
         tim       0.95      0.95      0.95      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.91      0.91      0.91     43021
weighted avg       0.95      0.95      0.95     43021

F1-score: 0.9923537977588591
val 0/1: 
              precision    recall  f1-score   support

         art       0.05      0.05      0.05        19
         eve       0.17      0.19      0.18        16
         geo       0.82      0.87      0.84      1819
         gpe       0.96      0.94      0.95       731
         nat       0.12      0.17      0.14         6
         org       0.72      0.64      0.68       991
         per       0.72      0.79      0.76       907
         tim       0.83      0.82      0.82       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.55      0.56      0.55      5343
weighted avg       0.80      0.81      0.80      5343

F1-score: 0.9634927360794471
2022-12-06 23:08:53,599 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=94d24132-5fc0-4a6e-b8dd-550be274912e]: train:
              precision    recall  f1-score   support

         art       0.90      0.90      0.90       222
         eve       0.80      0.81      0.81        96
         geo       0.95      0.96      0.96     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.85      0.83      0.84       116
         org       0.93      0.93      0.93      8377
         per       0.94      0.95      0.94      7230
         tim       0.95      0.95      0.95      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.91      0.91      0.91     43021
weighted avg       0.95      0.95      0.95     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.05      0.05      0.05        19
         eve       0.17      0.19      0.18        16
         geo       0.82      0.87      0.84      1819
         gpe       0.96      0.94      0.95       731
         nat       0.12      0.17      0.14         6
         org       0.72      0.64      0.68       991
         per       0.72      0.79      0.76       907
         tim       0.83      0.82      0.82       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.55      0.56      0.55      5343
weighted avg       0.80      0.81      0.80      5343

2022-12-06 23:08:53,871 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 23:08:54,660 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=94d24132-5fc0-4a6e-b8dd-550be274912e]: finished processing task
2022-12-06 23:08:54,664 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:08:55,461 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.91      0.87      0.89       176
         eve       0.85      0.85      0.85       117
         geo       0.95      0.96      0.96     14724
         gpe       0.97      0.96      0.97      5503
         nat       0.87      0.84      0.86        95
         org       0.93      0.92      0.93      8238
         per       0.94      0.94      0.94      6998
         tim       0.95      0.95      0.95      6773

   micro avg       0.95      0.95      0.95     42624
   macro avg       0.92      0.91      0.92     42624
weighted avg       0.95      0.95      0.95     42624

F1-score: 0.992549656810227
val 0/1: 
              precision    recall  f1-score   support

         art       0.40      0.18      0.25        45
         eve       0.19      0.23      0.21        13
         geo       0.82      0.90      0.86      1773
         gpe       0.96      0.93      0.94       640
         nat       0.25      0.08      0.12        12
         org       0.73      0.71      0.72      1045
         per       0.77      0.76      0.76       940
         tim       0.87      0.85      0.86       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.62      0.58      0.59      5327
weighted avg       0.81      0.82      0.82      5327

F1-score: 0.9661485113087233
2022-12-06 23:08:58,223 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6cdf72c9-415e-42ba-92af-85c30d0965cc]: train:
              precision    recall  f1-score   support

         art       0.91      0.87      0.89       176
         eve       0.85      0.85      0.85       117
         geo       0.95      0.96      0.96     14724
         gpe       0.97      0.96      0.97      5503
         nat       0.87      0.84      0.86        95
         org       0.93      0.92      0.93      8238
         per       0.94      0.94      0.94      6998
         tim       0.95      0.95      0.95      6773

   micro avg       0.95      0.95      0.95     42624
   macro avg       0.92      0.91      0.92     42624
weighted avg       0.95      0.95      0.95     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.40      0.18      0.25        45
         eve       0.19      0.23      0.21        13
         geo       0.82      0.90      0.86      1773
         gpe       0.96      0.93      0.94       640
         nat       0.25      0.08      0.12        12
         org       0.73      0.71      0.72      1045
         per       0.77      0.76      0.76       940
         tim       0.87      0.85      0.86       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.62      0.58      0.59      5327
weighted avg       0.81      0.82      0.82      5327

2022-12-06 23:08:59,059 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 23:08:59,305 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6cdf72c9-415e-42ba-92af-85c30d0965cc]: finished processing task
2022-12-06 23:08:59,307 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:09:00,097 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 23:09:18,443 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670368158 seconds)
2022-12-06 23:09:18,443 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=94d24132-5fc0-4a6e-b8dd-550be274912e
2022-12-06 23:09:18,443 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=94d24132-5fc0-4a6e-b8dd-550be274912e]: invoking result_received_cb ...
2022-12-06 23:09:18,515 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=94d24132-5fc0-4a6e-b8dd-550be274912e]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 23:09:18,515 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=94d24132-5fc0-4a6e-b8dd-550be274912e]: finished processing client result by scatter_and_gather
2022-12-06 23:09:18,545 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670368158 seconds). SubmitUpdate time: 23.0842182636261 seconds
2022-12-06 23:09:18,589 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=94d24132-5fc0-4a6e-b8dd-550be274912e]: result sent to server for task: name=train, id=94d24132-5fc0-4a6e-b8dd-550be274912e
2022-12-06 23:09:18,589 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:09:22,999 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670368162 seconds)
2022-12-06 23:09:22,999 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=6cdf72c9-415e-42ba-92af-85c30d0965cc
2022-12-06 23:09:23,000 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=6cdf72c9-415e-42ba-92af-85c30d0965cc]: invoking result_received_cb ...
2022-12-06 23:09:23,162 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=6cdf72c9-415e-42ba-92af-85c30d0965cc]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 23:09:23,162 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=6cdf72c9-415e-42ba-92af-85c30d0965cc]: finished processing client result by scatter_and_gather
2022-12-06 23:09:23,189 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670368162 seconds). SubmitUpdate time: 23.091578006744385 seconds
2022-12-06 23:09:23,196 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:09:23,215 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6cdf72c9-415e-42ba-92af-85c30d0965cc]: result sent to server for task: name=train, id=6cdf72c9-415e-42ba-92af-85c30d0965cc
2022-12-06 23:09:23,215 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:09:25,205 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:09:25,263 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:09:27,217 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:09:27,272 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:09:29,225 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:09:29,280 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:09:31,233 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:09:31,289 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:09:33,243 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:09:33,298 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:09:33,351 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 23:09:33,851 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 23:09:33,852 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 33
2022-12-06 23:09:33,966 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 23:09:33,966 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 23:09:34,773 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 23:09:34,773 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 33 finished.
2022-12-06 23:09:34,773 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 34 started.
2022-12-06 23:09:34,773 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 23:09:35,250 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=e380486a-6f4d-4bff-b197-92c3540c2a98]: assigned task to client site-1: name=train, id=e380486a-6f4d-4bff-b197-92c3540c2a98
2022-12-06 23:09:35,251 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=e380486a-6f4d-4bff-b197-92c3540c2a98]: sent task assignment to client
2022-12-06 23:09:36,080 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 23:09:36,493 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff]: assigned task to client site-2: name=train, id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff
2022-12-06 23:09:36,494 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff]: sent task assignment to client
2022-12-06 23:09:37,299 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 23:09:59,001 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.753286123275757 seconds
2022-12-06 23:09:59,031 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 23:09:59,453 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=e380486a-6f4d-4bff-b197-92c3540c2a98
2022-12-06 23:09:59,453 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e380486a-6f4d-4bff-b197-92c3540c2a98]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 23:09:59,453 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e380486a-6f4d-4bff-b197-92c3540c2a98]: Client trainer got task: train
2022-12-06 23:09:59,998 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.695972204208374 seconds
2022-12-06 23:10:00,024 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 23:10:00,414 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff
2022-12-06 23:10:00,415 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 23:10:00,415 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 23:10:21,686 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e380486a-6f4d-4bff-b197-92c3540c2a98]: Accuracy when validating site-1's model on site-1s data: 0.96548508770947
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 23:10:22,569 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff]: Accuracy when validating site-2's model on site-2s data: 0.9664042599158698
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.91      0.94      0.93       222
         eve       0.76      0.79      0.78        96
         geo       0.95      0.96      0.96     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.87      0.82      0.84       116
         org       0.93      0.92      0.93      8377
         per       0.94      0.95      0.94      7230
         tim       0.96      0.96      0.96      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.91      0.91      0.91     43021
weighted avg       0.95      0.95      0.95     43021

F1-score: 0.9927048135332689
val 0/1: 
              precision    recall  f1-score   support

         art       0.10      0.11      0.10        19
         eve       0.17      0.25      0.21        16
         geo       0.84      0.86      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.50      0.17      0.25         6
         org       0.69      0.68      0.69       991
         per       0.73      0.80      0.76       907
         tim       0.79      0.83      0.81       854

   micro avg       0.79      0.82      0.81      5343
   macro avg       0.60      0.58      0.58      5343
weighted avg       0.80      0.82      0.81      5343

F1-score: 0.9635242601850829
2022-12-06 23:18:59,144 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e380486a-6f4d-4bff-b197-92c3540c2a98]: train:
              precision    recall  f1-score   support

         art       0.91      0.94      0.93       222
         eve       0.76      0.79      0.78        96
         geo       0.95      0.96      0.96     14594
         gpe       0.98      0.96      0.97      5584
         nat       0.87      0.82      0.84       116
         org       0.93      0.92      0.93      8377
         per       0.94      0.95      0.94      7230
         tim       0.96      0.96      0.96      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.91      0.91      0.91     43021
weighted avg       0.95      0.95      0.95     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.10      0.11      0.10        19
         eve       0.17      0.25      0.21        16
         geo       0.84      0.86      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.50      0.17      0.25         6
         org       0.69      0.68      0.69       991
         per       0.73      0.80      0.76       907
         tim       0.79      0.83      0.81       854

   micro avg       0.79      0.82      0.81      5343
   macro avg       0.60      0.58      0.58      5343
weighted avg       0.80      0.82      0.81      5343

2022-12-06 23:18:59,565 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 23:19:00,273 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e380486a-6f4d-4bff-b197-92c3540c2a98]: finished processing task
2022-12-06 23:19:00,274 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:19:01,070 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.91      0.88      0.90       176
         eve       0.82      0.84      0.83       117
         geo       0.95      0.96      0.96     14724
         gpe       0.98      0.97      0.97      5503
         nat       0.85      0.85      0.85        95
         org       0.93      0.93      0.93      8238
         per       0.94      0.95      0.95      6998
         tim       0.95      0.95      0.95      6773

   micro avg       0.95      0.95      0.95     42624
   macro avg       0.92      0.92      0.92     42624
weighted avg       0.95      0.95      0.95     42624

F1-score: 0.9930696929527757
val 0/1: 
              precision    recall  f1-score   support

         art       0.43      0.22      0.29        45
         eve       0.19      0.23      0.21        13
         geo       0.84      0.88      0.86      1773
         gpe       0.93      0.95      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.70      0.72      0.71      1045
         per       0.75      0.79      0.77       940
         tim       0.86      0.84      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.61      0.59      0.59      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9649107257970813
2022-12-06 23:19:03,483 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff]: train:
              precision    recall  f1-score   support

         art       0.91      0.88      0.90       176
         eve       0.82      0.84      0.83       117
         geo       0.95      0.96      0.96     14724
         gpe       0.98      0.97      0.97      5503
         nat       0.85      0.85      0.85        95
         org       0.93      0.93      0.93      8238
         per       0.94      0.95      0.95      6998
         tim       0.95      0.95      0.95      6773

   micro avg       0.95      0.95      0.95     42624
   macro avg       0.92      0.92      0.92     42624
weighted avg       0.95      0.95      0.95     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.43      0.22      0.29        45
         eve       0.19      0.23      0.21        13
         geo       0.84      0.88      0.86      1773
         gpe       0.93      0.95      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.70      0.72      0.71      1045
         per       0.75      0.79      0.77       940
         tim       0.86      0.84      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.61      0.59      0.59      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-06 23:19:04,374 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 23:19:04,388 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff]: finished processing task
2022-12-06 23:19:04,389 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:19:05,180 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 23:19:23,947 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670368763 seconds)
2022-12-06 23:19:23,947 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=e380486a-6f4d-4bff-b197-92c3540c2a98
2022-12-06 23:19:23,948 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e380486a-6f4d-4bff-b197-92c3540c2a98]: invoking result_received_cb ...
2022-12-06 23:19:24,014 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e380486a-6f4d-4bff-b197-92c3540c2a98]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 23:19:24,015 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e380486a-6f4d-4bff-b197-92c3540c2a98]: finished processing client result by scatter_and_gather
2022-12-06 23:19:24,042 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670368763 seconds). SubmitUpdate time: 22.971105575561523 seconds
2022-12-06 23:19:24,075 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e380486a-6f4d-4bff-b197-92c3540c2a98]: result sent to server for task: name=train, id=e380486a-6f4d-4bff-b197-92c3540c2a98
2022-12-06 23:19:24,076 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:19:28,015 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670368768 seconds)
2022-12-06 23:19:28,015 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff
2022-12-06 23:19:28,016 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff]: invoking result_received_cb ...
2022-12-06 23:19:28,174 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 23:19:28,174 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff]: finished processing client result by scatter_and_gather
2022-12-06 23:19:28,203 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670368768 seconds). SubmitUpdate time: 23.023887395858765 seconds
2022-12-06 23:19:28,204 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:19:28,248 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff]: result sent to server for task: name=train, id=538346f5-5d0d-49fd-8131-0c74a5e7d1ff
2022-12-06 23:19:28,249 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:19:30,215 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:19:30,306 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:19:32,224 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:19:32,316 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:19:34,233 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:19:34,326 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:19:36,242 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:19:36,335 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:19:38,252 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:19:38,344 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:19:38,369 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 23:19:38,869 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 23:19:38,869 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 34
2022-12-06 23:19:38,941 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 23:19:38,941 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 23:19:39,597 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 23:19:39,597 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 34 finished.
2022-12-06 23:19:39,598 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 35 started.
2022-12-06 23:19:39,598 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 23:19:40,259 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=15be52df-a50e-4c03-9365-9aa1e302f0af]: assigned task to client site-1: name=train, id=15be52df-a50e-4c03-9365-9aa1e302f0af
2022-12-06 23:19:40,259 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=15be52df-a50e-4c03-9365-9aa1e302f0af]: sent task assignment to client
2022-12-06 23:19:41,098 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 23:19:41,515 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68]: assigned task to client site-2: name=train, id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68
2022-12-06 23:19:41,517 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68]: sent task assignment to client
2022-12-06 23:19:42,327 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 23:20:03,963 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.70660924911499 seconds
2022-12-06 23:20:03,994 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 23:20:04,438 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=15be52df-a50e-4c03-9365-9aa1e302f0af
2022-12-06 23:20:04,439 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=15be52df-a50e-4c03-9365-9aa1e302f0af]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 23:20:04,439 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=15be52df-a50e-4c03-9365-9aa1e302f0af]: Client trainer got task: train
2022-12-06 23:20:05,162 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.814325094223022 seconds
2022-12-06 23:20:05,177 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 23:20:05,576 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68
2022-12-06 23:20:05,577 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 23:20:05,590 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 23:20:26,638 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=15be52df-a50e-4c03-9365-9aa1e302f0af]: Accuracy when validating site-1's model on site-1s data: 0.9646568305783312
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 23:20:27,742 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68]: Accuracy when validating site-2's model on site-2s data: 0.966294492527813
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.91      0.90      0.90       222
         eve       0.84      0.83      0.84        96
         geo       0.95      0.97      0.96     14594
         gpe       0.98      0.97      0.97      5584
         nat       0.89      0.86      0.88       116
         org       0.93      0.93      0.93      8377
         per       0.93      0.95      0.94      7230
         tim       0.95      0.96      0.96      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.92      0.92      0.92     43021
weighted avg       0.95      0.95      0.95     43021

F1-score: 0.9927409767603756
val 0/1: 
              precision    recall  f1-score   support

         art       0.04      0.05      0.04        19
         eve       0.17      0.25      0.21        16
         geo       0.83      0.86      0.84      1819
         gpe       0.94      0.95      0.94       731
         nat       0.20      0.33      0.25         6
         org       0.69      0.65      0.67       991
         per       0.71      0.80      0.75       907
         tim       0.83      0.83      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.55      0.59      0.57      5343
weighted avg       0.79      0.81      0.80      5343

F1-score: 0.9622645408138052
2022-12-06 23:29:06,144 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=15be52df-a50e-4c03-9365-9aa1e302f0af]: train:
              precision    recall  f1-score   support

         art       0.91      0.90      0.90       222
         eve       0.84      0.83      0.84        96
         geo       0.95      0.97      0.96     14594
         gpe       0.98      0.97      0.97      5584
         nat       0.89      0.86      0.88       116
         org       0.93      0.93      0.93      8377
         per       0.93      0.95      0.94      7230
         tim       0.95      0.96      0.96      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.92      0.92      0.92     43021
weighted avg       0.95      0.95      0.95     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.04      0.05      0.04        19
         eve       0.17      0.25      0.21        16
         geo       0.83      0.86      0.84      1819
         gpe       0.94      0.95      0.94       731
         nat       0.20      0.33      0.25         6
         org       0.69      0.65      0.67       991
         per       0.71      0.80      0.75       907
         tim       0.83      0.83      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.55      0.59      0.57      5343
weighted avg       0.79      0.81      0.80      5343

2022-12-06 23:29:06,342 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 23:29:07,062 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=15be52df-a50e-4c03-9365-9aa1e302f0af]: finished processing task
2022-12-06 23:29:07,064 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:29:07,891 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.86      0.87      0.87       176
         eve       0.82      0.83      0.82       117
         geo       0.96      0.97      0.96     14724
         gpe       0.98      0.97      0.97      5503
         nat       0.84      0.85      0.85        95
         org       0.94      0.93      0.93      8238
         per       0.94      0.95      0.95      6998
         tim       0.95      0.96      0.96      6773

   micro avg       0.95      0.95      0.95     42624
   macro avg       0.91      0.92      0.91     42624
weighted avg       0.95      0.95      0.95     42624

F1-score: 0.9931768623987666
val 0/1: 
              precision    recall  f1-score   support

         art       0.35      0.20      0.25        45
         eve       0.17      0.23      0.19        13
         geo       0.84      0.88      0.86      1773
         gpe       0.92      0.94      0.93       640
         nat       0.20      0.08      0.12        12
         org       0.71      0.71      0.71      1045
         per       0.76      0.78      0.77       940
         tim       0.82      0.84      0.83       859

   micro avg       0.80      0.82      0.81      5327
   macro avg       0.60      0.58      0.58      5327
weighted avg       0.80      0.82      0.81      5327

F1-score: 0.9642533629374903
2022-12-06 23:29:09,599 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68]: train:
              precision    recall  f1-score   support

         art       0.86      0.87      0.87       176
         eve       0.82      0.83      0.82       117
         geo       0.96      0.97      0.96     14724
         gpe       0.98      0.97      0.97      5503
         nat       0.84      0.85      0.85        95
         org       0.94      0.93      0.93      8238
         per       0.94      0.95      0.95      6998
         tim       0.95      0.96      0.96      6773

   micro avg       0.95      0.95      0.95     42624
   macro avg       0.91      0.92      0.91     42624
weighted avg       0.95      0.95      0.95     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.35      0.20      0.25        45
         eve       0.17      0.23      0.19        13
         geo       0.84      0.88      0.86      1773
         gpe       0.92      0.94      0.93       640
         nat       0.20      0.08      0.12        12
         org       0.71      0.71      0.71      1045
         per       0.76      0.78      0.77       940
         tim       0.82      0.84      0.83       859

   micro avg       0.80      0.82      0.81      5327
   macro avg       0.60      0.58      0.58      5327
weighted avg       0.80      0.82      0.81      5327

2022-12-06 23:29:09,771 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 23:29:10,518 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68]: finished processing task
2022-12-06 23:29:10,519 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:29:11,309 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 23:29:30,628 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670369370 seconds)
2022-12-06 23:29:30,628 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=15be52df-a50e-4c03-9365-9aa1e302f0af
2022-12-06 23:29:30,629 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=15be52df-a50e-4c03-9365-9aa1e302f0af]: invoking result_received_cb ...
2022-12-06 23:29:30,703 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=15be52df-a50e-4c03-9365-9aa1e302f0af]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 23:29:30,703 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=15be52df-a50e-4c03-9365-9aa1e302f0af]: finished processing client result by scatter_and_gather
2022-12-06 23:29:30,734 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670369370 seconds). SubmitUpdate time: 22.843071460723877 seconds
2022-12-06 23:29:30,787 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=15be52df-a50e-4c03-9365-9aa1e302f0af]: result sent to server for task: name=train, id=15be52df-a50e-4c03-9365-9aa1e302f0af
2022-12-06 23:29:30,787 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:29:34,006 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670369374 seconds)
2022-12-06 23:29:34,006 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68
2022-12-06 23:29:34,007 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68]: invoking result_received_cb ...
2022-12-06 23:29:34,163 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 23:29:34,164 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68]: finished processing client result by scatter_and_gather
2022-12-06 23:29:34,197 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670369374 seconds). SubmitUpdate time: 22.887624263763428 seconds
2022-12-06 23:29:34,200 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:29:34,217 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68]: result sent to server for task: name=train, id=1ee62fa4-32f7-4ce3-9d55-c818bd8cac68
2022-12-06 23:29:34,218 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:29:36,217 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:29:36,292 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:29:38,227 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:29:38,302 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:29:40,238 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:29:40,336 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:29:42,248 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:29:42,348 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:29:44,258 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:29:44,356 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 23:29:44,358 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:29:44,856 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 23:29:44,857 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 35
2022-12-06 23:29:44,976 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 23:29:44,977 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 23:29:45,623 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 23:29:45,623 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 35 finished.
2022-12-06 23:29:45,623 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 36 started.
2022-12-06 23:29:45,624 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 23:29:46,265 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=5f39a388-a9de-4cf2-a308-dadb9533a26f]: assigned task to client site-1: name=train, id=5f39a388-a9de-4cf2-a308-dadb9533a26f
2022-12-06 23:29:46,266 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=5f39a388-a9de-4cf2-a308-dadb9533a26f]: sent task assignment to client
2022-12-06 23:29:47,109 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 23:29:47,525 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=4b033dd4-987c-4a59-8545-ff1dc58af37e]: assigned task to client site-2: name=train, id=4b033dd4-987c-4a59-8545-ff1dc58af37e
2022-12-06 23:29:47,526 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=4b033dd4-987c-4a59-8545-ff1dc58af37e]: sent task assignment to client
2022-12-06 23:29:48,337 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 23:30:09,828 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.565939903259277 seconds
2022-12-06 23:30:09,847 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 23:30:10,266 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=5f39a388-a9de-4cf2-a308-dadb9533a26f
2022-12-06 23:30:10,267 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5f39a388-a9de-4cf2-a308-dadb9533a26f]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 23:30:10,267 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5f39a388-a9de-4cf2-a308-dadb9533a26f]: Client trainer got task: train
2022-12-06 23:30:11,251 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.887882471084595 seconds
2022-12-06 23:30:11,267 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 23:30:11,659 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=4b033dd4-987c-4a59-8545-ff1dc58af37e
2022-12-06 23:30:11,659 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4b033dd4-987c-4a59-8545-ff1dc58af37e]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 23:30:11,660 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4b033dd4-987c-4a59-8545-ff1dc58af37e]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 23:30:32,472 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5f39a388-a9de-4cf2-a308-dadb9533a26f]: Accuracy when validating site-1's model on site-1s data: 0.9637760006342877
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 23:30:33,789 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4b033dd4-987c-4a59-8545-ff1dc58af37e]: Accuracy when validating site-2's model on site-2s data: 0.9652381250777219
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.94      0.92      0.93       222
         eve       0.74      0.81      0.78        96
         geo       0.96      0.97      0.96     14594
         gpe       0.98      0.97      0.97      5584
         nat       0.83      0.82      0.82       116
         org       0.94      0.93      0.94      8377
         per       0.94      0.95      0.95      7230
         tim       0.96      0.96      0.96      6802

   micro avg       0.95      0.96      0.95     43021
   macro avg       0.91      0.92      0.91     43021
weighted avg       0.95      0.96      0.95     43021

F1-score: 0.9933483743663055
val 0/1: 
              precision    recall  f1-score   support

         art       0.06      0.05      0.06        19
         eve       0.19      0.19      0.19        16
         geo       0.84      0.85      0.84      1819
         gpe       0.93      0.95      0.94       731
         nat       0.20      0.17      0.18         6
         org       0.70      0.65      0.67       991
         per       0.71      0.82      0.76       907
         tim       0.83      0.83      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.56      0.56      0.56      5343
weighted avg       0.79      0.81      0.80      5343

F1-score: 0.9635448113738501
2022-12-06 23:39:13,332 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5f39a388-a9de-4cf2-a308-dadb9533a26f]: train:
              precision    recall  f1-score   support

         art       0.94      0.92      0.93       222
         eve       0.74      0.81      0.78        96
         geo       0.96      0.97      0.96     14594
         gpe       0.98      0.97      0.97      5584
         nat       0.83      0.82      0.82       116
         org       0.94      0.93      0.94      8377
         per       0.94      0.95      0.95      7230
         tim       0.96      0.96      0.96      6802

   micro avg       0.95      0.96      0.95     43021
   macro avg       0.91      0.92      0.91     43021
weighted avg       0.95      0.96      0.95     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.06      0.05      0.06        19
         eve       0.19      0.19      0.19        16
         geo       0.84      0.85      0.84      1819
         gpe       0.93      0.95      0.94       731
         nat       0.20      0.17      0.18         6
         org       0.70      0.65      0.67       991
         per       0.71      0.82      0.76       907
         tim       0.83      0.83      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.56      0.56      0.56      5343
weighted avg       0.79      0.81      0.80      5343

2022-12-06 23:39:13,696 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 23:39:14,270 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5f39a388-a9de-4cf2-a308-dadb9533a26f]: finished processing task
2022-12-06 23:39:14,272 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:39:15,078 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.90      0.89      0.90       176
         eve       0.83      0.86      0.85       117
         geo       0.95      0.97      0.96     14724
         gpe       0.98      0.97      0.97      5503
         nat       0.88      0.84      0.86        95
         org       0.93      0.92      0.93      8238
         per       0.93      0.94      0.94      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.95      0.95      0.95     42624
   macro avg       0.92      0.92      0.92     42624
weighted avg       0.95      0.95      0.95     42624

F1-score: 0.9927813128508001
val 0/1: 
              precision    recall  f1-score   support

         art       0.39      0.27      0.32        45
         eve       0.24      0.38      0.29        13
         geo       0.84      0.88      0.86      1773
         gpe       0.94      0.94      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.71      0.72      0.72      1045
         per       0.74      0.77      0.76       940
         tim       0.85      0.86      0.86       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.61      0.61      0.61      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9660805144595493
2022-12-06 23:39:15,181 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4b033dd4-987c-4a59-8545-ff1dc58af37e]: train:
              precision    recall  f1-score   support

         art       0.90      0.89      0.90       176
         eve       0.83      0.86      0.85       117
         geo       0.95      0.97      0.96     14724
         gpe       0.98      0.97      0.97      5503
         nat       0.88      0.84      0.86        95
         org       0.93      0.92      0.93      8238
         per       0.93      0.94      0.94      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.95      0.95      0.95     42624
   macro avg       0.92      0.92      0.92     42624
weighted avg       0.95      0.95      0.95     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.39      0.27      0.32        45
         eve       0.24      0.38      0.29        13
         geo       0.84      0.88      0.86      1773
         gpe       0.94      0.94      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.71      0.72      0.72      1045
         per       0.74      0.77      0.76       940
         tim       0.85      0.86      0.86       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.61      0.61      0.61      5327
weighted avg       0.81      0.82      0.81      5327

-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 23:39:16,085 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4b033dd4-987c-4a59-8545-ff1dc58af37e]: finished processing task
2022-12-06 23:39:16,087 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:39:16,087 - SimulatorServer - INFO - getting AuxCommunicate request
2022-12-06 23:39:16,880 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 23:39:37,992 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670369977 seconds)
2022-12-06 23:39:37,992 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=5f39a388-a9de-4cf2-a308-dadb9533a26f
2022-12-06 23:39:37,993 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5f39a388-a9de-4cf2-a308-dadb9533a26f]: invoking result_received_cb ...
2022-12-06 23:39:38,064 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5f39a388-a9de-4cf2-a308-dadb9533a26f]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 23:39:38,064 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5f39a388-a9de-4cf2-a308-dadb9533a26f]: finished processing client result by scatter_and_gather
2022-12-06 23:39:38,092 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670369977 seconds). SubmitUpdate time: 23.013269662857056 seconds
2022-12-06 23:39:38,140 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5f39a388-a9de-4cf2-a308-dadb9533a26f]: result sent to server for task: name=train, id=5f39a388-a9de-4cf2-a308-dadb9533a26f
2022-12-06 23:39:38,141 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:39:41,129 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670369981 seconds)
2022-12-06 23:39:41,129 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=4b033dd4-987c-4a59-8545-ff1dc58af37e
2022-12-06 23:39:41,130 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4b033dd4-987c-4a59-8545-ff1dc58af37e]: invoking result_received_cb ...
2022-12-06 23:39:41,282 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4b033dd4-987c-4a59-8545-ff1dc58af37e]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 23:39:41,282 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4b033dd4-987c-4a59-8545-ff1dc58af37e]: finished processing client result by scatter_and_gather
2022-12-06 23:39:41,315 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670369981 seconds). SubmitUpdate time: 24.43468403816223 seconds
2022-12-06 23:39:41,317 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:39:41,369 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4b033dd4-987c-4a59-8545-ff1dc58af37e]: result sent to server for task: name=train, id=4b033dd4-987c-4a59-8545-ff1dc58af37e
2022-12-06 23:39:41,370 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:39:43,334 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:39:43,443 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:39:45,345 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:39:45,454 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:39:47,356 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:39:47,465 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:39:49,367 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:39:49,477 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:39:51,378 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:39:51,488 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:39:51,497 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 23:39:51,996 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 23:39:51,996 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 36
2022-12-06 23:39:52,074 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 23:39:52,074 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 23:39:52,699 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 23:39:52,700 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 36 finished.
2022-12-06 23:39:52,700 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 37 started.
2022-12-06 23:39:52,701 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 23:39:53,386 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=152f0271-43fa-46da-970f-2ce6f7451297]: assigned task to client site-1: name=train, id=152f0271-43fa-46da-970f-2ce6f7451297
2022-12-06 23:39:53,386 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=152f0271-43fa-46da-970f-2ce6f7451297]: sent task assignment to client
2022-12-06 23:39:54,207 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 23:39:54,622 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166]: assigned task to client site-2: name=train, id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166
2022-12-06 23:39:54,623 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166]: sent task assignment to client
2022-12-06 23:39:55,454 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 23:40:16,943 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.560418605804443 seconds
2022-12-06 23:40:16,958 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 23:40:17,371 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=152f0271-43fa-46da-970f-2ce6f7451297
2022-12-06 23:40:17,372 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=152f0271-43fa-46da-970f-2ce6f7451297]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 23:40:17,372 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=152f0271-43fa-46da-970f-2ce6f7451297]: Client trainer got task: train
2022-12-06 23:40:18,260 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.76712465286255 seconds
2022-12-06 23:40:18,276 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 23:40:18,703 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166
2022-12-06 23:40:18,704 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 23:40:18,704 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 23:40:39,558 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=152f0271-43fa-46da-970f-2ce6f7451297]: Accuracy when validating site-1's model on site-1s data: 0.9643073218974825
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 23:40:40,823 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166]: Accuracy when validating site-2's model on site-2s data: 0.9666062032240004
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.89      0.87      0.88       222
         eve       0.85      0.85      0.85        96
         geo       0.96      0.97      0.96     14594
         gpe       0.98      0.97      0.98      5584
         nat       0.91      0.84      0.87       116
         org       0.93      0.93      0.93      8377
         per       0.94      0.95      0.94      7230
         tim       0.96      0.96      0.96      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.93      0.92      0.92     43021
weighted avg       0.95      0.95      0.95     43021

F1-score: 0.993163098862277
val 0/1: 
              precision    recall  f1-score   support

         art       0.08      0.05      0.06        19
         eve       0.22      0.25      0.24        16
         geo       0.82      0.87      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.70      0.69      0.69       991
         per       0.74      0.76      0.75       907
         tim       0.83      0.82      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.54      0.55      0.54      5343
weighted avg       0.80      0.81      0.80      5343

F1-score: 0.9643050084764436
2022-12-06 23:49:19,508 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=152f0271-43fa-46da-970f-2ce6f7451297]: train:
              precision    recall  f1-score   support

         art       0.89      0.87      0.88       222
         eve       0.85      0.85      0.85        96
         geo       0.96      0.97      0.96     14594
         gpe       0.98      0.97      0.98      5584
         nat       0.91      0.84      0.87       116
         org       0.93      0.93      0.93      8377
         per       0.94      0.95      0.94      7230
         tim       0.96      0.96      0.96      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.93      0.92      0.92     43021
weighted avg       0.95      0.95      0.95     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.08      0.05      0.06        19
         eve       0.22      0.25      0.24        16
         geo       0.82      0.87      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.70      0.69      0.69       991
         per       0.74      0.76      0.75       907
         tim       0.83      0.82      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.54      0.55      0.54      5343
weighted avg       0.80      0.81      0.80      5343

2022-12-06 23:49:20,331 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 23:49:20,445 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=152f0271-43fa-46da-970f-2ce6f7451297]: finished processing task
2022-12-06 23:49:20,446 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:49:21,249 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.90      0.91      0.91       176
         eve       0.90      0.93      0.92       117
         geo       0.96      0.97      0.97     14724
         gpe       0.98      0.97      0.97      5503
         nat       0.88      0.87      0.88        95
         org       0.94      0.93      0.94      8238
         per       0.95      0.96      0.95      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.96      0.96      0.96     42624
   macro avg       0.93      0.94      0.94     42624
weighted avg       0.96      0.96      0.96     42624

F1-score: 0.9938245562636592
val 0/1: 
              precision    recall  f1-score   support

         art       0.43      0.27      0.33        45
         eve       0.18      0.23      0.20        13
         geo       0.83      0.87      0.85      1773
         gpe       0.92      0.94      0.93       640
         nat       0.50      0.08      0.14        12
         org       0.72      0.71      0.71      1045
         per       0.76      0.78      0.77       940
         tim       0.87      0.85      0.86       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.65      0.59      0.60      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9649058179896127
2022-12-06 23:49:24,288 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166]: train:
              precision    recall  f1-score   support

         art       0.90      0.91      0.91       176
         eve       0.90      0.93      0.92       117
         geo       0.96      0.97      0.97     14724
         gpe       0.98      0.97      0.97      5503
         nat       0.88      0.87      0.88        95
         org       0.94      0.93      0.94      8238
         per       0.95      0.96      0.95      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.96      0.96      0.96     42624
   macro avg       0.93      0.94      0.94     42624
weighted avg       0.96      0.96      0.96     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.43      0.27      0.33        45
         eve       0.18      0.23      0.20        13
         geo       0.83      0.87      0.85      1773
         gpe       0.92      0.94      0.93       640
         nat       0.50      0.08      0.14        12
         org       0.72      0.71      0.71      1045
         per       0.76      0.78      0.77       940
         tim       0.87      0.85      0.86       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.65      0.59      0.60      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-06 23:49:24,647 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 23:49:25,365 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166]: finished processing task
2022-12-06 23:49:25,366 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:49:26,153 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 23:49:44,016 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670370584 seconds)
2022-12-06 23:49:44,016 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=152f0271-43fa-46da-970f-2ce6f7451297
2022-12-06 23:49:44,017 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=152f0271-43fa-46da-970f-2ce6f7451297]: invoking result_received_cb ...
2022-12-06 23:49:44,089 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=152f0271-43fa-46da-970f-2ce6f7451297]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 23:49:44,090 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=152f0271-43fa-46da-970f-2ce6f7451297]: finished processing client result by scatter_and_gather
2022-12-06 23:49:44,120 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670370584 seconds). SubmitUpdate time: 22.87081289291382 seconds
2022-12-06 23:49:44,176 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=152f0271-43fa-46da-970f-2ce6f7451297]: result sent to server for task: name=train, id=152f0271-43fa-46da-970f-2ce6f7451297
2022-12-06 23:49:44,177 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:49:48,908 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670370588 seconds)
2022-12-06 23:49:48,908 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166
2022-12-06 23:49:48,909 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166]: invoking result_received_cb ...
2022-12-06 23:49:49,068 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 23:49:49,069 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166]: finished processing client result by scatter_and_gather
2022-12-06 23:49:49,106 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670370588 seconds). SubmitUpdate time: 22.953054666519165 seconds
2022-12-06 23:49:49,113 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:49:49,124 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166]: result sent to server for task: name=train, id=3fec95bc-ed4b-4d0a-bea7-314a76b3c166
2022-12-06 23:49:49,125 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:49:51,124 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:49:51,196 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:49:53,135 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:49:53,207 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:49:55,144 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:49:55,218 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:49:57,156 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:49:57,228 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:49:59,167 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:49:59,239 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:49:59,240 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-06 23:49:59,739 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-06 23:49:59,739 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 37
2022-12-06 23:49:59,856 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-06 23:49:59,856 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-06 23:50:00,654 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-06 23:50:00,654 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 37 finished.
2022-12-06 23:50:00,654 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 38 started.
2022-12-06 23:50:00,655 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-06 23:50:01,175 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97]: assigned task to client site-1: name=train, id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97
2022-12-06 23:50:01,175 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97]: sent task assignment to client
2022-12-06 23:50:02,013 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-06 23:50:02,430 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=d2c41848-aaa4-4990-8a86-492a091aee7b]: assigned task to client site-2: name=train, id=d2c41848-aaa4-4990-8a86-492a091aee7b
2022-12-06 23:50:02,431 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=d2c41848-aaa4-4990-8a86-492a091aee7b]: sent task assignment to client
2022-12-06 23:50:03,241 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-06 23:50:24,882 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.70988965034485 seconds
2022-12-06 23:50:24,901 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 23:50:25,306 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97
2022-12-06 23:50:25,307 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 23:50:25,307 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97]: Client trainer got task: train
2022-12-06 23:50:26,046 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.802154302597046 seconds
2022-12-06 23:50:26,062 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-06 23:50:26,458 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=d2c41848-aaa4-4990-8a86-492a091aee7b
2022-12-06 23:50:26,458 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d2c41848-aaa4-4990-8a86-492a091aee7b]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-06 23:50:26,458 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d2c41848-aaa4-4990-8a86-492a091aee7b]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-06 23:50:47,488 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97]: Accuracy when validating site-1's model on site-1s data: 0.9658147321016622
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-06 23:50:48,591 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d2c41848-aaa4-4990-8a86-492a091aee7b]: Accuracy when validating site-2's model on site-2s data: 0.9666860171946965
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.96      0.93      0.95       222
         eve       0.87      0.91      0.89        96
         geo       0.96      0.97      0.97     14594
         gpe       0.98      0.97      0.98      5584
         nat       0.91      0.90      0.90       116
         org       0.95      0.94      0.94      8377
         per       0.95      0.96      0.96      7230
         tim       0.97      0.96      0.96      6802

   micro avg       0.96      0.96      0.96     43021
   macro avg       0.94      0.94      0.94     43021
weighted avg       0.96      0.96      0.96     43021

F1-score: 0.994375159970089
val 0/1: 
              precision    recall  f1-score   support

         art       0.13      0.11      0.12        19
         eve       0.10      0.12      0.11        16
         geo       0.83      0.87      0.85      1819
         gpe       0.93      0.94      0.94       731
         nat       0.17      0.17      0.17         6
         org       0.70      0.65      0.68       991
         per       0.72      0.80      0.76       907
         tim       0.84      0.82      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.55      0.56      0.56      5343
weighted avg       0.80      0.81      0.80      5343

F1-score: 0.9644843115388924
2022-12-06 23:59:22,173 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97]: train:
              precision    recall  f1-score   support

         art       0.96      0.93      0.95       222
         eve       0.87      0.91      0.89        96
         geo       0.96      0.97      0.97     14594
         gpe       0.98      0.97      0.98      5584
         nat       0.91      0.90      0.90       116
         org       0.95      0.94      0.94      8377
         per       0.95      0.96      0.96      7230
         tim       0.97      0.96      0.96      6802

   micro avg       0.96      0.96      0.96     43021
   macro avg       0.94      0.94      0.94     43021
weighted avg       0.96      0.96      0.96     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.13      0.11      0.12        19
         eve       0.10      0.12      0.11        16
         geo       0.83      0.87      0.85      1819
         gpe       0.93      0.94      0.94       731
         nat       0.17      0.17      0.17         6
         org       0.70      0.65      0.68       991
         per       0.72      0.80      0.76       907
         tim       0.84      0.82      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.55      0.56      0.56      5343
weighted avg       0.80      0.81      0.80      5343

2022-12-06 23:59:22,719 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-06 23:59:23,095 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97]: finished processing task
2022-12-06 23:59:23,097 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:59:23,891 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.91      0.91      0.91       176
         eve       0.85      0.86      0.86       117
         geo       0.96      0.97      0.97     14724
         gpe       0.98      0.97      0.98      5503
         nat       0.91      0.89      0.90        95
         org       0.94      0.94      0.94      8238
         per       0.95      0.96      0.95      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.96      0.96      0.96     42624
   macro avg       0.93      0.93      0.93     42624
weighted avg       0.96      0.96      0.96     42624

F1-score: 0.9942257736582123
val 0/1: 
              precision    recall  f1-score   support

         art       0.48      0.22      0.30        45
         eve       0.22      0.31      0.26        13
         geo       0.83      0.89      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.25      0.08      0.12        12
         org       0.74      0.69      0.71      1045
         per       0.73      0.76      0.75       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.63      0.59      0.60      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.964635882335167
2022-12-06 23:59:29,725 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d2c41848-aaa4-4990-8a86-492a091aee7b]: train:
              precision    recall  f1-score   support

         art       0.91      0.91      0.91       176
         eve       0.85      0.86      0.86       117
         geo       0.96      0.97      0.97     14724
         gpe       0.98      0.97      0.98      5503
         nat       0.91      0.89      0.90        95
         org       0.94      0.94      0.94      8238
         per       0.95      0.96      0.95      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.96      0.96      0.96     42624
   macro avg       0.93      0.93      0.93     42624
weighted avg       0.96      0.96      0.96     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.48      0.22      0.30        45
         eve       0.22      0.31      0.26        13
         geo       0.83      0.89      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.25      0.08      0.12        12
         org       0.74      0.69      0.71      1045
         per       0.73      0.76      0.75       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.63      0.59      0.60      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-06 23:59:30,414 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-06 23:59:30,700 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d2c41848-aaa4-4990-8a86-492a091aee7b]: finished processing task
2022-12-06 23:59:30,701 - FederatedClient - INFO - Starting to push execute result.
2022-12-06 23:59:31,497 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-06 23:59:46,595 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670371186 seconds)
2022-12-06 23:59:46,595 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97
2022-12-06 23:59:46,595 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97]: invoking result_received_cb ...
2022-12-06 23:59:46,666 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-06 23:59:46,667 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97]: finished processing client result by scatter_and_gather
2022-12-06 23:59:46,698 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670371186 seconds). SubmitUpdate time: 22.806907653808594 seconds
2022-12-06 23:59:46,733 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97]: result sent to server for task: name=train, id=095ced1d-b557-4f99-a9c7-ffd68e2e3c97
2022-12-06 23:59:46,733 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:59:48,801 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:59:50,812 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:59:54,327 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670371194 seconds)
2022-12-06 23:59:54,327 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=d2c41848-aaa4-4990-8a86-492a091aee7b
2022-12-06 23:59:54,328 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=d2c41848-aaa4-4990-8a86-492a091aee7b]: invoking result_received_cb ...
2022-12-06 23:59:54,480 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=d2c41848-aaa4-4990-8a86-492a091aee7b]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-06 23:59:54,481 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=d2c41848-aaa4-4990-8a86-492a091aee7b]: finished processing client result by scatter_and_gather
2022-12-06 23:59:54,485 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:59:54,513 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670371194 seconds). SubmitUpdate time: 23.0158429145813 seconds
2022-12-06 23:59:54,570 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d2c41848-aaa4-4990-8a86-492a091aee7b]: result sent to server for task: name=train, id=d2c41848-aaa4-4990-8a86-492a091aee7b
2022-12-06 23:59:54,571 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:59:56,517 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:59:56,632 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-06 23:59:58,528 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-06 23:59:58,649 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:00:00,537 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:00:00,659 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:00:02,546 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:00:02,670 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:00:04,557 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:00:04,681 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:00:04,685 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 00:00:05,184 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 00:00:05,185 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 38
2022-12-07 00:00:05,260 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 00:00:05,261 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 00:00:06,033 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 00:00:06,034 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 38 finished.
2022-12-07 00:00:06,035 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 39 started.
2022-12-07 00:00:06,035 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 00:00:06,565 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=ff822734-8076-49d7-be0d-495566bcaea2]: assigned task to client site-1: name=train, id=ff822734-8076-49d7-be0d-495566bcaea2
2022-12-07 00:00:06,566 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=ff822734-8076-49d7-be0d-495566bcaea2]: sent task assignment to client
2022-12-07 00:00:07,408 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 00:00:07,830 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=7c46d073-05f3-4a86-925b-0d4b227873de]: assigned task to client site-2: name=train, id=7c46d073-05f3-4a86-925b-0d4b227873de
2022-12-07 00:00:07,832 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=7c46d073-05f3-4a86-925b-0d4b227873de]: sent task assignment to client
2022-12-07 00:00:08,637 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 00:00:30,347 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.784470319747925 seconds
2022-12-07 00:00:30,379 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:00:30,794 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=ff822734-8076-49d7-be0d-495566bcaea2
2022-12-07 00:00:30,794 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ff822734-8076-49d7-be0d-495566bcaea2]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:00:30,794 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ff822734-8076-49d7-be0d-495566bcaea2]: Client trainer got task: train
2022-12-07 00:00:31,260 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.573349952697754 seconds
2022-12-07 00:00:31,275 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:00:31,715 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=7c46d073-05f3-4a86-925b-0d4b227873de
2022-12-07 00:00:31,715 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7c46d073-05f3-4a86-925b-0d4b227873de]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:00:31,715 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7c46d073-05f3-4a86-925b-0d4b227873de]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 00:00:52,935 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ff822734-8076-49d7-be0d-495566bcaea2]: Accuracy when validating site-1's model on site-1s data: 0.9647858141040391
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 00:00:53,788 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7c46d073-05f3-4a86-925b-0d4b227873de]: Accuracy when validating site-2's model on site-2s data: 0.9652118808809053
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.91      0.92      0.91       176
         eve       0.86      0.89      0.87       117
         geo       0.96      0.97      0.97     14724
         gpe       0.98      0.97      0.98      5503
         nat       0.95      0.87      0.91        95
         org       0.95      0.95      0.95      8238
         per       0.95      0.96      0.95      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.96      0.96      0.96     42624
   macro avg       0.94      0.94      0.94     42624
weighted avg       0.96      0.96      0.96     42624

F1-score: 0.9944145113487395
val 0/1: 
              precision    recall  f1-score   support

         art       0.45      0.22      0.30        45
         eve       0.14      0.23      0.18        13
         geo       0.85      0.88      0.86      1773
         gpe       0.93      0.94      0.93       640
         nat       0.08      0.08      0.08        12
         org       0.72      0.73      0.73      1045
         per       0.77      0.73      0.75       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.60      0.58      0.58      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9655031814818344
2022-12-07 00:09:32,138 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7c46d073-05f3-4a86-925b-0d4b227873de]: train:
              precision    recall  f1-score   support

         art       0.91      0.92      0.91       176
         eve       0.86      0.89      0.87       117
         geo       0.96      0.97      0.97     14724
         gpe       0.98      0.97      0.98      5503
         nat       0.95      0.87      0.91        95
         org       0.95      0.95      0.95      8238
         per       0.95      0.96      0.95      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.96      0.96      0.96     42624
   macro avg       0.94      0.94      0.94     42624
weighted avg       0.96      0.96      0.96     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.45      0.22      0.30        45
         eve       0.14      0.23      0.18        13
         geo       0.85      0.88      0.86      1773
         gpe       0.93      0.94      0.93       640
         nat       0.08      0.08      0.08        12
         org       0.72      0.73      0.73      1045
         per       0.77      0.73      0.75       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.60      0.58      0.58      5327
weighted avg       0.81      0.82      0.81      5327

-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.94      0.91      0.93       222
         eve       0.82      0.88      0.85        96
         geo       0.95      0.97      0.96     14594
         gpe       0.98      0.97      0.97      5584
         nat       0.90      0.89      0.89       116
         org       0.94      0.93      0.93      8377
         per       0.94      0.95      0.94      7230
         tim       0.96      0.96      0.96      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.93      0.93      0.93     43021
weighted avg       0.95      0.95      0.95     43021

F1-score: 0.9931979420184612
val 0/1: 
              precision    recall  f1-score   support

         art       0.07      0.11      0.09        19
         eve       0.16      0.19      0.17        16
         geo       0.84      0.84      0.84      1819
         gpe       0.91      0.95      0.93       731
         nat       0.20      0.17      0.18         6
         org       0.69      0.67      0.68       991
         per       0.73      0.78      0.76       907
         tim       0.85      0.82      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.56      0.57      0.56      5343
weighted avg       0.80      0.81      0.80      5343

F1-score: 0.9635490612247217
2022-12-07 00:09:32,595 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ff822734-8076-49d7-be0d-495566bcaea2]: train:
              precision    recall  f1-score   support

         art       0.94      0.91      0.93       222
         eve       0.82      0.88      0.85        96
         geo       0.95      0.97      0.96     14594
         gpe       0.98      0.97      0.97      5584
         nat       0.90      0.89      0.89       116
         org       0.94      0.93      0.93      8377
         per       0.94      0.95      0.94      7230
         tim       0.96      0.96      0.96      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.93      0.93      0.93     43021
weighted avg       0.95      0.95      0.95     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.07      0.11      0.09        19
         eve       0.16      0.19      0.17        16
         geo       0.84      0.84      0.84      1819
         gpe       0.91      0.95      0.93       731
         nat       0.20      0.17      0.18         6
         org       0.69      0.67      0.68       991
         per       0.73      0.78      0.76       907
         tim       0.85      0.82      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.56      0.57      0.56      5343
weighted avg       0.80      0.81      0.80      5343

2022-12-07 00:09:32,637 - SimulatorServer - INFO - getting AuxCommunicate request
2022-12-07 00:09:32,985 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 00:09:33,038 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7c46d073-05f3-4a86-925b-0d4b227873de]: finished processing task
2022-12-07 00:09:33,040 - FederatedClient - INFO - Starting to push execute result.
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 00:09:33,306 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ff822734-8076-49d7-be0d-495566bcaea2]: finished processing task
2022-12-07 00:09:33,308 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 00:09:33,864 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 00:09:34,142 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 00:09:56,651 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670371796 seconds)
2022-12-07 00:09:56,651 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=7c46d073-05f3-4a86-925b-0d4b227873de
2022-12-07 00:09:56,651 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7c46d073-05f3-4a86-925b-0d4b227873de]: invoking result_received_cb ...
2022-12-07 00:09:56,722 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7c46d073-05f3-4a86-925b-0d4b227873de]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 00:09:56,723 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7c46d073-05f3-4a86-925b-0d4b227873de]: finished processing client result by scatter_and_gather
2022-12-07 00:09:56,747 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670371796 seconds). SubmitUpdate time: 22.883204698562622 seconds
2022-12-07 00:09:56,782 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7c46d073-05f3-4a86-925b-0d4b227873de]: result sent to server for task: name=train, id=7c46d073-05f3-4a86-925b-0d4b227873de
2022-12-07 00:09:56,783 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:09:59,781 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670371799 seconds)
2022-12-07 00:09:59,781 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=ff822734-8076-49d7-be0d-495566bcaea2
2022-12-07 00:09:59,781 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ff822734-8076-49d7-be0d-495566bcaea2]: invoking result_received_cb ...
2022-12-07 00:09:59,939 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ff822734-8076-49d7-be0d-495566bcaea2]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 00:09:59,940 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ff822734-8076-49d7-be0d-495566bcaea2]: finished processing client result by scatter_and_gather
2022-12-07 00:09:59,976 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670371799 seconds). SubmitUpdate time: 25.833155393600464 seconds
2022-12-07 00:09:59,980 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:10:00,015 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ff822734-8076-49d7-be0d-495566bcaea2]: result sent to server for task: name=train, id=ff822734-8076-49d7-be0d-495566bcaea2
2022-12-07 00:10:00,015 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:10:01,991 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:10:02,081 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:10:04,002 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:10:04,091 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:10:06,012 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:10:06,101 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:10:08,023 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:10:08,126 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:10:10,033 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:10:10,130 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 00:10:10,136 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:10:10,630 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 00:10:10,631 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 39
2022-12-07 00:10:10,759 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 00:10:10,759 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 00:10:11,400 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 00:10:11,401 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 39 finished.
2022-12-07 00:10:11,401 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 40 started.
2022-12-07 00:10:11,402 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 00:10:12,041 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1]: assigned task to client site-2: name=train, id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1
2022-12-07 00:10:12,042 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1]: sent task assignment to client
2022-12-07 00:10:12,873 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 00:10:13,285 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58]: assigned task to client site-1: name=train, id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58
2022-12-07 00:10:13,286 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58]: sent task assignment to client
2022-12-07 00:10:14,082 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 00:10:35,502 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.463512420654297 seconds
2022-12-07 00:10:35,525 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:10:35,929 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1
2022-12-07 00:10:35,929 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:10:35,929 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1]: Client trainer got task: train
2022-12-07 00:10:36,918 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.77601909637451 seconds
2022-12-07 00:10:36,934 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:10:37,353 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58
2022-12-07 00:10:37,353 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:10:37,353 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58]: Client trainer got task: train
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 00:10:58,020 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1]: Accuracy when validating site-2's model on site-2s data: 0.9668972536145044
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 00:10:59,515 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58]: Accuracy when validating site-1's model on site-1s data: 0.9655292887805987
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.91      0.92      0.92       222
         eve       0.85      0.84      0.85        96
         geo       0.96      0.97      0.97     14594
         gpe       0.98      0.97      0.98      5584
         nat       0.87      0.85      0.86       116
         org       0.94      0.94      0.94      8377
         per       0.95      0.96      0.96      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.96      0.96      0.96     43021
   macro avg       0.93      0.93      0.93     43021
weighted avg       0.96      0.96      0.96     43021

F1-score: 0.9942879103450524
val 0/1: 
              precision    recall  f1-score   support

         art       0.08      0.05      0.06        19
         eve       0.25      0.31      0.28        16
         geo       0.84      0.86      0.85      1819
         gpe       0.93      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.70      0.68      0.69       991
         per       0.73      0.82      0.77       907
         tim       0.83      0.82      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.54      0.56      0.55      5343
weighted avg       0.80      0.82      0.81      5343

F1-score: 0.96446543767272
2022-12-07 00:19:39,131 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58]: train:
              precision    recall  f1-score   support

         art       0.91      0.92      0.92       222
         eve       0.85      0.84      0.85        96
         geo       0.96      0.97      0.97     14594
         gpe       0.98      0.97      0.98      5584
         nat       0.87      0.85      0.86       116
         org       0.94      0.94      0.94      8377
         per       0.95      0.96      0.96      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.96      0.96      0.96     43021
   macro avg       0.93      0.93      0.93     43021
weighted avg       0.96      0.96      0.96     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.08      0.05      0.06        19
         eve       0.25      0.31      0.28        16
         geo       0.84      0.86      0.85      1819
         gpe       0.93      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.70      0.68      0.69       991
         per       0.73      0.82      0.77       907
         tim       0.83      0.82      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.54      0.56      0.55      5343
weighted avg       0.80      0.82      0.81      5343

2022-12-07 00:19:39,509 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 00:19:40,061 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58]: finished processing task
2022-12-07 00:19:40,063 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 00:19:40,869 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.90      0.92      0.91       176
         eve       0.90      0.91      0.91       117
         geo       0.97      0.97      0.97     14724
         gpe       0.98      0.97      0.98      5503
         nat       0.88      0.86      0.87        95
         org       0.95      0.95      0.95      8238
         per       0.96      0.96      0.96      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.96      0.96      0.96     42624
   macro avg       0.94      0.94      0.94     42624
weighted avg       0.96      0.96      0.96     42624

F1-score: 0.9947875868129418
val 0/1: 
              precision    recall  f1-score   support

         art       0.47      0.16      0.23        45
         eve       0.20      0.31      0.24        13
         geo       0.84      0.88      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.68      0.72      0.70      1045
         per       0.77      0.76      0.77       940
         tim       0.86      0.85      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.62      0.59      0.59      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9647121892853634
2022-12-07 00:19:41,119 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1]: train:
              precision    recall  f1-score   support

         art       0.90      0.92      0.91       176
         eve       0.90      0.91      0.91       117
         geo       0.97      0.97      0.97     14724
         gpe       0.98      0.97      0.98      5503
         nat       0.88      0.86      0.87        95
         org       0.95      0.95      0.95      8238
         per       0.96      0.96      0.96      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.96      0.96      0.96     42624
   macro avg       0.94      0.94      0.94     42624
weighted avg       0.96      0.96      0.96     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.47      0.16      0.23        45
         eve       0.20      0.31      0.24        13
         geo       0.84      0.88      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.68      0.72      0.70      1045
         per       0.77      0.76      0.77       940
         tim       0.86      0.85      0.85       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.62      0.59      0.59      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-07 00:19:41,294 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 00:19:42,274 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1]: finished processing task
2022-12-07 00:19:42,275 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 00:19:43,083 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 00:20:03,731 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670372403 seconds)
2022-12-07 00:20:03,731 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58
2022-12-07 00:20:03,732 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58]: invoking result_received_cb ...
2022-12-07 00:20:03,806 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 00:20:03,806 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58]: finished processing client result by scatter_and_gather
2022-12-07 00:20:03,838 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670372403 seconds). SubmitUpdate time: 22.969414234161377 seconds
2022-12-07 00:20:03,899 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58]: result sent to server for task: name=train, id=c1c2e0b1-0c30-4ce6-bb0b-b389b3210f58
2022-12-07 00:20:03,899 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:20:06,882 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670372406 seconds)
2022-12-07 00:20:06,882 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1
2022-12-07 00:20:06,883 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1]: invoking result_received_cb ...
2022-12-07 00:20:07,042 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 00:20:07,043 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1]: finished processing client result by scatter_and_gather
2022-12-07 00:20:07,077 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670372406 seconds). SubmitUpdate time: 23.99381709098816 seconds
2022-12-07 00:20:07,084 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:20:07,106 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1]: result sent to server for task: name=train, id=a279daa4-e0b8-4532-ba43-c8020c2ac7d1
2022-12-07 00:20:07,106 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:20:09,095 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:20:09,166 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:20:11,105 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:20:11,174 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:20:13,116 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:20:13,185 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:20:15,126 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:20:15,212 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:20:17,137 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:20:17,222 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:20:17,237 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 00:20:17,736 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 00:20:17,738 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 40
2022-12-07 00:20:17,815 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 00:20:17,815 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 00:20:18,440 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 00:20:18,440 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 40 finished.
2022-12-07 00:20:18,440 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 41 started.
2022-12-07 00:20:18,441 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 00:20:19,145 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=390e1e8c-e450-4966-936c-50f661efed06]: assigned task to client site-1: name=train, id=390e1e8c-e450-4966-936c-50f661efed06
2022-12-07 00:20:19,146 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=390e1e8c-e450-4966-936c-50f661efed06]: sent task assignment to client
2022-12-07 00:20:19,989 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 00:20:20,413 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e]: assigned task to client site-2: name=train, id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e
2022-12-07 00:20:20,413 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e]: sent task assignment to client
2022-12-07 00:20:21,255 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 00:20:42,658 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.515562772750854 seconds
2022-12-07 00:20:42,664 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:20:43,108 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=390e1e8c-e450-4966-936c-50f661efed06
2022-12-07 00:20:43,109 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=390e1e8c-e450-4966-936c-50f661efed06]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:20:43,109 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=390e1e8c-e450-4966-936c-50f661efed06]: Client trainer got task: train
2022-12-07 00:20:44,013 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.786861419677734 seconds
2022-12-07 00:20:44,020 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:20:44,438 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e
2022-12-07 00:20:44,438 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:20:44,438 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 00:21:05,299 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=390e1e8c-e450-4966-936c-50f661efed06]: Accuracy when validating site-1's model on site-1s data: 0.9656217178942178
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 00:21:06,520 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e]: Accuracy when validating site-2's model on site-2s data: 0.9656615174773057
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.92      0.91      0.92       222
         eve       0.85      0.88      0.86        96
         geo       0.96      0.97      0.96     14594
         gpe       0.98      0.97      0.98      5584
         nat       0.83      0.87      0.85       116
         org       0.93      0.93      0.93      8377
         per       0.94      0.95      0.94      7230
         tim       0.95      0.96      0.96      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.92      0.93      0.92     43021
weighted avg       0.95      0.95      0.95     43021

F1-score: 0.9930484823611468
val 0/1: 
              precision    recall  f1-score   support

         art       0.09      0.11      0.10        19
         eve       0.19      0.38      0.26        16
         geo       0.85      0.84      0.84      1819
         gpe       0.91      0.95      0.93       731
         nat       0.17      0.17      0.17         6
         org       0.67      0.67      0.67       991
         per       0.71      0.81      0.76       907
         tim       0.83      0.82      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.55      0.59      0.57      5343
weighted avg       0.79      0.81      0.80      5343

F1-score: 0.9624847653579438
2022-12-07 00:29:46,312 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=390e1e8c-e450-4966-936c-50f661efed06]: train:
              precision    recall  f1-score   support

         art       0.92      0.91      0.92       222
         eve       0.85      0.88      0.86        96
         geo       0.96      0.97      0.96     14594
         gpe       0.98      0.97      0.98      5584
         nat       0.83      0.87      0.85       116
         org       0.93      0.93      0.93      8377
         per       0.94      0.95      0.94      7230
         tim       0.95      0.96      0.96      6802

   micro avg       0.95      0.95      0.95     43021
   macro avg       0.92      0.93      0.92     43021
weighted avg       0.95      0.95      0.95     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.09      0.11      0.10        19
         eve       0.19      0.38      0.26        16
         geo       0.85      0.84      0.84      1819
         gpe       0.91      0.95      0.93       731
         nat       0.17      0.17      0.17         6
         org       0.67      0.67      0.67       991
         per       0.71      0.81      0.76       907
         tim       0.83      0.82      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.55      0.59      0.57      5343
weighted avg       0.79      0.81      0.80      5343

2022-12-07 00:29:47,049 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 00:29:47,440 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=390e1e8c-e450-4966-936c-50f661efed06]: finished processing task
2022-12-07 00:29:47,442 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 00:29:48,255 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.93      0.93      0.93       176
         eve       0.85      0.87      0.86       117
         geo       0.97      0.97      0.97     14724
         gpe       0.98      0.97      0.98      5503
         nat       0.89      0.84      0.86        95
         org       0.95      0.95      0.95      8238
         per       0.95      0.96      0.95      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.96      0.96      0.96     42624
   macro avg       0.93      0.93      0.93     42624
weighted avg       0.96      0.96      0.96     42624

F1-score: 0.9946755299075904
val 0/1: 
              precision    recall  f1-score   support

         art       0.37      0.22      0.28        45
         eve       0.20      0.31      0.24        13
         geo       0.83      0.89      0.85      1773
         gpe       0.94      0.94      0.94       640
         nat       0.08      0.08      0.08        12
         org       0.73      0.71      0.72      1045
         per       0.76      0.76      0.76       940
         tim       0.87      0.84      0.86       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.60      0.59      0.59      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9658460819326438
2022-12-07 00:29:49,293 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e]: train:
              precision    recall  f1-score   support

         art       0.93      0.93      0.93       176
         eve       0.85      0.87      0.86       117
         geo       0.97      0.97      0.97     14724
         gpe       0.98      0.97      0.98      5503
         nat       0.89      0.84      0.86        95
         org       0.95      0.95      0.95      8238
         per       0.95      0.96      0.95      6998
         tim       0.96      0.96      0.96      6773

   micro avg       0.96      0.96      0.96     42624
   macro avg       0.93      0.93      0.93     42624
weighted avg       0.96      0.96      0.96     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.37      0.22      0.28        45
         eve       0.20      0.31      0.24        13
         geo       0.83      0.89      0.85      1773
         gpe       0.94      0.94      0.94       640
         nat       0.08      0.08      0.08        12
         org       0.73      0.71      0.72      1045
         per       0.76      0.76      0.76       940
         tim       0.87      0.84      0.86       859

   micro avg       0.81      0.82      0.81      5327
   macro avg       0.60      0.59      0.59      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-07 00:29:49,602 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 00:29:50,195 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e]: finished processing task
2022-12-07 00:29:50,196 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 00:29:50,983 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 00:30:11,032 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670373011 seconds)
2022-12-07 00:30:11,032 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=390e1e8c-e450-4966-936c-50f661efed06
2022-12-07 00:30:11,033 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=390e1e8c-e450-4966-936c-50f661efed06]: invoking result_received_cb ...
2022-12-07 00:30:11,099 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=390e1e8c-e450-4966-936c-50f661efed06]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 00:30:11,099 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=390e1e8c-e450-4966-936c-50f661efed06]: finished processing client result by scatter_and_gather
2022-12-07 00:30:11,132 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670373011 seconds). SubmitUpdate time: 22.877084732055664 seconds
2022-12-07 00:30:11,166 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=390e1e8c-e450-4966-936c-50f661efed06]: result sent to server for task: name=train, id=390e1e8c-e450-4966-936c-50f661efed06
2022-12-07 00:30:11,167 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:30:14,187 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670373014 seconds)
2022-12-07 00:30:14,187 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e
2022-12-07 00:30:14,187 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e]: invoking result_received_cb ...
2022-12-07 00:30:14,343 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 00:30:14,343 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e]: finished processing client result by scatter_and_gather
2022-12-07 00:30:14,377 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670373014 seconds). SubmitUpdate time: 23.394407987594604 seconds
2022-12-07 00:30:14,382 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:30:14,411 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e]: result sent to server for task: name=train, id=2f6a11a0-ae9b-4c63-8524-614ee689ce8e
2022-12-07 00:30:14,412 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:30:16,393 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:30:16,484 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:30:18,404 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:30:18,495 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:30:20,413 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:30:20,505 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:30:22,424 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:30:22,515 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:30:24,435 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:30:24,524 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:30:24,546 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 00:30:24,546 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 00:30:24,547 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 41
2022-12-07 00:30:24,668 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 00:30:24,668 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 00:30:25,568 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 00:30:25,568 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 41 finished.
2022-12-07 00:30:25,569 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 42 started.
2022-12-07 00:30:25,569 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 00:30:26,442 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=b20c59bb-5416-47cf-a69c-a36503c82f41]: assigned task to client site-1: name=train, id=b20c59bb-5416-47cf-a69c-a36503c82f41
2022-12-07 00:30:26,443 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=b20c59bb-5416-47cf-a69c-a36503c82f41]: sent task assignment to client
2022-12-07 00:30:27,268 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 00:30:27,683 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=9d923cc5-4412-4e6e-8a6b-98498d22e888]: assigned task to client site-2: name=train, id=9d923cc5-4412-4e6e-8a6b-98498d22e888
2022-12-07 00:30:27,684 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=9d923cc5-4412-4e6e-8a6b-98498d22e888]: sent task assignment to client
2022-12-07 00:30:28,509 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 00:30:50,277 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.83695387840271 seconds
2022-12-07 00:30:50,278 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:30:50,692 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=b20c59bb-5416-47cf-a69c-a36503c82f41
2022-12-07 00:30:50,692 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b20c59bb-5416-47cf-a69c-a36503c82f41]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:30:50,692 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b20c59bb-5416-47cf-a69c-a36503c82f41]: Client trainer got task: train
2022-12-07 00:30:51,300 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.77153754234314 seconds
2022-12-07 00:30:51,318 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:30:51,719 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=9d923cc5-4412-4e6e-8a6b-98498d22e888
2022-12-07 00:30:51,719 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9d923cc5-4412-4e6e-8a6b-98498d22e888]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:30:51,719 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9d923cc5-4412-4e6e-8a6b-98498d22e888]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 00:31:12,913 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b20c59bb-5416-47cf-a69c-a36503c82f41]: Accuracy when validating site-1's model on site-1s data: 0.9660995346245411
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 00:31:13,803 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9d923cc5-4412-4e6e-8a6b-98498d22e888]: Accuracy when validating site-2's model on site-2s data: 0.9670618678955943
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.93      0.93      0.93       222
         eve       0.78      0.85      0.82        96
         geo       0.97      0.98      0.97     14594
         gpe       0.98      0.98      0.98      5584
         nat       0.89      0.93      0.91       116
         org       0.95      0.95      0.95      8377
         per       0.95      0.96      0.96      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.96      0.97      0.96     43021
   macro avg       0.93      0.94      0.94     43021
weighted avg       0.96      0.97      0.96     43021

F1-score: 0.9948772313019255
val 0/1: 
              precision    recall  f1-score   support

         art       0.09      0.11      0.10        19
         eve       0.17      0.25      0.21        16
         geo       0.84      0.86      0.85      1819
         gpe       0.90      0.95      0.92       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.64      0.68       991
         per       0.71      0.80      0.75       907
         tim       0.85      0.82      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.53      0.55      0.54      5343
weighted avg       0.80      0.81      0.80      5343

F1-score: 0.9632878401529235
2022-12-07 00:39:53,431 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b20c59bb-5416-47cf-a69c-a36503c82f41]: train:
              precision    recall  f1-score   support

         art       0.93      0.93      0.93       222
         eve       0.78      0.85      0.82        96
         geo       0.97      0.98      0.97     14594
         gpe       0.98      0.98      0.98      5584
         nat       0.89      0.93      0.91       116
         org       0.95      0.95      0.95      8377
         per       0.95      0.96      0.96      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.96      0.97      0.96     43021
   macro avg       0.93      0.94      0.94     43021
weighted avg       0.96      0.97      0.96     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.09      0.11      0.10        19
         eve       0.17      0.25      0.21        16
         geo       0.84      0.86      0.85      1819
         gpe       0.90      0.95      0.92       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.64      0.68       991
         per       0.71      0.80      0.75       907
         tim       0.85      0.82      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.53      0.55      0.54      5343
weighted avg       0.80      0.81      0.80      5343

2022-12-07 00:39:53,657 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.95      0.94      0.95       176
         eve       0.88      0.91      0.90       117
         geo       0.96      0.97      0.97     14724
         gpe       0.98      0.98      0.98      5503
         nat       0.88      0.92      0.90        95
         org       0.95      0.95      0.95      8238
         per       0.95      0.96      0.96      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.96      0.97      0.96     42624
   macro avg       0.94      0.95      0.95     42624
weighted avg       0.96      0.97      0.96     42624

F1-score: 0.994789342671301
val 0/1: 
              precision    recall  f1-score   support

         art       0.56      0.22      0.32        45
         eve       0.29      0.31      0.30        13
         geo       0.86      0.85      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.12      0.08      0.10        12
         org       0.68      0.75      0.71      1045
         per       0.78      0.74      0.76       940
         tim       0.86      0.85      0.86       859

   micro avg       0.81      0.81      0.81      5327
   macro avg       0.64      0.59      0.60      5327
weighted avg       0.81      0.81      0.81      5327

F1-score: 0.9647851054198374
2022-12-07 00:39:53,783 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9d923cc5-4412-4e6e-8a6b-98498d22e888]: train:
              precision    recall  f1-score   support

         art       0.95      0.94      0.95       176
         eve       0.88      0.91      0.90       117
         geo       0.96      0.97      0.97     14724
         gpe       0.98      0.98      0.98      5503
         nat       0.88      0.92      0.90        95
         org       0.95      0.95      0.95      8238
         per       0.95      0.96      0.96      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.96      0.97      0.96     42624
   macro avg       0.94      0.95      0.95     42624
weighted avg       0.96      0.97      0.96     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.56      0.22      0.32        45
         eve       0.29      0.31      0.30        13
         geo       0.86      0.85      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.12      0.08      0.10        12
         org       0.68      0.75      0.71      1045
         per       0.78      0.74      0.76       940
         tim       0.86      0.85      0.86       859

   micro avg       0.81      0.81      0.81      5327
   macro avg       0.64      0.59      0.60      5327
weighted avg       0.81      0.81      0.81      5327

2022-12-07 00:39:53,948 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 00:39:54,709 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b20c59bb-5416-47cf-a69c-a36503c82f41]: finished processing task
2022-12-07 00:39:54,710 - FederatedClient - INFO - Starting to push execute result.
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 00:39:54,711 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9d923cc5-4412-4e6e-8a6b-98498d22e888]: finished processing task
2022-12-07 00:39:54,712 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 00:39:55,548 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 00:39:55,558 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 00:40:18,380 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670373618 seconds)
2022-12-07 00:40:18,381 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=b20c59bb-5416-47cf-a69c-a36503c82f41
2022-12-07 00:40:18,381 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b20c59bb-5416-47cf-a69c-a36503c82f41]: invoking result_received_cb ...
2022-12-07 00:40:18,448 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b20c59bb-5416-47cf-a69c-a36503c82f41]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 00:40:18,448 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b20c59bb-5416-47cf-a69c-a36503c82f41]: finished processing client result by scatter_and_gather
2022-12-07 00:40:18,479 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670373618 seconds). SubmitUpdate time: 22.93007755279541 seconds
2022-12-07 00:40:18,524 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b20c59bb-5416-47cf-a69c-a36503c82f41]: result sent to server for task: name=train, id=b20c59bb-5416-47cf-a69c-a36503c82f41
2022-12-07 00:40:18,525 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:40:21,554 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670373621 seconds)
2022-12-07 00:40:21,554 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=9d923cc5-4412-4e6e-8a6b-98498d22e888
2022-12-07 00:40:21,555 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9d923cc5-4412-4e6e-8a6b-98498d22e888]: invoking result_received_cb ...
2022-12-07 00:40:21,719 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9d923cc5-4412-4e6e-8a6b-98498d22e888]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 00:40:21,719 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9d923cc5-4412-4e6e-8a6b-98498d22e888]: finished processing client result by scatter_and_gather
2022-12-07 00:40:21,753 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:40:21,753 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670373621 seconds). SubmitUpdate time: 26.19538187980652 seconds
2022-12-07 00:40:21,781 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9d923cc5-4412-4e6e-8a6b-98498d22e888]: result sent to server for task: name=train, id=9d923cc5-4412-4e6e-8a6b-98498d22e888
2022-12-07 00:40:21,782 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:40:23,763 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:40:23,840 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:40:25,770 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:40:25,851 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:40:27,780 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:40:27,862 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:40:29,789 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:40:29,872 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:40:31,798 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:40:31,882 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:40:31,908 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 00:40:32,407 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 00:40:32,407 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 42
2022-12-07 00:40:32,491 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 00:40:32,492 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 00:40:33,018 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 00:40:33,019 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 42 finished.
2022-12-07 00:40:33,019 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 43 started.
2022-12-07 00:40:33,019 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 00:40:33,807 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=140206bc-2277-4280-8717-0ea0ecec0830]: assigned task to client site-1: name=train, id=140206bc-2277-4280-8717-0ea0ecec0830
2022-12-07 00:40:33,807 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=140206bc-2277-4280-8717-0ea0ecec0830]: sent task assignment to client
2022-12-07 00:40:34,630 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 00:40:35,043 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8]: assigned task to client site-2: name=train, id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8
2022-12-07 00:40:35,043 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8]: sent task assignment to client
2022-12-07 00:40:35,848 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 00:40:57,572 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.76827597618103 seconds
2022-12-07 00:40:57,590 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:40:58,043 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=140206bc-2277-4280-8717-0ea0ecec0830
2022-12-07 00:40:58,043 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=140206bc-2277-4280-8717-0ea0ecec0830]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:40:58,043 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=140206bc-2277-4280-8717-0ea0ecec0830]: Client trainer got task: train
2022-12-07 00:40:58,725 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.838563442230225 seconds
2022-12-07 00:40:58,756 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:40:59,172 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8
2022-12-07 00:40:59,173 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:40:59,173 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 00:41:20,250 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=140206bc-2277-4280-8717-0ea0ecec0830]: Accuracy when validating site-1's model on site-1s data: 0.9647664008132669
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 00:41:21,253 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8]: Accuracy when validating site-2's model on site-2s data: 0.9665672292616114
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.95      0.95      0.95       222
         eve       0.87      0.88      0.87        96
         geo       0.97      0.98      0.97     14594
         gpe       0.98      0.98      0.98      5584
         nat       0.91      0.88      0.89       116
         org       0.95      0.95      0.95      8377
         per       0.96      0.96      0.96      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.97      0.97      0.97     43021
   macro avg       0.95      0.94      0.94     43021
weighted avg       0.97      0.97      0.97     43021

F1-score: 0.9950464477513561
val 0/1: 
              precision    recall  f1-score   support

         art       0.14      0.11      0.12        19
         eve       0.16      0.19      0.17        16
         geo       0.83      0.86      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.29      0.33      0.31         6
         org       0.68      0.70      0.69       991
         per       0.75      0.76      0.75       907
         tim       0.84      0.83      0.84       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.58      0.59      0.58      5343
weighted avg       0.80      0.81      0.81      5343

F1-score: 0.9638805348080126
2022-12-07 00:50:00,344 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=140206bc-2277-4280-8717-0ea0ecec0830]: train:
              precision    recall  f1-score   support

         art       0.95      0.95      0.95       222
         eve       0.87      0.88      0.87        96
         geo       0.97      0.98      0.97     14594
         gpe       0.98      0.98      0.98      5584
         nat       0.91      0.88      0.89       116
         org       0.95      0.95      0.95      8377
         per       0.96      0.96      0.96      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.97      0.97      0.97     43021
   macro avg       0.95      0.94      0.94     43021
weighted avg       0.97      0.97      0.97     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.14      0.11      0.12        19
         eve       0.16      0.19      0.17        16
         geo       0.83      0.86      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.29      0.33      0.31         6
         org       0.68      0.70      0.69       991
         per       0.75      0.76      0.75       907
         tim       0.84      0.83      0.84       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.58      0.59      0.58      5343
weighted avg       0.80      0.81      0.81      5343

2022-12-07 00:50:01,187 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 00:50:01,261 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=140206bc-2277-4280-8717-0ea0ecec0830]: finished processing task
2022-12-07 00:50:01,262 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 00:50:02,065 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.94      0.93      0.93       176
         eve       0.92      0.92      0.92       117
         geo       0.97      0.98      0.97     14724
         gpe       0.98      0.98      0.98      5503
         nat       0.86      0.82      0.84        95
         org       0.95      0.95      0.95      8238
         per       0.96      0.97      0.96      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.97      0.97      0.97     42624
   macro avg       0.94      0.94      0.94     42624
weighted avg       0.97      0.97      0.97     42624

F1-score: 0.9955002832568192
val 0/1: 
              precision    recall  f1-score   support

         art       0.38      0.24      0.30        45
         eve       0.12      0.23      0.15        13
         geo       0.83      0.89      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.11      0.08      0.10        12
         org       0.71      0.70      0.71      1045
         per       0.75      0.76      0.76       940
         tim       0.85      0.86      0.85       859

   micro avg       0.80      0.82      0.81      5327
   macro avg       0.59      0.59      0.58      5327
weighted avg       0.80      0.82      0.81      5327

F1-score: 0.9652389766255416
2022-12-07 00:50:04,654 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8]: train:
              precision    recall  f1-score   support

         art       0.94      0.93      0.93       176
         eve       0.92      0.92      0.92       117
         geo       0.97      0.98      0.97     14724
         gpe       0.98      0.98      0.98      5503
         nat       0.86      0.82      0.84        95
         org       0.95      0.95      0.95      8238
         per       0.96      0.97      0.96      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.97      0.97      0.97     42624
   macro avg       0.94      0.94      0.94     42624
weighted avg       0.97      0.97      0.97     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.38      0.24      0.30        45
         eve       0.12      0.23      0.15        13
         geo       0.83      0.89      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.11      0.08      0.10        12
         org       0.71      0.70      0.71      1045
         per       0.75      0.76      0.76       940
         tim       0.85      0.86      0.85       859

   micro avg       0.80      0.82      0.81      5327
   macro avg       0.59      0.59      0.58      5327
weighted avg       0.80      0.82      0.81      5327

2022-12-07 00:50:05,319 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 00:50:05,838 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8]: finished processing task
2022-12-07 00:50:05,839 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 00:50:06,632 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 00:50:24,779 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670374224 seconds)
2022-12-07 00:50:24,780 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=140206bc-2277-4280-8717-0ea0ecec0830
2022-12-07 00:50:24,780 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=140206bc-2277-4280-8717-0ea0ecec0830]: invoking result_received_cb ...
2022-12-07 00:50:24,852 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=140206bc-2277-4280-8717-0ea0ecec0830]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 00:50:24,852 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=140206bc-2277-4280-8717-0ea0ecec0830]: finished processing client result by scatter_and_gather
2022-12-07 00:50:24,883 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670374224 seconds). SubmitUpdate time: 22.818713665008545 seconds
2022-12-07 00:50:24,919 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=140206bc-2277-4280-8717-0ea0ecec0830]: result sent to server for task: name=train, id=140206bc-2277-4280-8717-0ea0ecec0830
2022-12-07 00:50:24,920 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:50:29,396 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670374229 seconds)
2022-12-07 00:50:29,396 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8
2022-12-07 00:50:29,396 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8]: invoking result_received_cb ...
2022-12-07 00:50:29,547 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 00:50:29,547 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8]: finished processing client result by scatter_and_gather
2022-12-07 00:50:29,570 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670374229 seconds). SubmitUpdate time: 22.937488794326782 seconds
2022-12-07 00:50:29,576 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:50:29,597 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8]: result sent to server for task: name=train, id=b0f4bc14-85b5-4156-8fbb-08bc6ed89aa8
2022-12-07 00:50:29,597 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:50:31,586 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:50:31,646 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:50:33,595 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:50:33,656 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:50:35,606 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:50:35,689 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:50:37,616 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:50:37,698 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:50:39,627 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 00:50:39,709 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 00:50:39,743 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 00:50:40,243 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 00:50:40,244 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 43
2022-12-07 00:50:40,370 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 00:50:40,370 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 00:50:41,417 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 00:50:41,417 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 43 finished.
2022-12-07 00:50:41,417 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 44 started.
2022-12-07 00:50:41,418 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 00:50:41,641 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=c7a0f1ae-7846-4223-8dbf-42995d92dc09]: assigned task to client site-1: name=train, id=c7a0f1ae-7846-4223-8dbf-42995d92dc09
2022-12-07 00:50:41,642 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=c7a0f1ae-7846-4223-8dbf-42995d92dc09]: sent task assignment to client
2022-12-07 00:50:42,478 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 00:50:42,900 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=f586d5b3-c9ec-40da-a092-4fc459c8ea60]: assigned task to client site-2: name=train, id=f586d5b3-c9ec-40da-a092-4fc459c8ea60
2022-12-07 00:50:42,901 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=f586d5b3-c9ec-40da-a092-4fc459c8ea60]: sent task assignment to client
2022-12-07 00:50:43,708 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 00:51:05,431 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.798060417175293 seconds
2022-12-07 00:51:05,462 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:51:05,858 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=c7a0f1ae-7846-4223-8dbf-42995d92dc09
2022-12-07 00:51:05,858 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c7a0f1ae-7846-4223-8dbf-42995d92dc09]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:51:05,858 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c7a0f1ae-7846-4223-8dbf-42995d92dc09]: Client trainer got task: train
2022-12-07 00:51:06,402 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.688292980194092 seconds
2022-12-07 00:51:06,446 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 00:51:06,869 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=f586d5b3-c9ec-40da-a092-4fc459c8ea60
2022-12-07 00:51:06,870 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f586d5b3-c9ec-40da-a092-4fc459c8ea60]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 00:51:06,870 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f586d5b3-c9ec-40da-a092-4fc459c8ea60]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 00:51:28,032 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c7a0f1ae-7846-4223-8dbf-42995d92dc09]: Accuracy when validating site-1's model on site-1s data: 0.9654776407837177
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 00:51:28,976 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f586d5b3-c9ec-40da-a092-4fc459c8ea60]: Accuracy when validating site-2's model on site-2s data: 0.9666179313466223
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.96      0.95      0.96       222
         eve       0.82      0.86      0.84        96
         geo       0.97      0.98      0.98     14594
         gpe       0.99      0.98      0.98      5584
         nat       0.86      0.85      0.86       116
         org       0.96      0.96      0.96      8377
         per       0.96      0.97      0.97      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.97      0.97      0.97     43021
   macro avg       0.94      0.94      0.94     43021
weighted avg       0.97      0.97      0.97     43021

F1-score: 0.9957193261829655
val 0/1: 
              precision    recall  f1-score   support

         art       0.08      0.05      0.06        19
         eve       0.18      0.19      0.18        16
         geo       0.83      0.87      0.85      1819
         gpe       0.92      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.67      0.69       991
         per       0.74      0.79      0.76       907
         tim       0.85      0.81      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.80      0.81      0.81      5343

F1-score: 0.9643822704342767
2022-12-07 01:00:06,903 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c7a0f1ae-7846-4223-8dbf-42995d92dc09]: train:
              precision    recall  f1-score   support

         art       0.96      0.95      0.96       222
         eve       0.82      0.86      0.84        96
         geo       0.97      0.98      0.98     14594
         gpe       0.99      0.98      0.98      5584
         nat       0.86      0.85      0.86       116
         org       0.96      0.96      0.96      8377
         per       0.96      0.97      0.97      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.97      0.97      0.97     43021
   macro avg       0.94      0.94      0.94     43021
weighted avg       0.97      0.97      0.97     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.08      0.05      0.06        19
         eve       0.18      0.19      0.18        16
         geo       0.83      0.87      0.85      1819
         gpe       0.92      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.67      0.69       991
         per       0.74      0.79      0.76       907
         tim       0.85      0.81      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.80      0.81      0.81      5343

-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 01:00:07,818 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c7a0f1ae-7846-4223-8dbf-42995d92dc09]: finished processing task
2022-12-07 01:00:07,820 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 01:00:07,822 - SimulatorServer - INFO - getting AuxCommunicate request
2022-12-07 01:00:08,645 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.94      0.92      0.93       176
         eve       0.85      0.91      0.88       117
         geo       0.97      0.98      0.98     14724
         gpe       0.99      0.98      0.98      5503
         nat       0.86      0.88      0.87        95
         org       0.96      0.95      0.96      8238
         per       0.96      0.97      0.97      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.97      0.97      0.97     42624
   macro avg       0.94      0.95      0.94     42624
weighted avg       0.97      0.97      0.97     42624

F1-score: 0.9957232965034923
val 0/1: 
              precision    recall  f1-score   support

         art       0.59      0.29      0.39        45
         eve       0.22      0.31      0.26        13
         geo       0.86      0.88      0.87      1773
         gpe       0.96      0.93      0.94       640
         nat       0.11      0.08      0.10        12
         org       0.70      0.74      0.72      1045
         per       0.78      0.78      0.78       940
         tim       0.87      0.86      0.87       859

   micro avg       0.82      0.83      0.83      5327
   macro avg       0.64      0.61      0.62      5327
weighted avg       0.82      0.83      0.83      5327

F1-score: 0.966808401372145
2022-12-07 01:00:10,906 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f586d5b3-c9ec-40da-a092-4fc459c8ea60]: train:
              precision    recall  f1-score   support

         art       0.94      0.92      0.93       176
         eve       0.85      0.91      0.88       117
         geo       0.97      0.98      0.98     14724
         gpe       0.99      0.98      0.98      5503
         nat       0.86      0.88      0.87        95
         org       0.96      0.95      0.96      8238
         per       0.96      0.97      0.97      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.97      0.97      0.97     42624
   macro avg       0.94      0.95      0.94     42624
weighted avg       0.97      0.97      0.97     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.59      0.29      0.39        45
         eve       0.22      0.31      0.26        13
         geo       0.86      0.88      0.87      1773
         gpe       0.96      0.93      0.94       640
         nat       0.11      0.08      0.10        12
         org       0.70      0.74      0.72      1045
         per       0.78      0.78      0.78       940
         tim       0.87      0.86      0.87       859

   micro avg       0.82      0.83      0.83      5327
   macro avg       0.64      0.61      0.62      5327
weighted avg       0.82      0.83      0.83      5327

2022-12-07 01:00:11,773 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 01:00:12,093 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f586d5b3-c9ec-40da-a092-4fc459c8ea60]: finished processing task
2022-12-07 01:00:12,094 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 01:00:12,873 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 01:00:31,376 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670374831 seconds)
2022-12-07 01:00:31,377 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=c7a0f1ae-7846-4223-8dbf-42995d92dc09
2022-12-07 01:00:31,377 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c7a0f1ae-7846-4223-8dbf-42995d92dc09]: invoking result_received_cb ...
2022-12-07 01:00:31,448 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c7a0f1ae-7846-4223-8dbf-42995d92dc09]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 01:00:31,448 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c7a0f1ae-7846-4223-8dbf-42995d92dc09]: finished processing client result by scatter_and_gather
2022-12-07 01:00:31,479 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670374831 seconds). SubmitUpdate time: 22.833725690841675 seconds
2022-12-07 01:00:31,528 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c7a0f1ae-7846-4223-8dbf-42995d92dc09]: result sent to server for task: name=train, id=c7a0f1ae-7846-4223-8dbf-42995d92dc09
2022-12-07 01:00:31,529 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:00:35,592 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670374835 seconds)
2022-12-07 01:00:35,592 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=f586d5b3-c9ec-40da-a092-4fc459c8ea60
2022-12-07 01:00:35,592 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f586d5b3-c9ec-40da-a092-4fc459c8ea60]: invoking result_received_cb ...
2022-12-07 01:00:35,744 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f586d5b3-c9ec-40da-a092-4fc459c8ea60]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 01:00:35,744 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f586d5b3-c9ec-40da-a092-4fc459c8ea60]: finished processing client result by scatter_and_gather
2022-12-07 01:00:35,779 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670374835 seconds). SubmitUpdate time: 22.906071662902832 seconds
2022-12-07 01:00:35,784 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:00:35,827 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f586d5b3-c9ec-40da-a092-4fc459c8ea60]: result sent to server for task: name=train, id=f586d5b3-c9ec-40da-a092-4fc459c8ea60
2022-12-07 01:00:35,827 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:00:37,796 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:00:37,913 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:00:39,808 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:00:39,925 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:00:41,821 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:00:41,937 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:00:43,833 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:00:43,949 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:00:45,845 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:00:45,947 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 01:00:45,961 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:00:46,446 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 01:00:46,447 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 44
2022-12-07 01:00:46,555 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 01:00:46,556 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 01:00:47,428 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 01:00:47,428 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 44 finished.
2022-12-07 01:00:47,428 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 45 started.
2022-12-07 01:00:47,428 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 01:00:47,855 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=5c0a1cab-e572-4dc8-90cc-d871da52a6ec]: assigned task to client site-1: name=train, id=5c0a1cab-e572-4dc8-90cc-d871da52a6ec
2022-12-07 01:00:47,856 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=5c0a1cab-e572-4dc8-90cc-d871da52a6ec]: sent task assignment to client
2022-12-07 01:00:48,690 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 01:00:49,116 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=1b1b26fb-27f1-417f-bf68-1c18b9636da7]: assigned task to client site-2: name=train, id=1b1b26fb-27f1-417f-bf68-1c18b9636da7
2022-12-07 01:00:49,118 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=1b1b26fb-27f1-417f-bf68-1c18b9636da7]: sent task assignment to client
2022-12-07 01:00:49,918 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 01:01:11,496 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.64492416381836 seconds
2022-12-07 01:01:11,546 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 01:01:11,962 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=5c0a1cab-e572-4dc8-90cc-d871da52a6ec
2022-12-07 01:01:11,963 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5c0a1cab-e572-4dc8-90cc-d871da52a6ec]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 01:01:11,963 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5c0a1cab-e572-4dc8-90cc-d871da52a6ec]: Client trainer got task: train
2022-12-07 01:01:12,603 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.635805130004883 seconds
2022-12-07 01:01:12,620 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 01:01:13,024 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=1b1b26fb-27f1-417f-bf68-1c18b9636da7
2022-12-07 01:01:13,024 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1b1b26fb-27f1-417f-bf68-1c18b9636da7]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 01:01:13,024 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1b1b26fb-27f1-417f-bf68-1c18b9636da7]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 01:01:34,151 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5c0a1cab-e572-4dc8-90cc-d871da52a6ec]: Accuracy when validating site-1's model on site-1s data: 0.9656326943000311
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 01:01:35,148 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1b1b26fb-27f1-417f-bf68-1c18b9636da7]: Accuracy when validating site-2's model on site-2s data: 0.9675532668962616
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.95      0.95      0.95       222
         eve       0.83      0.84      0.84        96
         geo       0.97      0.98      0.97     14594
         gpe       0.99      0.98      0.98      5584
         nat       0.95      0.90      0.92       116
         org       0.96      0.95      0.96      8377
         per       0.96      0.97      0.97      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.97      0.97      0.97     43021
   macro avg       0.95      0.94      0.94     43021
weighted avg       0.97      0.97      0.97     43021

F1-score: 0.9955624144913525
val 0/1: 
              precision    recall  f1-score   support

         art       0.08      0.11      0.09        19
         eve       0.09      0.12      0.10        16
         geo       0.84      0.87      0.85      1819
         gpe       0.93      0.94      0.94       731
         nat       0.09      0.17      0.12         6
         org       0.69      0.67      0.68       991
         per       0.73      0.79      0.76       907
         tim       0.85      0.83      0.84       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.54      0.56      0.55      5343
weighted avg       0.80      0.82      0.81      5343

F1-score: 0.964365563132264
2022-12-07 01:10:14,203 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5c0a1cab-e572-4dc8-90cc-d871da52a6ec]: train:
              precision    recall  f1-score   support

         art       0.95      0.95      0.95       222
         eve       0.83      0.84      0.84        96
         geo       0.97      0.98      0.97     14594
         gpe       0.99      0.98      0.98      5584
         nat       0.95      0.90      0.92       116
         org       0.96      0.95      0.96      8377
         per       0.96      0.97      0.97      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.97      0.97      0.97     43021
   macro avg       0.95      0.94      0.94     43021
weighted avg       0.97      0.97      0.97     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.08      0.11      0.09        19
         eve       0.09      0.12      0.10        16
         geo       0.84      0.87      0.85      1819
         gpe       0.93      0.94      0.94       731
         nat       0.09      0.17      0.12         6
         org       0.69      0.67      0.68       991
         per       0.73      0.79      0.76       907
         tim       0.85      0.83      0.84       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.54      0.56      0.55      5343
weighted avg       0.80      0.82      0.81      5343

2022-12-07 01:10:14,385 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 01:10:15,419 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5c0a1cab-e572-4dc8-90cc-d871da52a6ec]: finished processing task
2022-12-07 01:10:15,420 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 01:10:16,210 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.92      0.95      0.94       176
         eve       0.91      0.91      0.91       117
         geo       0.97      0.98      0.98     14724
         gpe       0.98      0.98      0.98      5503
         nat       0.92      0.89      0.91        95
         org       0.96      0.96      0.96      8238
         per       0.96      0.97      0.97      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.97      0.97      0.97     42624
   macro avg       0.95      0.95      0.95     42624
weighted avg       0.97      0.97      0.97     42624

F1-score: 0.9960461506402064
val 0/1: 
              precision    recall  f1-score   support

         art       0.64      0.36      0.46        45
         eve       0.20      0.31      0.24        13
         geo       0.85      0.88      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.73      0.71      0.72      1045
         per       0.75      0.78      0.77       940
         tim       0.87      0.86      0.86       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.64      0.61      0.62      5327
weighted avg       0.82      0.82      0.82      5327

F1-score: 0.9663469626298747
2022-12-07 01:10:17,197 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1b1b26fb-27f1-417f-bf68-1c18b9636da7]: train:
              precision    recall  f1-score   support

         art       0.92      0.95      0.94       176
         eve       0.91      0.91      0.91       117
         geo       0.97      0.98      0.98     14724
         gpe       0.98      0.98      0.98      5503
         nat       0.92      0.89      0.91        95
         org       0.96      0.96      0.96      8238
         per       0.96      0.97      0.97      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.97      0.97      0.97     42624
   macro avg       0.95      0.95      0.95     42624
weighted avg       0.97      0.97      0.97     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.64      0.36      0.46        45
         eve       0.20      0.31      0.24        13
         geo       0.85      0.88      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.73      0.71      0.72      1045
         per       0.75      0.78      0.77       940
         tim       0.87      0.86      0.86       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.64      0.61      0.62      5327
weighted avg       0.82      0.82      0.82      5327

2022-12-07 01:10:17,995 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 01:10:18,105 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1b1b26fb-27f1-417f-bf68-1c18b9636da7]: finished processing task
2022-12-07 01:10:18,106 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 01:10:18,908 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 01:10:38,950 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670375438 seconds)
2022-12-07 01:10:38,951 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=5c0a1cab-e572-4dc8-90cc-d871da52a6ec
2022-12-07 01:10:38,951 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5c0a1cab-e572-4dc8-90cc-d871da52a6ec]: invoking result_received_cb ...
2022-12-07 01:10:39,018 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5c0a1cab-e572-4dc8-90cc-d871da52a6ec]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 01:10:39,018 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5c0a1cab-e572-4dc8-90cc-d871da52a6ec]: finished processing client result by scatter_and_gather
2022-12-07 01:10:39,048 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670375438 seconds). SubmitUpdate time: 22.837945222854614 seconds
2022-12-07 01:10:39,086 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5c0a1cab-e572-4dc8-90cc-d871da52a6ec]: result sent to server for task: name=train, id=5c0a1cab-e572-4dc8-90cc-d871da52a6ec
2022-12-07 01:10:39,087 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:10:42,066 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670375442 seconds)
2022-12-07 01:10:42,066 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=1b1b26fb-27f1-417f-bf68-1c18b9636da7
2022-12-07 01:10:42,067 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1b1b26fb-27f1-417f-bf68-1c18b9636da7]: invoking result_received_cb ...
2022-12-07 01:10:42,224 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1b1b26fb-27f1-417f-bf68-1c18b9636da7]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 01:10:42,224 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1b1b26fb-27f1-417f-bf68-1c18b9636da7]: finished processing client result by scatter_and_gather
2022-12-07 01:10:42,248 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670375442 seconds). SubmitUpdate time: 23.33980631828308 seconds
2022-12-07 01:10:42,253 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:10:42,287 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1b1b26fb-27f1-417f-bf68-1c18b9636da7]: result sent to server for task: name=train, id=1b1b26fb-27f1-417f-bf68-1c18b9636da7
2022-12-07 01:10:42,287 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:10:44,270 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:10:44,359 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:10:46,280 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:10:46,368 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:10:48,290 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:10:48,391 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:10:50,301 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:10:50,401 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:10:52,308 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:10:52,410 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:10:52,421 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 01:10:52,921 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 01:10:52,921 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 45
2022-12-07 01:10:53,041 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 01:10:53,041 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 01:10:53,945 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 01:10:53,946 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 45 finished.
2022-12-07 01:10:53,946 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 46 started.
2022-12-07 01:10:53,946 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 01:10:54,315 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=205e508f-fe1c-4c25-b10e-19698fa976d5]: assigned task to client site-1: name=train, id=205e508f-fe1c-4c25-b10e-19698fa976d5
2022-12-07 01:10:54,316 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=205e508f-fe1c-4c25-b10e-19698fa976d5]: sent task assignment to client
2022-12-07 01:10:55,154 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 01:10:55,574 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=2bf5ad61-c8f5-4ef0-a7fd-101314278fcd]: assigned task to client site-2: name=train, id=2bf5ad61-c8f5-4ef0-a7fd-101314278fcd
2022-12-07 01:10:55,575 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=2bf5ad61-c8f5-4ef0-a7fd-101314278fcd]: sent task assignment to client
2022-12-07 01:10:56,372 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 01:11:18,056 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.74303936958313 seconds
2022-12-07 01:11:18,087 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 01:11:18,510 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=205e508f-fe1c-4c25-b10e-19698fa976d5
2022-12-07 01:11:18,510 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=205e508f-fe1c-4c25-b10e-19698fa976d5]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 01:11:18,510 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=205e508f-fe1c-4c25-b10e-19698fa976d5]: Client trainer got task: train
2022-12-07 01:11:19,232 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.81651496887207 seconds
2022-12-07 01:11:19,238 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 01:11:19,663 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=2bf5ad61-c8f5-4ef0-a7fd-101314278fcd
2022-12-07 01:11:19,664 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2bf5ad61-c8f5-4ef0-a7fd-101314278fcd]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 01:11:19,664 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2bf5ad61-c8f5-4ef0-a7fd-101314278fcd]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 01:11:40,721 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=205e508f-fe1c-4c25-b10e-19698fa976d5]: Accuracy when validating site-1's model on site-1s data: 0.9647420934740928
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 01:11:41,755 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2bf5ad61-c8f5-4ef0-a7fd-101314278fcd]: Accuracy when validating site-2's model on site-2s data: 0.9672190374210482
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.95      0.94      0.94       222
         eve       0.79      0.83      0.81        96
         geo       0.97      0.98      0.98     14594
         gpe       0.99      0.98      0.99      5584
         nat       0.87      0.92      0.90       116
         org       0.97      0.96      0.96      8377
         per       0.97      0.97      0.97      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.97      0.97      0.97     43021
   macro avg       0.93      0.95      0.94     43021
weighted avg       0.97      0.97      0.97     43021

F1-score: 0.9960829436132007
val 0/1: 
              precision    recall  f1-score   support

         art       0.11      0.05      0.07        19
         eve       0.16      0.19      0.17        16
         geo       0.85      0.85      0.85      1819
         gpe       0.92      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.67      0.70      0.68       991
         per       0.71      0.80      0.75       907
         tim       0.87      0.82      0.84       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.80      0.81      0.81      5343

F1-score: 0.964112120476116
2022-12-07 01:20:20,729 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=205e508f-fe1c-4c25-b10e-19698fa976d5]: train:
              precision    recall  f1-score   support

         art       0.95      0.94      0.94       222
         eve       0.79      0.83      0.81        96
         geo       0.97      0.98      0.98     14594
         gpe       0.99      0.98      0.99      5584
         nat       0.87      0.92      0.90       116
         org       0.97      0.96      0.96      8377
         per       0.97      0.97      0.97      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.97      0.97      0.97     43021
   macro avg       0.93      0.95      0.94     43021
weighted avg       0.97      0.97      0.97     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.11      0.05      0.07        19
         eve       0.16      0.19      0.17        16
         geo       0.85      0.85      0.85      1819
         gpe       0.92      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.67      0.70      0.68       991
         per       0.71      0.80      0.75       907
         tim       0.87      0.82      0.84       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.80      0.81      0.81      5343

-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 01:20:21,656 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=205e508f-fe1c-4c25-b10e-19698fa976d5]: finished processing task
2022-12-07 01:20:21,657 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 01:20:21,816 - SimulatorServer - INFO - getting AuxCommunicate request
2022-12-07 01:20:22,471 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.95      0.93      0.94       176
         eve       0.84      0.88      0.86       117
         geo       0.97      0.97      0.97     14724
         gpe       0.98      0.98      0.98      5503
         nat       0.84      0.88      0.86        95
         org       0.95      0.95      0.95      8238
         per       0.95      0.96      0.96      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.96      0.97      0.97     42624
   macro avg       0.93      0.94      0.94     42624
weighted avg       0.96      0.97      0.97     42624

F1-score: 0.995234608808729
val 0/1: 
              precision    recall  f1-score   support

         art       0.40      0.13      0.20        45
         eve       0.23      0.38      0.29        13
         geo       0.79      0.91      0.85      1773
         gpe       0.95      0.93      0.94       640
         nat       0.10      0.08      0.09        12
         org       0.71      0.69      0.70      1045
         per       0.77      0.71      0.74       940
         tim       0.85      0.85      0.85       859

   micro avg       0.80      0.82      0.81      5327
   macro avg       0.60      0.59      0.58      5327
weighted avg       0.80      0.82      0.80      5327

F1-score: 0.9639678861309132
2022-12-07 01:20:24,525 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2bf5ad61-c8f5-4ef0-a7fd-101314278fcd]: train:
              precision    recall  f1-score   support

         art       0.95      0.93      0.94       176
         eve       0.84      0.88      0.86       117
         geo       0.97      0.97      0.97     14724
         gpe       0.98      0.98      0.98      5503
         nat       0.84      0.88      0.86        95
         org       0.95      0.95      0.95      8238
         per       0.95      0.96      0.96      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.96      0.97      0.97     42624
   macro avg       0.93      0.94      0.94     42624
weighted avg       0.96      0.97      0.97     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.40      0.13      0.20        45
         eve       0.23      0.38      0.29        13
         geo       0.79      0.91      0.85      1773
         gpe       0.95      0.93      0.94       640
         nat       0.10      0.08      0.09        12
         org       0.71      0.69      0.70      1045
         per       0.77      0.71      0.74       940
         tim       0.85      0.85      0.85       859

   micro avg       0.80      0.82      0.81      5327
   macro avg       0.60      0.59      0.58      5327
weighted avg       0.80      0.82      0.80      5327

2022-12-07 01:20:24,703 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 01:20:25,776 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2bf5ad61-c8f5-4ef0-a7fd-101314278fcd]: finished processing task
2022-12-07 01:20:25,777 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 01:20:26,578 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 01:20:45,216 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670376045 seconds)
2022-12-07 01:20:45,216 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=205e508f-fe1c-4c25-b10e-19698fa976d5
2022-12-07 01:20:45,217 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=205e508f-fe1c-4c25-b10e-19698fa976d5]: invoking result_received_cb ...
2022-12-07 01:20:45,286 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=205e508f-fe1c-4c25-b10e-19698fa976d5]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 01:20:45,286 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=205e508f-fe1c-4c25-b10e-19698fa976d5]: finished processing client result by scatter_and_gather
2022-12-07 01:20:45,313 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670376045 seconds). SubmitUpdate time: 22.8419988155365 seconds
2022-12-07 01:20:45,359 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=205e508f-fe1c-4c25-b10e-19698fa976d5]: result sent to server for task: name=train, id=205e508f-fe1c-4c25-b10e-19698fa976d5
2022-12-07 01:20:45,359 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:20:49,425 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670376049 seconds)
2022-12-07 01:20:49,425 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=2bf5ad61-c8f5-4ef0-a7fd-101314278fcd
2022-12-07 01:20:49,426 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2bf5ad61-c8f5-4ef0-a7fd-101314278fcd]: invoking result_received_cb ...
2022-12-07 01:20:49,582 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2bf5ad61-c8f5-4ef0-a7fd-101314278fcd]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 01:20:49,582 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2bf5ad61-c8f5-4ef0-a7fd-101314278fcd]: finished processing client result by scatter_and_gather
2022-12-07 01:20:49,618 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670376049 seconds). SubmitUpdate time: 23.03943157196045 seconds
2022-12-07 01:20:49,621 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:20:49,647 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2bf5ad61-c8f5-4ef0-a7fd-101314278fcd]: result sent to server for task: name=train, id=2bf5ad61-c8f5-4ef0-a7fd-101314278fcd
2022-12-07 01:20:49,648 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:20:51,632 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:20:51,715 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:20:53,642 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:20:53,724 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:20:55,651 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:20:55,735 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:20:57,662 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:20:57,750 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:20:59,672 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:20:59,758 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:20:59,804 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 01:21:00,303 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 01:21:00,303 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 46
2022-12-07 01:21:00,372 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 01:21:00,373 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 01:21:01,271 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 01:21:01,272 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 46 finished.
2022-12-07 01:21:01,272 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 47 started.
2022-12-07 01:21:01,272 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 01:21:01,680 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=7ae03026-a894-425c-b8dc-9a8482dcc03d]: assigned task to client site-1: name=train, id=7ae03026-a894-425c-b8dc-9a8482dcc03d
2022-12-07 01:21:01,681 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=7ae03026-a894-425c-b8dc-9a8482dcc03d]: sent task assignment to client
2022-12-07 01:21:02,502 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 01:21:02,914 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=34dfc35a-f20f-40e1-af48-3a16ea9ecc8e]: assigned task to client site-2: name=train, id=34dfc35a-f20f-40e1-af48-3a16ea9ecc8e
2022-12-07 01:21:02,915 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=34dfc35a-f20f-40e1-af48-3a16ea9ecc8e]: sent task assignment to client
2022-12-07 01:21:03,718 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 01:21:25,216 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.53862953186035 seconds
2022-12-07 01:21:25,248 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 01:21:25,649 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=7ae03026-a894-425c-b8dc-9a8482dcc03d
2022-12-07 01:21:25,650 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7ae03026-a894-425c-b8dc-9a8482dcc03d]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 01:21:25,650 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7ae03026-a894-425c-b8dc-9a8482dcc03d]: Client trainer got task: train
2022-12-07 01:21:26,463 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.69978928565979 seconds
2022-12-07 01:21:26,478 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 01:21:26,874 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=34dfc35a-f20f-40e1-af48-3a16ea9ecc8e
2022-12-07 01:21:26,875 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=34dfc35a-f20f-40e1-af48-3a16ea9ecc8e]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 01:21:26,875 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=34dfc35a-f20f-40e1-af48-3a16ea9ecc8e]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 01:21:47,822 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7ae03026-a894-425c-b8dc-9a8482dcc03d]: Accuracy when validating site-1's model on site-1s data: 0.9653523349124123
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 01:21:48,997 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=34dfc35a-f20f-40e1-af48-3a16ea9ecc8e]: Accuracy when validating site-2's model on site-2s data: 0.9666620826889192
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.94      0.95      0.95       222
         eve       0.89      0.88      0.88        96
         geo       0.97      0.97      0.97     14594
         gpe       0.98      0.98      0.98      5584
         nat       0.82      0.84      0.83       116
         org       0.95      0.95      0.95      8377
         per       0.96      0.97      0.97      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.96      0.97      0.97     43021
   macro avg       0.94      0.94      0.94     43021
weighted avg       0.96      0.97      0.97     43021

F1-score: 0.99503500799921
val 0/1: 
              precision    recall  f1-score   support

         art       0.04      0.05      0.04        19
         eve       0.19      0.25      0.22        16
         geo       0.83      0.86      0.84      1819
         gpe       0.92      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.69      0.67      0.68       991
         per       0.73      0.78      0.76       907
         tim       0.82      0.82      0.82       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.53      0.55      0.54      5343
weighted avg       0.79      0.81      0.80      5343

F1-score: 0.9628309014995768
2022-12-07 01:30:29,768 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7ae03026-a894-425c-b8dc-9a8482dcc03d]: train:
              precision    recall  f1-score   support

         art       0.94      0.95      0.95       222
         eve       0.89      0.88      0.88        96
         geo       0.97      0.97      0.97     14594
         gpe       0.98      0.98      0.98      5584
         nat       0.82      0.84      0.83       116
         org       0.95      0.95      0.95      8377
         per       0.96      0.97      0.97      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.96      0.97      0.97     43021
   macro avg       0.94      0.94      0.94     43021
weighted avg       0.96      0.97      0.97     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.04      0.05      0.04        19
         eve       0.19      0.25      0.22        16
         geo       0.83      0.86      0.84      1819
         gpe       0.92      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.69      0.67      0.68       991
         per       0.73      0.78      0.76       907
         tim       0.82      0.82      0.82       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.53      0.55      0.54      5343
weighted avg       0.79      0.81      0.80      5343

2022-12-07 01:30:30,607 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 01:30:30,794 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7ae03026-a894-425c-b8dc-9a8482dcc03d]: finished processing task
2022-12-07 01:30:30,796 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 01:30:31,587 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.94      0.93      0.93       176
         eve       0.89      0.93      0.91       117
         geo       0.97      0.98      0.97     14724
         gpe       0.98      0.98      0.98      5503
         nat       0.84      0.83      0.84        95
         org       0.95      0.95      0.95      8238
         per       0.96      0.97      0.96      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.97      0.97      0.97     42624
   macro avg       0.94      0.94      0.94     42624
weighted avg       0.97      0.97      0.97     42624

F1-score: 0.9952929690586708
val 0/1: 
              precision    recall  f1-score   support

         art       0.44      0.24      0.31        45
         eve       0.14      0.23      0.17        13
         geo       0.84      0.87      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.12      0.08      0.10        12
         org       0.71      0.72      0.71      1045
         per       0.77      0.79      0.78       940
         tim       0.84      0.85      0.84       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.60      0.59      0.59      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9648594937330737
2022-12-07 01:30:34,255 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=34dfc35a-f20f-40e1-af48-3a16ea9ecc8e]: train:
              precision    recall  f1-score   support

         art       0.94      0.93      0.93       176
         eve       0.89      0.93      0.91       117
         geo       0.97      0.98      0.97     14724
         gpe       0.98      0.98      0.98      5503
         nat       0.84      0.83      0.84        95
         org       0.95      0.95      0.95      8238
         per       0.96      0.97      0.96      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.97      0.97      0.97     42624
   macro avg       0.94      0.94      0.94     42624
weighted avg       0.97      0.97      0.97     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.44      0.24      0.31        45
         eve       0.14      0.23      0.17        13
         geo       0.84      0.87      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.12      0.08      0.10        12
         org       0.71      0.72      0.71      1045
         per       0.77      0.79      0.78       940
         tim       0.84      0.85      0.84       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.60      0.59      0.59      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-07 01:30:35,057 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 01:30:35,173 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=34dfc35a-f20f-40e1-af48-3a16ea9ecc8e]: finished processing task
2022-12-07 01:30:35,174 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 01:30:35,961 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 01:30:54,348 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670376654 seconds)
2022-12-07 01:30:54,349 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=7ae03026-a894-425c-b8dc-9a8482dcc03d
2022-12-07 01:30:54,349 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7ae03026-a894-425c-b8dc-9a8482dcc03d]: invoking result_received_cb ...
2022-12-07 01:30:54,421 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7ae03026-a894-425c-b8dc-9a8482dcc03d]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 01:30:54,421 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7ae03026-a894-425c-b8dc-9a8482dcc03d]: finished processing client result by scatter_and_gather
2022-12-07 01:30:54,450 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670376654 seconds). SubmitUpdate time: 22.8622727394104 seconds
2022-12-07 01:30:54,499 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7ae03026-a894-425c-b8dc-9a8482dcc03d]: result sent to server for task: name=train, id=7ae03026-a894-425c-b8dc-9a8482dcc03d
2022-12-07 01:30:54,500 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:30:58,693 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670376658 seconds)
2022-12-07 01:30:58,694 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=34dfc35a-f20f-40e1-af48-3a16ea9ecc8e
2022-12-07 01:30:58,694 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=34dfc35a-f20f-40e1-af48-3a16ea9ecc8e]: invoking result_received_cb ...
2022-12-07 01:30:58,849 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=34dfc35a-f20f-40e1-af48-3a16ea9ecc8e]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 01:30:58,850 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=34dfc35a-f20f-40e1-af48-3a16ea9ecc8e]: finished processing client result by scatter_and_gather
2022-12-07 01:30:58,882 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670376658 seconds). SubmitUpdate time: 22.920522689819336 seconds
2022-12-07 01:30:58,885 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:30:58,926 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=34dfc35a-f20f-40e1-af48-3a16ea9ecc8e]: result sent to server for task: name=train, id=34dfc35a-f20f-40e1-af48-3a16ea9ecc8e
2022-12-07 01:30:58,927 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:31:00,894 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:31:00,994 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:31:02,904 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:31:03,004 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:31:04,915 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:31:05,015 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:31:06,925 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:31:07,025 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:31:08,935 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:31:09,036 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:31:09,055 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 01:31:09,554 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 01:31:09,555 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 47
2022-12-07 01:31:09,676 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 01:31:09,677 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 01:31:10,309 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 01:31:10,309 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 47 finished.
2022-12-07 01:31:10,310 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 48 started.
2022-12-07 01:31:10,310 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 01:31:10,943 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=35557289-7771-4814-82f2-559b01e2a9e2]: assigned task to client site-1: name=train, id=35557289-7771-4814-82f2-559b01e2a9e2
2022-12-07 01:31:10,944 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=35557289-7771-4814-82f2-559b01e2a9e2]: sent task assignment to client
2022-12-07 01:31:11,793 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 01:31:12,206 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=94df8c5a-1097-45ed-8317-8498f66f3331]: assigned task to client site-2: name=train, id=94df8c5a-1097-45ed-8317-8498f66f3331
2022-12-07 01:31:12,207 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=94df8c5a-1097-45ed-8317-8498f66f3331]: sent task assignment to client
2022-12-07 01:31:13,006 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 01:31:34,387 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.445828199386597 seconds
2022-12-07 01:31:34,416 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 01:31:34,829 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=35557289-7771-4814-82f2-559b01e2a9e2
2022-12-07 01:31:34,830 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=35557289-7771-4814-82f2-559b01e2a9e2]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 01:31:34,830 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=35557289-7771-4814-82f2-559b01e2a9e2]: Client trainer got task: train
2022-12-07 01:31:35,619 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.57746934890747 seconds
2022-12-07 01:31:35,647 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 01:31:36,063 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=94df8c5a-1097-45ed-8317-8498f66f3331
2022-12-07 01:31:36,064 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=94df8c5a-1097-45ed-8317-8498f66f3331]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 01:31:36,064 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=94df8c5a-1097-45ed-8317-8498f66f3331]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 01:31:57,019 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=35557289-7771-4814-82f2-559b01e2a9e2]: Accuracy when validating site-1's model on site-1s data: 0.9644394970896305
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 01:31:58,171 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=94df8c5a-1097-45ed-8317-8498f66f3331]: Accuracy when validating site-2's model on site-2s data: 0.9662376336564862
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.94      0.92      0.93       222
         eve       0.85      0.83      0.84        96
         geo       0.98      0.98      0.98     14594
         gpe       0.99      0.98      0.98      5584
         nat       0.92      0.95      0.94       116
         org       0.96      0.96      0.96      8377
         per       0.97      0.97      0.97      7230
         tim       0.97      0.98      0.97      6802

   micro avg       0.97      0.97      0.97     43021
   macro avg       0.95      0.95      0.95     43021
weighted avg       0.97      0.97      0.97     43021

F1-score: 0.996163672254056
val 0/1: 
              precision    recall  f1-score   support

         art       0.06      0.05      0.06        19
         eve       0.20      0.19      0.19        16
         geo       0.81      0.88      0.85      1819
         gpe       0.92      0.93      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.70      0.66      0.68       991
         per       0.74      0.76      0.75       907
         tim       0.84      0.81      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.53      0.54      0.53      5343
weighted avg       0.79      0.81      0.80      5343

F1-score: 0.9636064458775538
2022-12-07 01:40:38,827 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=35557289-7771-4814-82f2-559b01e2a9e2]: train:
              precision    recall  f1-score   support

         art       0.94      0.92      0.93       222
         eve       0.85      0.83      0.84        96
         geo       0.98      0.98      0.98     14594
         gpe       0.99      0.98      0.98      5584
         nat       0.92      0.95      0.94       116
         org       0.96      0.96      0.96      8377
         per       0.97      0.97      0.97      7230
         tim       0.97      0.98      0.97      6802

   micro avg       0.97      0.97      0.97     43021
   macro avg       0.95      0.95      0.95     43021
weighted avg       0.97      0.97      0.97     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.06      0.05      0.06        19
         eve       0.20      0.19      0.19        16
         geo       0.81      0.88      0.85      1819
         gpe       0.92      0.93      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.70      0.66      0.68       991
         per       0.74      0.76      0.75       907
         tim       0.84      0.81      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.53      0.54      0.53      5343
weighted avg       0.79      0.81      0.80      5343

2022-12-07 01:40:39,783 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 01:40:39,996 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=35557289-7771-4814-82f2-559b01e2a9e2]: finished processing task
2022-12-07 01:40:39,997 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 01:40:40,803 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.97      0.97      0.97       176
         eve       0.93      0.96      0.94       117
         geo       0.97      0.98      0.98     14724
         gpe       0.99      0.98      0.98      5503
         nat       0.95      0.93      0.94        95
         org       0.96      0.96      0.96      8238
         per       0.97      0.97      0.97      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.97      0.97      0.97     42624
   macro avg       0.96      0.96      0.96     42624
weighted avg       0.97      0.97      0.97     42624

F1-score: 0.9961343700003319
val 0/1: 
              precision    recall  f1-score   support

         art       0.43      0.22      0.29        45
         eve       0.19      0.23      0.21        13
         geo       0.83      0.89      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.75      0.71      0.73      1045
         per       0.75      0.76      0.76       940
         tim       0.84      0.87      0.86       859

   micro avg       0.81      0.83      0.82      5327
   macro avg       0.61      0.59      0.59      5327
weighted avg       0.81      0.83      0.82      5327

F1-score: 0.9657782863465652
2022-12-07 01:40:43,575 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=94df8c5a-1097-45ed-8317-8498f66f3331]: train:
              precision    recall  f1-score   support

         art       0.97      0.97      0.97       176
         eve       0.93      0.96      0.94       117
         geo       0.97      0.98      0.98     14724
         gpe       0.99      0.98      0.98      5503
         nat       0.95      0.93      0.94        95
         org       0.96      0.96      0.96      8238
         per       0.97      0.97      0.97      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.97      0.97      0.97     42624
   macro avg       0.96      0.96      0.96     42624
weighted avg       0.97      0.97      0.97     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.43      0.22      0.29        45
         eve       0.19      0.23      0.21        13
         geo       0.83      0.89      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.75      0.71      0.73      1045
         per       0.75      0.76      0.76       940
         tim       0.84      0.87      0.86       859

   micro avg       0.81      0.83      0.82      5327
   macro avg       0.61      0.59      0.59      5327
weighted avg       0.81      0.83      0.82      5327

2022-12-07 01:40:44,485 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 01:40:44,485 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=94df8c5a-1097-45ed-8317-8498f66f3331]: finished processing task
2022-12-07 01:40:44,489 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 01:40:45,275 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 01:41:03,534 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670377263 seconds)
2022-12-07 01:41:03,535 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=35557289-7771-4814-82f2-559b01e2a9e2
2022-12-07 01:41:03,535 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=35557289-7771-4814-82f2-559b01e2a9e2]: invoking result_received_cb ...
2022-12-07 01:41:03,606 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=35557289-7771-4814-82f2-559b01e2a9e2]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 01:41:03,607 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=35557289-7771-4814-82f2-559b01e2a9e2]: finished processing client result by scatter_and_gather
2022-12-07 01:41:03,634 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670377263 seconds). SubmitUpdate time: 22.830403566360474 seconds
2022-12-07 01:41:03,692 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=35557289-7771-4814-82f2-559b01e2a9e2]: result sent to server for task: name=train, id=35557289-7771-4814-82f2-559b01e2a9e2
2022-12-07 01:41:03,692 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:41:07,995 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670377267 seconds)
2022-12-07 01:41:07,995 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=94df8c5a-1097-45ed-8317-8498f66f3331
2022-12-07 01:41:07,996 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=94df8c5a-1097-45ed-8317-8498f66f3331]: invoking result_received_cb ...
2022-12-07 01:41:08,155 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=94df8c5a-1097-45ed-8317-8498f66f3331]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 01:41:08,156 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=94df8c5a-1097-45ed-8317-8498f66f3331]: finished processing client result by scatter_and_gather
2022-12-07 01:41:08,186 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670377267 seconds). SubmitUpdate time: 22.91130828857422 seconds
2022-12-07 01:41:08,190 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:41:08,231 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=94df8c5a-1097-45ed-8317-8498f66f3331]: result sent to server for task: name=train, id=94df8c5a-1097-45ed-8317-8498f66f3331
2022-12-07 01:41:08,232 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:41:10,200 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:41:10,298 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:41:12,209 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:41:12,314 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:41:14,219 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:41:14,324 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:41:16,229 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:41:16,335 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:41:18,240 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:41:18,344 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:41:18,358 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 01:41:18,358 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 01:41:18,359 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 48
2022-12-07 01:41:18,434 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 01:41:18,435 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 01:41:19,069 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 01:41:19,070 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 48 finished.
2022-12-07 01:41:19,070 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 49 started.
2022-12-07 01:41:19,071 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 01:41:20,248 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=6cb9b39e-3a39-4037-954e-2996bb691581]: assigned task to client site-1: name=train, id=6cb9b39e-3a39-4037-954e-2996bb691581
2022-12-07 01:41:20,249 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=6cb9b39e-3a39-4037-954e-2996bb691581]: sent task assignment to client
2022-12-07 01:41:21,069 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 01:41:21,477 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=cea72afd-2af0-4e98-8cde-46d30cca032d]: assigned task to client site-2: name=train, id=cea72afd-2af0-4e98-8cde-46d30cca032d
2022-12-07 01:41:21,479 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=cea72afd-2af0-4e98-8cde-46d30cca032d]: sent task assignment to client
2022-12-07 01:41:22,279 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 01:41:43,655 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.40998601913452 seconds
2022-12-07 01:41:43,685 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 01:41:44,094 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=6cb9b39e-3a39-4037-954e-2996bb691581
2022-12-07 01:41:44,094 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6cb9b39e-3a39-4037-954e-2996bb691581]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 01:41:44,094 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6cb9b39e-3a39-4037-954e-2996bb691581]: Client trainer got task: train
2022-12-07 01:41:45,061 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.711578607559204 seconds
2022-12-07 01:41:45,075 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 01:41:45,474 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=cea72afd-2af0-4e98-8cde-46d30cca032d
2022-12-07 01:41:45,474 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cea72afd-2af0-4e98-8cde-46d30cca032d]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 01:41:45,475 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cea72afd-2af0-4e98-8cde-46d30cca032d]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 01:42:06,261 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6cb9b39e-3a39-4037-954e-2996bb691581]: Accuracy when validating site-1's model on site-1s data: 0.9648787652082983
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 01:42:07,587 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cea72afd-2af0-4e98-8cde-46d30cca032d]: Accuracy when validating site-2's model on site-2s data: 0.9663122877892563
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.96      0.97      0.97       222
         eve       0.92      0.95      0.93        96
         geo       0.97      0.98      0.98     14594
         gpe       0.99      0.98      0.99      5584
         nat       0.93      0.92      0.93       116
         org       0.96      0.96      0.96      8377
         per       0.96      0.97      0.97      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.97      0.97      0.97     43021
   macro avg       0.96      0.96      0.96     43021
weighted avg       0.97      0.97      0.97     43021

F1-score: 0.9960660886848297
val 0/1: 
              precision    recall  f1-score   support

         art       0.07      0.05      0.06        19
         eve       0.10      0.12      0.11        16
         geo       0.84      0.87      0.85      1819
         gpe       0.92      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.69      0.68      0.69       991
         per       0.72      0.78      0.75       907
         tim       0.85      0.81      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.52      0.53      0.53      5343
weighted avg       0.80      0.81      0.80      5343

F1-score: 0.9644267781953465
2022-12-07 01:50:49,479 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6cb9b39e-3a39-4037-954e-2996bb691581]: train:
              precision    recall  f1-score   support

         art       0.96      0.97      0.97       222
         eve       0.92      0.95      0.93        96
         geo       0.97      0.98      0.98     14594
         gpe       0.99      0.98      0.99      5584
         nat       0.93      0.92      0.93       116
         org       0.96      0.96      0.96      8377
         per       0.96      0.97      0.97      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.97      0.97      0.97     43021
   macro avg       0.96      0.96      0.96     43021
weighted avg       0.97      0.97      0.97     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.07      0.05      0.06        19
         eve       0.10      0.12      0.11        16
         geo       0.84      0.87      0.85      1819
         gpe       0.92      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.69      0.68      0.69       991
         per       0.72      0.78      0.75       907
         tim       0.85      0.81      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.52      0.53      0.53      5343
weighted avg       0.80      0.81      0.80      5343

2022-12-07 01:50:50,040 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 01:50:50,352 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6cb9b39e-3a39-4037-954e-2996bb691581]: finished processing task
2022-12-07 01:50:50,353 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 01:50:51,152 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.92      0.93      0.92       176
         eve       0.92      0.92      0.92       117
         geo       0.97      0.98      0.98     14724
         gpe       0.99      0.98      0.98      5503
         nat       0.91      0.93      0.92        95
         org       0.96      0.96      0.96      8238
         per       0.97      0.97      0.97      6998
         tim       0.97      0.98      0.98      6773

   micro avg       0.97      0.97      0.97     42624
   macro avg       0.95      0.96      0.95     42624
weighted avg       0.97      0.97      0.97     42624

F1-score: 0.9962424897930534
val 0/1: 
              precision    recall  f1-score   support

         art       0.38      0.22      0.28        45
         eve       0.20      0.23      0.21        13
         geo       0.85      0.88      0.86      1773
         gpe       0.95      0.94      0.95       640
         nat       0.20      0.08      0.12        12
         org       0.71      0.74      0.73      1045
         per       0.77      0.76      0.77       940
         tim       0.86      0.86      0.86       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.62      0.59      0.60      5327
weighted avg       0.82      0.83      0.82      5327

F1-score: 0.966004601074758
2022-12-07 01:50:53,156 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cea72afd-2af0-4e98-8cde-46d30cca032d]: train:
              precision    recall  f1-score   support

         art       0.92      0.93      0.92       176
         eve       0.92      0.92      0.92       117
         geo       0.97      0.98      0.98     14724
         gpe       0.99      0.98      0.98      5503
         nat       0.91      0.93      0.92        95
         org       0.96      0.96      0.96      8238
         per       0.97      0.97      0.97      6998
         tim       0.97      0.98      0.98      6773

   micro avg       0.97      0.97      0.97     42624
   macro avg       0.95      0.96      0.95     42624
weighted avg       0.97      0.97      0.97     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.38      0.22      0.28        45
         eve       0.20      0.23      0.21        13
         geo       0.85      0.88      0.86      1773
         gpe       0.95      0.94      0.95       640
         nat       0.20      0.08      0.12        12
         org       0.71      0.74      0.73      1045
         per       0.77      0.76      0.77       940
         tim       0.86      0.86      0.86       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.62      0.59      0.60      5327
weighted avg       0.82      0.83      0.82      5327

2022-12-07 01:50:53,915 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 01:50:54,072 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cea72afd-2af0-4e98-8cde-46d30cca032d]: finished processing task
2022-12-07 01:50:54,073 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 01:50:54,847 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 01:51:13,945 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670377873 seconds)
2022-12-07 01:51:13,946 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=6cb9b39e-3a39-4037-954e-2996bb691581
2022-12-07 01:51:13,946 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=6cb9b39e-3a39-4037-954e-2996bb691581]: invoking result_received_cb ...
2022-12-07 01:51:14,014 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=6cb9b39e-3a39-4037-954e-2996bb691581]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 01:51:14,014 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=6cb9b39e-3a39-4037-954e-2996bb691581]: finished processing client result by scatter_and_gather
2022-12-07 01:51:14,044 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670377873 seconds). SubmitUpdate time: 22.89166808128357 seconds
2022-12-07 01:51:14,063 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6cb9b39e-3a39-4037-954e-2996bb691581]: result sent to server for task: name=train, id=6cb9b39e-3a39-4037-954e-2996bb691581
2022-12-07 01:51:14,063 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:51:17,553 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670377877 seconds)
2022-12-07 01:51:17,553 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=cea72afd-2af0-4e98-8cde-46d30cca032d
2022-12-07 01:51:17,553 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cea72afd-2af0-4e98-8cde-46d30cca032d]: invoking result_received_cb ...
2022-12-07 01:51:17,717 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cea72afd-2af0-4e98-8cde-46d30cca032d]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 01:51:17,717 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cea72afd-2af0-4e98-8cde-46d30cca032d]: finished processing client result by scatter_and_gather
2022-12-07 01:51:17,749 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670377877 seconds). SubmitUpdate time: 22.901447772979736 seconds
2022-12-07 01:51:17,753 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:51:17,784 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cea72afd-2af0-4e98-8cde-46d30cca032d]: result sent to server for task: name=train, id=cea72afd-2af0-4e98-8cde-46d30cca032d
2022-12-07 01:51:17,785 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:51:19,763 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:51:19,848 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:51:21,773 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:51:21,875 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:51:23,783 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:51:23,886 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:51:25,794 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:51:25,896 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:51:27,811 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 01:51:27,904 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 01:51:27,904 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 01:51:27,906 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 49
2022-12-07 01:51:27,906 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 01:51:28,027 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 01:51:28,027 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 01:51:29,074 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 01:51:29,075 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 49 finished.
2022-12-07 01:51:29,075 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 50 started.
2022-12-07 01:51:29,075 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 01:51:29,820 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=29e6eb8d-7299-45bc-b0a6-5e5dd351dc1c]: assigned task to client site-1: name=train, id=29e6eb8d-7299-45bc-b0a6-5e5dd351dc1c
2022-12-07 01:51:29,821 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=29e6eb8d-7299-45bc-b0a6-5e5dd351dc1c]: sent task assignment to client
2022-12-07 01:51:30,657 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 01:51:31,064 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=f3853887-1a54-478e-99f6-f10a11a28060]: assigned task to client site-2: name=train, id=f3853887-1a54-478e-99f6-f10a11a28060
2022-12-07 01:51:31,065 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=f3853887-1a54-478e-99f6-f10a11a28060]: sent task assignment to client
2022-12-07 01:51:31,871 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 01:51:53,380 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.562735557556152 seconds
2022-12-07 01:51:53,410 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 01:51:53,849 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=29e6eb8d-7299-45bc-b0a6-5e5dd351dc1c
2022-12-07 01:51:53,849 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=29e6eb8d-7299-45bc-b0a6-5e5dd351dc1c]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 01:51:53,849 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=29e6eb8d-7299-45bc-b0a6-5e5dd351dc1c]: Client trainer got task: train
2022-12-07 01:51:54,909 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.997303009033203 seconds
2022-12-07 01:51:54,915 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 01:51:55,345 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=f3853887-1a54-478e-99f6-f10a11a28060
2022-12-07 01:51:55,346 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f3853887-1a54-478e-99f6-f10a11a28060]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 01:51:55,346 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f3853887-1a54-478e-99f6-f10a11a28060]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 01:52:16,030 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=29e6eb8d-7299-45bc-b0a6-5e5dd351dc1c]: Accuracy when validating site-1's model on site-1s data: 0.9649091023462455
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 01:52:17,452 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f3853887-1a54-478e-99f6-f10a11a28060]: Accuracy when validating site-2's model on site-2s data: 0.9663028998223359
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.94      0.96      0.95       176
         eve       0.95      0.94      0.94       117
         geo       0.98      0.98      0.98     14724
         gpe       0.99      0.98      0.98      5503
         nat       0.96      0.92      0.94        95
         org       0.96      0.96      0.96      8238
         per       0.96      0.97      0.96      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.97      0.97      0.97     42624
   macro avg       0.96      0.96      0.96     42624
weighted avg       0.97      0.97      0.97     42624

F1-score: 0.9962263273132577
val 0/1: 
              precision    recall  f1-score   support

         art       0.45      0.20      0.28        45
         eve       0.17      0.23      0.19        13
         geo       0.85      0.89      0.87      1773
         gpe       0.94      0.94      0.94       640
         nat       0.08      0.08      0.08        12
         org       0.73      0.72      0.73      1045
         per       0.76      0.76      0.76       940
         tim       0.86      0.85      0.85       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.61      0.58      0.59      5327
weighted avg       0.82      0.82      0.82      5327

F1-score: 0.9656774159425054
2022-12-07 02:01:01,839 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f3853887-1a54-478e-99f6-f10a11a28060]: train:
              precision    recall  f1-score   support

         art       0.94      0.96      0.95       176
         eve       0.95      0.94      0.94       117
         geo       0.98      0.98      0.98     14724
         gpe       0.99      0.98      0.98      5503
         nat       0.96      0.92      0.94        95
         org       0.96      0.96      0.96      8238
         per       0.96      0.97      0.96      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.97      0.97      0.97     42624
   macro avg       0.96      0.96      0.96     42624
weighted avg       0.97      0.97      0.97     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.45      0.20      0.28        45
         eve       0.17      0.23      0.19        13
         geo       0.85      0.89      0.87      1773
         gpe       0.94      0.94      0.94       640
         nat       0.08      0.08      0.08        12
         org       0.73      0.72      0.73      1045
         per       0.76      0.76      0.76       940
         tim       0.86      0.85      0.85       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.61      0.58      0.59      5327
weighted avg       0.82      0.82      0.82      5327

2022-12-07 02:01:02,498 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 02:01:02,774 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f3853887-1a54-478e-99f6-f10a11a28060]: finished processing task
2022-12-07 02:01:02,776 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 02:01:03,575 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 02:01:26,655 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670378486 seconds)
2022-12-07 02:01:26,655 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=f3853887-1a54-478e-99f6-f10a11a28060
2022-12-07 02:01:26,656 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f3853887-1a54-478e-99f6-f10a11a28060]: invoking result_received_cb ...
2022-12-07 02:01:26,729 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f3853887-1a54-478e-99f6-f10a11a28060]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 02:01:26,729 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f3853887-1a54-478e-99f6-f10a11a28060]: finished processing client result by scatter_and_gather
2022-12-07 02:01:26,757 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670378486 seconds). SubmitUpdate time: 23.181909322738647 seconds
2022-12-07 02:01:26,809 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f3853887-1a54-478e-99f6-f10a11a28060]: result sent to server for task: name=train, id=f3853887-1a54-478e-99f6-f10a11a28060
2022-12-07 02:01:26,809 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:01:28,886 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:01:30,895 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:01:32,905 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:01:34,915 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:01:36,924 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:01:38,933 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:01:40,944 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:01:42,954 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:01:44,964 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:01:46,975 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:01:48,986 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:01:50,996 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:01:53,006 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:01:55,017 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:01:57,027 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:01:59,035 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:02:01,045 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:02:03,056 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:02:05,067 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:02:07,076 - ClientTaskWorker - INFO - Finished one task run for client: site-2
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.90      0.91      0.91       222
         eve       0.94      0.94      0.94        96
         geo       0.97      0.98      0.97     14594
         gpe       0.98      0.98      0.98      5584
         nat       0.84      0.89      0.86       116
         org       0.95      0.95      0.95      8377
         per       0.95      0.96      0.96      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.96      0.97      0.97     43021
   macro avg       0.94      0.95      0.94     43021
weighted avg       0.96      0.97      0.97     43021

F1-score: 0.995142457375646
val 0/1: 
              precision    recall  f1-score   support

         art       0.05      0.05      0.05        19
         eve       0.15      0.25      0.19        16
         geo       0.82      0.86      0.84      1819
         gpe       0.93      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.70      0.66      0.68       991
         per       0.73      0.78      0.75       907
         tim       0.82      0.81      0.82       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.53      0.54      0.53      5343
weighted avg       0.79      0.81      0.80      5343

F1-score: 0.9629781637634235
2022-12-07 02:02:07,943 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=29e6eb8d-7299-45bc-b0a6-5e5dd351dc1c]: train:
              precision    recall  f1-score   support

         art       0.90      0.91      0.91       222
         eve       0.94      0.94      0.94        96
         geo       0.97      0.98      0.97     14594
         gpe       0.98      0.98      0.98      5584
         nat       0.84      0.89      0.86       116
         org       0.95      0.95      0.95      8377
         per       0.95      0.96      0.96      7230
         tim       0.97      0.97      0.97      6802

   micro avg       0.96      0.97      0.97     43021
   macro avg       0.94      0.95      0.94     43021
weighted avg       0.96      0.97      0.97     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.05      0.05      0.05        19
         eve       0.15      0.25      0.19        16
         geo       0.82      0.86      0.84      1819
         gpe       0.93      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.70      0.66      0.68       991
         per       0.73      0.78      0.75       907
         tim       0.82      0.81      0.82       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.53      0.54      0.53      5343
weighted avg       0.79      0.81      0.80      5343

2022-12-07 02:02:08,295 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 02:02:08,870 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=29e6eb8d-7299-45bc-b0a6-5e5dd351dc1c]: finished processing task
2022-12-07 02:02:08,871 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 02:02:09,086 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:02:09,693 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 02:02:11,097 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:02:13,107 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:02:15,117 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:02:17,127 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:02:19,137 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:02:21,148 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:02:23,156 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:02:25,167 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:02:27,177 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:02:29,187 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:02:32,415 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670378552 seconds)
2022-12-07 02:02:32,415 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=29e6eb8d-7299-45bc-b0a6-5e5dd351dc1c
2022-12-07 02:02:32,416 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=29e6eb8d-7299-45bc-b0a6-5e5dd351dc1c]: invoking result_received_cb ...
2022-12-07 02:02:32,568 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=29e6eb8d-7299-45bc-b0a6-5e5dd351dc1c]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 02:02:32,569 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=29e6eb8d-7299-45bc-b0a6-5e5dd351dc1c]: finished processing client result by scatter_and_gather
2022-12-07 02:02:32,572 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:02:32,597 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670378552 seconds). SubmitUpdate time: 22.903935432434082 seconds
2022-12-07 02:02:32,636 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=29e6eb8d-7299-45bc-b0a6-5e5dd351dc1c]: result sent to server for task: name=train, id=29e6eb8d-7299-45bc-b0a6-5e5dd351dc1c
2022-12-07 02:02:32,636 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:02:34,600 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:02:34,690 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:02:36,610 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:02:36,700 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:02:38,621 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:02:38,709 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:02:40,632 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:02:40,719 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:02:42,642 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:02:42,727 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:02:42,779 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 02:02:43,278 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 02:02:43,279 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 50
2022-12-07 02:02:43,348 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 02:02:43,349 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 02:02:44,478 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 02:02:44,479 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 50 finished.
2022-12-07 02:02:44,479 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 51 started.
2022-12-07 02:02:44,479 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 02:02:44,649 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=0a47804e-74ea-470a-8fbd-6d05cf7f4954]: assigned task to client site-2: name=train, id=0a47804e-74ea-470a-8fbd-6d05cf7f4954
2022-12-07 02:02:44,650 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=0a47804e-74ea-470a-8fbd-6d05cf7f4954]: sent task assignment to client
2022-12-07 02:02:45,441 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 02:02:45,852 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=3e181c1c-23e5-4726-8f1d-db72344f2612]: assigned task to client site-1: name=train, id=3e181c1c-23e5-4726-8f1d-db72344f2612
2022-12-07 02:02:45,853 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=3e181c1c-23e5-4726-8f1d-db72344f2612]: sent task assignment to client
2022-12-07 02:02:46,660 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 02:03:08,267 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.620745420455933 seconds
2022-12-07 02:03:08,279 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 02:03:08,671 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=0a47804e-74ea-470a-8fbd-6d05cf7f4954
2022-12-07 02:03:08,671 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0a47804e-74ea-470a-8fbd-6d05cf7f4954]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 02:03:08,671 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0a47804e-74ea-470a-8fbd-6d05cf7f4954]: Client trainer got task: train
2022-12-07 02:03:09,577 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.845837831497192 seconds
2022-12-07 02:03:09,582 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 02:03:09,994 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=3e181c1c-23e5-4726-8f1d-db72344f2612
2022-12-07 02:03:09,994 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3e181c1c-23e5-4726-8f1d-db72344f2612]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 02:03:09,994 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3e181c1c-23e5-4726-8f1d-db72344f2612]: Client trainer got task: train
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 02:03:30,631 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0a47804e-74ea-470a-8fbd-6d05cf7f4954]: Accuracy when validating site-2's model on site-2s data: 0.9659913095827114
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 02:03:32,220 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3e181c1c-23e5-4726-8f1d-db72344f2612]: Accuracy when validating site-1's model on site-1s data: 0.9639462453446779
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.97      0.95      0.96       222
         eve       0.83      0.88      0.85        96
         geo       0.98      0.98      0.98     14594
         gpe       0.99      0.98      0.99      5584
         nat       0.91      0.91      0.91       116
         org       0.97      0.97      0.97      8377
         per       0.97      0.98      0.97      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.97      0.98      0.98     43021
   macro avg       0.95      0.95      0.95     43021
weighted avg       0.97      0.98      0.98     43021

F1-score: 0.9964634459904816
val 0/1: 
              precision    recall  f1-score   support

         art       0.07      0.05      0.06        19
         eve       0.13      0.19      0.15        16
         geo       0.83      0.86      0.85      1819
         gpe       0.92      0.95      0.93       731
         nat       0.12      0.17      0.14         6
         org       0.71      0.66      0.69       991
         per       0.73      0.81      0.77       907
         tim       0.85      0.82      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.55      0.56      0.55      5343
weighted avg       0.80      0.81      0.81      5343

F1-score: 0.9645118233720302
2022-12-07 02:12:09,832 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3e181c1c-23e5-4726-8f1d-db72344f2612]: train:
              precision    recall  f1-score   support

         art       0.97      0.95      0.96       222
         eve       0.83      0.88      0.85        96
         geo       0.98      0.98      0.98     14594
         gpe       0.99      0.98      0.99      5584
         nat       0.91      0.91      0.91       116
         org       0.97      0.97      0.97      8377
         per       0.97      0.98      0.97      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.97      0.98      0.98     43021
   macro avg       0.95      0.95      0.95     43021
weighted avg       0.97      0.98      0.98     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.07      0.05      0.06        19
         eve       0.13      0.19      0.15        16
         geo       0.83      0.86      0.85      1819
         gpe       0.92      0.95      0.93       731
         nat       0.12      0.17      0.14         6
         org       0.71      0.66      0.69       991
         per       0.73      0.81      0.77       907
         tim       0.85      0.82      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.55      0.56      0.55      5343
weighted avg       0.80      0.81      0.81      5343

2022-12-07 02:12:10,139 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 02:12:10,895 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3e181c1c-23e5-4726-8f1d-db72344f2612]: finished processing task
2022-12-07 02:12:10,897 - FederatedClient - INFO - Starting to push execute result.
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.90      0.93      0.91       176
         eve       0.92      0.93      0.93       117
         geo       0.97      0.98      0.98     14724
         gpe       0.99      0.98      0.98      5503
         nat       0.88      0.86      0.87        95
         org       0.96      0.96      0.96      8238
         per       0.97      0.97      0.97      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.97      0.97      0.97     42624
   macro avg       0.95      0.95      0.95     42624
weighted avg       0.97      0.97      0.97     42624

F1-score: 0.996014119285989
val 0/1: 
              precision    recall  f1-score   support

         art       0.46      0.29      0.36        45
         eve       0.20      0.31      0.24        13
         geo       0.84      0.89      0.87      1773
         gpe       0.95      0.94      0.94       640
         nat       0.14      0.08      0.11        12
         org       0.73      0.71      0.72      1045
         per       0.78      0.75      0.76       940
         tim       0.85      0.84      0.85       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.62      0.60      0.60      5327
weighted avg       0.82      0.82      0.82      5327

F1-score: 0.9657585707113983
2022-12-07 02:12:11,074 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0a47804e-74ea-470a-8fbd-6d05cf7f4954]: train:
              precision    recall  f1-score   support

         art       0.90      0.93      0.91       176
         eve       0.92      0.93      0.93       117
         geo       0.97      0.98      0.98     14724
         gpe       0.99      0.98      0.98      5503
         nat       0.88      0.86      0.87        95
         org       0.96      0.96      0.96      8238
         per       0.97      0.97      0.97      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.97      0.97      0.97     42624
   macro avg       0.95      0.95      0.95     42624
weighted avg       0.97      0.97      0.97     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.46      0.29      0.36        45
         eve       0.20      0.31      0.24        13
         geo       0.84      0.89      0.87      1773
         gpe       0.95      0.94      0.94       640
         nat       0.14      0.08      0.11        12
         org       0.73      0.71      0.72      1045
         per       0.78      0.75      0.76       940
         tim       0.85      0.84      0.85       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.62      0.60      0.60      5327
weighted avg       0.82      0.82      0.82      5327

2022-12-07 02:12:11,735 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 02:12:11,848 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 02:12:12,066 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0a47804e-74ea-470a-8fbd-6d05cf7f4954]: finished processing task
2022-12-07 02:12:12,067 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 02:12:12,874 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 02:12:34,611 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670379154 seconds)
2022-12-07 02:12:34,612 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=3e181c1c-23e5-4726-8f1d-db72344f2612
2022-12-07 02:12:34,612 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3e181c1c-23e5-4726-8f1d-db72344f2612]: invoking result_received_cb ...
2022-12-07 02:12:34,685 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3e181c1c-23e5-4726-8f1d-db72344f2612]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 02:12:34,685 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3e181c1c-23e5-4726-8f1d-db72344f2612]: finished processing client result by scatter_and_gather
2022-12-07 02:12:34,710 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670379154 seconds). SubmitUpdate time: 22.97472834587097 seconds
2022-12-07 02:12:34,734 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3e181c1c-23e5-4726-8f1d-db72344f2612]: result sent to server for task: name=train, id=3e181c1c-23e5-4726-8f1d-db72344f2612
2022-12-07 02:12:34,734 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:12:37,789 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670379157 seconds)
2022-12-07 02:12:37,790 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=0a47804e-74ea-470a-8fbd-6d05cf7f4954
2022-12-07 02:12:37,790 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0a47804e-74ea-470a-8fbd-6d05cf7f4954]: invoking result_received_cb ...
2022-12-07 02:12:37,947 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0a47804e-74ea-470a-8fbd-6d05cf7f4954]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 02:12:37,947 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0a47804e-74ea-470a-8fbd-6d05cf7f4954]: finished processing client result by scatter_and_gather
2022-12-07 02:12:37,968 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670379157 seconds). SubmitUpdate time: 25.09369683265686 seconds
2022-12-07 02:12:37,974 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:12:38,006 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0a47804e-74ea-470a-8fbd-6d05cf7f4954]: result sent to server for task: name=train, id=0a47804e-74ea-470a-8fbd-6d05cf7f4954
2022-12-07 02:12:38,007 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:12:39,990 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:12:40,082 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:12:42,000 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:12:42,092 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:12:44,010 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:12:44,101 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:12:46,041 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:12:46,108 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:12:48,049 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:12:48,117 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:12:48,123 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 02:12:48,623 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 02:12:48,624 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 51
2022-12-07 02:12:48,748 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 02:12:48,748 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 02:12:49,388 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 02:12:49,389 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 51 finished.
2022-12-07 02:12:49,389 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 52 started.
2022-12-07 02:12:49,390 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 02:12:50,056 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=e2114039-b15e-46d0-aca6-ab7ce57a4b53]: assigned task to client site-1: name=train, id=e2114039-b15e-46d0-aca6-ab7ce57a4b53
2022-12-07 02:12:50,056 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=e2114039-b15e-46d0-aca6-ab7ce57a4b53]: sent task assignment to client
2022-12-07 02:12:50,877 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 02:12:51,284 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=177bb66b-6506-4f75-bd33-428609fd585a]: assigned task to client site-2: name=train, id=177bb66b-6506-4f75-bd33-428609fd585a
2022-12-07 02:12:51,285 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=177bb66b-6506-4f75-bd33-428609fd585a]: sent task assignment to client
2022-12-07 02:12:52,087 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 02:13:13,531 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.477590322494507 seconds
2022-12-07 02:13:13,557 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 02:13:14,014 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=e2114039-b15e-46d0-aca6-ab7ce57a4b53
2022-12-07 02:13:14,014 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e2114039-b15e-46d0-aca6-ab7ce57a4b53]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 02:13:14,014 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e2114039-b15e-46d0-aca6-ab7ce57a4b53]: Client trainer got task: train
2022-12-07 02:13:14,931 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.80952000617981 seconds
2022-12-07 02:13:14,947 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 02:13:15,345 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=177bb66b-6506-4f75-bd33-428609fd585a
2022-12-07 02:13:15,345 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=177bb66b-6506-4f75-bd33-428609fd585a]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 02:13:15,346 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=177bb66b-6506-4f75-bd33-428609fd585a]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 02:13:36,222 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e2114039-b15e-46d0-aca6-ab7ce57a4b53]: Accuracy when validating site-1's model on site-1s data: 0.9662559603225988
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 02:13:37,475 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=177bb66b-6506-4f75-bd33-428609fd585a]: Accuracy when validating site-2's model on site-2s data: 0.967129631131933
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.94      0.96      0.95       222
         eve       0.93      0.95      0.94        96
         geo       0.98      0.98      0.98     14594
         gpe       0.99      0.98      0.99      5584
         nat       0.92      0.92      0.92       116
         org       0.96      0.96      0.96      8377
         per       0.97      0.98      0.97      7230
         tim       0.97      0.98      0.97      6802

   micro avg       0.97      0.98      0.97     43021
   macro avg       0.96      0.96      0.96     43021
weighted avg       0.97      0.98      0.97     43021

F1-score: 0.9963268256775509
val 0/1: 
              precision    recall  f1-score   support

         art       0.07      0.05      0.06        19
         eve       0.09      0.12      0.11        16
         geo       0.82      0.87      0.84      1819
         gpe       0.93      0.95      0.94       731
         nat       0.25      0.17      0.20         6
         org       0.70      0.67      0.69       991
         per       0.72      0.79      0.75       907
         tim       0.85      0.82      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.55      0.55      0.55      5343
weighted avg       0.79      0.81      0.80      5343

F1-score: 0.9636428586928887
2022-12-07 02:22:15,272 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e2114039-b15e-46d0-aca6-ab7ce57a4b53]: train:
              precision    recall  f1-score   support

         art       0.94      0.96      0.95       222
         eve       0.93      0.95      0.94        96
         geo       0.98      0.98      0.98     14594
         gpe       0.99      0.98      0.99      5584
         nat       0.92      0.92      0.92       116
         org       0.96      0.96      0.96      8377
         per       0.97      0.98      0.97      7230
         tim       0.97      0.98      0.97      6802

   micro avg       0.97      0.98      0.97     43021
   macro avg       0.96      0.96      0.96     43021
weighted avg       0.97      0.98      0.97     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.07      0.05      0.06        19
         eve       0.09      0.12      0.11        16
         geo       0.82      0.87      0.84      1819
         gpe       0.93      0.95      0.94       731
         nat       0.25      0.17      0.20         6
         org       0.70      0.67      0.69       991
         per       0.72      0.79      0.75       907
         tim       0.85      0.82      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.55      0.55      0.55      5343
weighted avg       0.79      0.81      0.80      5343

2022-12-07 02:22:15,438 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 02:22:16,201 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e2114039-b15e-46d0-aca6-ab7ce57a4b53]: finished processing task
2022-12-07 02:22:16,203 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 02:22:17,026 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.97      0.98      0.97       176
         eve       0.93      0.93      0.93       117
         geo       0.98      0.98      0.98     14724
         gpe       0.99      0.98      0.99      5503
         nat       0.92      0.97      0.94        95
         org       0.96      0.96      0.96      8238
         per       0.97      0.98      0.97      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.97      0.98      0.98     42624
   macro avg       0.96      0.97      0.97     42624
weighted avg       0.97      0.98      0.98     42624

F1-score: 0.996548704774765
val 0/1: 
              precision    recall  f1-score   support

         art       0.47      0.18      0.26        45
         eve       0.15      0.31      0.20        13
         geo       0.83      0.88      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.00      0.00      0.00        12
         org       0.71      0.70      0.71      1045
         per       0.75      0.76      0.75       940
         tim       0.83      0.84      0.84       859

   micro avg       0.80      0.82      0.81      5327
   macro avg       0.59      0.58      0.57      5327
weighted avg       0.80      0.82      0.81      5327

F1-score: 0.9643133551182179
2022-12-07 02:22:19,110 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=177bb66b-6506-4f75-bd33-428609fd585a]: train:
              precision    recall  f1-score   support

         art       0.97      0.98      0.97       176
         eve       0.93      0.93      0.93       117
         geo       0.98      0.98      0.98     14724
         gpe       0.99      0.98      0.99      5503
         nat       0.92      0.97      0.94        95
         org       0.96      0.96      0.96      8238
         per       0.97      0.98      0.97      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.97      0.98      0.98     42624
   macro avg       0.96      0.97      0.97     42624
weighted avg       0.97      0.98      0.98     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.47      0.18      0.26        45
         eve       0.15      0.31      0.20        13
         geo       0.83      0.88      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.00      0.00      0.00        12
         org       0.71      0.70      0.71      1045
         per       0.75      0.76      0.75       940
         tim       0.83      0.84      0.84       859

   micro avg       0.80      0.82      0.81      5327
   macro avg       0.59      0.58      0.57      5327
weighted avg       0.80      0.82      0.81      5327

2022-12-07 02:22:19,287 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 02:22:20,284 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=177bb66b-6506-4f75-bd33-428609fd585a]: finished processing task
2022-12-07 02:22:20,285 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 02:22:21,079 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 02:22:39,826 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670379759 seconds)
2022-12-07 02:22:39,827 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=e2114039-b15e-46d0-aca6-ab7ce57a4b53
2022-12-07 02:22:39,827 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e2114039-b15e-46d0-aca6-ab7ce57a4b53]: invoking result_received_cb ...
2022-12-07 02:22:39,893 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e2114039-b15e-46d0-aca6-ab7ce57a4b53]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 02:22:39,893 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e2114039-b15e-46d0-aca6-ab7ce57a4b53]: finished processing client result by scatter_and_gather
2022-12-07 02:22:39,924 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670379759 seconds). SubmitUpdate time: 22.897639513015747 seconds
2022-12-07 02:22:39,978 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e2114039-b15e-46d0-aca6-ab7ce57a4b53]: result sent to server for task: name=train, id=e2114039-b15e-46d0-aca6-ab7ce57a4b53
2022-12-07 02:22:39,979 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:22:43,833 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670379763 seconds)
2022-12-07 02:22:43,833 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=177bb66b-6506-4f75-bd33-428609fd585a
2022-12-07 02:22:43,833 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=177bb66b-6506-4f75-bd33-428609fd585a]: invoking result_received_cb ...
2022-12-07 02:22:43,997 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=177bb66b-6506-4f75-bd33-428609fd585a]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 02:22:43,997 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=177bb66b-6506-4f75-bd33-428609fd585a]: finished processing client result by scatter_and_gather
2022-12-07 02:22:44,026 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670379763 seconds). SubmitUpdate time: 22.94718623161316 seconds
2022-12-07 02:22:44,033 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:22:44,072 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=177bb66b-6506-4f75-bd33-428609fd585a]: result sent to server for task: name=train, id=177bb66b-6506-4f75-bd33-428609fd585a
2022-12-07 02:22:44,073 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:22:46,043 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:22:46,140 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:22:48,054 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:22:48,150 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:22:50,063 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:22:50,160 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:22:52,079 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:22:52,171 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:22:54,088 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:22:54,181 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 02:22:54,181 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:22:54,681 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 02:22:54,682 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 52
2022-12-07 02:22:54,756 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 02:22:54,757 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 02:22:55,386 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 02:22:55,387 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 52 finished.
2022-12-07 02:22:55,387 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 53 started.
2022-12-07 02:22:55,388 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 02:22:56,095 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=7870a489-a2e0-48fd-ba59-62b798558cc5]: assigned task to client site-1: name=train, id=7870a489-a2e0-48fd-ba59-62b798558cc5
2022-12-07 02:22:56,096 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=7870a489-a2e0-48fd-ba59-62b798558cc5]: sent task assignment to client
2022-12-07 02:22:56,944 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 02:22:57,370 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=4a484b3b-f01e-4cc7-ab6a-7266d53da418]: assigned task to client site-2: name=train, id=4a484b3b-f01e-4cc7-ab6a-7266d53da418
2022-12-07 02:22:57,372 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=4a484b3b-f01e-4cc7-ab6a-7266d53da418]: sent task assignment to client
2022-12-07 02:22:58,175 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 02:23:19,756 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.663498878479004 seconds
2022-12-07 02:23:19,763 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 02:23:20,191 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=7870a489-a2e0-48fd-ba59-62b798558cc5
2022-12-07 02:23:20,192 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7870a489-a2e0-48fd-ba59-62b798558cc5]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 02:23:20,192 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7870a489-a2e0-48fd-ba59-62b798558cc5]: Client trainer got task: train
2022-12-07 02:23:20,855 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.66896677017212 seconds
2022-12-07 02:23:20,871 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 02:23:21,300 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=4a484b3b-f01e-4cc7-ab6a-7266d53da418
2022-12-07 02:23:21,300 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4a484b3b-f01e-4cc7-ab6a-7266d53da418]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 02:23:21,301 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4a484b3b-f01e-4cc7-ab6a-7266d53da418]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 02:23:42,380 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7870a489-a2e0-48fd-ba59-62b798558cc5]: Accuracy when validating site-1's model on site-1s data: 0.9648730054205511
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 02:23:43,419 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4a484b3b-f01e-4cc7-ab6a-7266d53da418]: Accuracy when validating site-2's model on site-2s data: 0.9658194436913952
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.96      0.96      0.96       222
         eve       0.91      0.92      0.91        96
         geo       0.98      0.98      0.98     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.87      0.87      0.87       116
         org       0.96      0.96      0.96      8377
         per       0.97      0.97      0.97      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.97      0.98      0.97     43021
   macro avg       0.95      0.95      0.95     43021
weighted avg       0.97      0.98      0.97     43021

F1-score: 0.9964313001126136
val 0/1: 
              precision    recall  f1-score   support

         art       0.10      0.05      0.07        19
         eve       0.14      0.19      0.16        16
         geo       0.84      0.86      0.85      1819
         gpe       0.92      0.95      0.94       731
         nat       0.12      0.17      0.14         6
         org       0.69      0.68      0.68       991
         per       0.72      0.79      0.75       907
         tim       0.84      0.83      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.55      0.56      0.55      5343
weighted avg       0.80      0.82      0.81      5343

F1-score: 0.964257381348385
2022-12-07 02:32:22,839 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7870a489-a2e0-48fd-ba59-62b798558cc5]: train:
              precision    recall  f1-score   support

         art       0.96      0.96      0.96       222
         eve       0.91      0.92      0.91        96
         geo       0.98      0.98      0.98     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.87      0.87      0.87       116
         org       0.96      0.96      0.96      8377
         per       0.97      0.97      0.97      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.97      0.98      0.97     43021
   macro avg       0.95      0.95      0.95     43021
weighted avg       0.97      0.98      0.97     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.10      0.05      0.07        19
         eve       0.14      0.19      0.16        16
         geo       0.84      0.86      0.85      1819
         gpe       0.92      0.95      0.94       731
         nat       0.12      0.17      0.14         6
         org       0.69      0.68      0.68       991
         per       0.72      0.79      0.75       907
         tim       0.84      0.83      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.55      0.56      0.55      5343
weighted avg       0.80      0.82      0.81      5343

2022-12-07 02:32:23,130 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 02:32:23,998 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7870a489-a2e0-48fd-ba59-62b798558cc5]: finished processing task
2022-12-07 02:32:23,999 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 02:32:24,807 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      0.96      0.97       176
         eve       0.97      0.97      0.97       117
         geo       0.98      0.98      0.98     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.93      0.93      0.93        95
         org       0.97      0.97      0.97      8238
         per       0.97      0.98      0.97      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.97      0.98      0.98     42624
   macro avg       0.97      0.97      0.97     42624
weighted avg       0.97      0.98      0.98     42624

F1-score: 0.9965418406429553
val 0/1: 
              precision    recall  f1-score   support

         art       0.50      0.20      0.29        45
         eve       0.16      0.23      0.19        13
         geo       0.85      0.87      0.86      1773
         gpe       0.96      0.94      0.95       640
         nat       0.40      0.17      0.24        12
         org       0.69      0.73      0.71      1045
         per       0.77      0.75      0.76       940
         tim       0.86      0.86      0.86       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.65      0.59      0.61      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9652711759592564
2022-12-07 02:32:27,276 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4a484b3b-f01e-4cc7-ab6a-7266d53da418]: train:
              precision    recall  f1-score   support

         art       0.98      0.96      0.97       176
         eve       0.97      0.97      0.97       117
         geo       0.98      0.98      0.98     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.93      0.93      0.93        95
         org       0.97      0.97      0.97      8238
         per       0.97      0.98      0.97      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.97      0.98      0.98     42624
   macro avg       0.97      0.97      0.97     42624
weighted avg       0.97      0.98      0.98     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.50      0.20      0.29        45
         eve       0.16      0.23      0.19        13
         geo       0.85      0.87      0.86      1773
         gpe       0.96      0.94      0.95       640
         nat       0.40      0.17      0.24        12
         org       0.69      0.73      0.71      1045
         per       0.77      0.75      0.76       940
         tim       0.86      0.86      0.86       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.65      0.59      0.61      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-07 02:32:27,696 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 02:32:28,207 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4a484b3b-f01e-4cc7-ab6a-7266d53da418]: finished processing task
2022-12-07 02:32:28,208 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 02:32:28,980 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 02:32:47,489 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670380367 seconds)
2022-12-07 02:32:47,489 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=7870a489-a2e0-48fd-ba59-62b798558cc5
2022-12-07 02:32:47,490 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7870a489-a2e0-48fd-ba59-62b798558cc5]: invoking result_received_cb ...
2022-12-07 02:32:47,556 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7870a489-a2e0-48fd-ba59-62b798558cc5]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 02:32:47,556 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7870a489-a2e0-48fd-ba59-62b798558cc5]: finished processing client result by scatter_and_gather
2022-12-07 02:32:47,581 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670380367 seconds). SubmitUpdate time: 22.774064302444458 seconds
2022-12-07 02:32:47,629 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7870a489-a2e0-48fd-ba59-62b798558cc5]: result sent to server for task: name=train, id=7870a489-a2e0-48fd-ba59-62b798558cc5
2022-12-07 02:32:47,630 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:32:51,702 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670380371 seconds)
2022-12-07 02:32:51,702 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=4a484b3b-f01e-4cc7-ab6a-7266d53da418
2022-12-07 02:32:51,703 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4a484b3b-f01e-4cc7-ab6a-7266d53da418]: invoking result_received_cb ...
2022-12-07 02:32:51,860 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4a484b3b-f01e-4cc7-ab6a-7266d53da418]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 02:32:51,860 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4a484b3b-f01e-4cc7-ab6a-7266d53da418]: finished processing client result by scatter_and_gather
2022-12-07 02:32:51,886 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670380371 seconds). SubmitUpdate time: 22.90623903274536 seconds
2022-12-07 02:32:51,899 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:32:51,930 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4a484b3b-f01e-4cc7-ab6a-7266d53da418]: result sent to server for task: name=train, id=4a484b3b-f01e-4cc7-ab6a-7266d53da418
2022-12-07 02:32:51,930 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:32:53,916 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:32:53,987 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:32:55,925 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:32:55,995 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:32:57,935 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:32:58,005 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:32:59,944 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:33:00,014 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:33:01,953 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:33:02,024 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:33:02,075 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 02:33:02,571 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 02:33:02,571 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 53
2022-12-07 02:33:02,694 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 02:33:02,694 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 02:33:03,596 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 02:33:03,597 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 53 finished.
2022-12-07 02:33:03,598 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 54 started.
2022-12-07 02:33:03,598 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 02:33:03,961 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=cc8d2cea-b633-4861-918c-9337a39d1072]: assigned task to client site-1: name=train, id=cc8d2cea-b633-4861-918c-9337a39d1072
2022-12-07 02:33:03,962 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=cc8d2cea-b633-4861-918c-9337a39d1072]: sent task assignment to client
2022-12-07 02:33:04,776 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 02:33:05,185 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=be2e3bff-4f20-4ae2-a643-7b8ded3c477d]: assigned task to client site-2: name=train, id=be2e3bff-4f20-4ae2-a643-7b8ded3c477d
2022-12-07 02:33:05,186 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=be2e3bff-4f20-4ae2-a643-7b8ded3c477d]: sent task assignment to client
2022-12-07 02:33:05,993 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 02:33:27,544 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.585717916488647 seconds
2022-12-07 02:33:27,575 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 02:33:27,985 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=cc8d2cea-b633-4861-918c-9337a39d1072
2022-12-07 02:33:27,985 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cc8d2cea-b633-4861-918c-9337a39d1072]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 02:33:27,985 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cc8d2cea-b633-4861-918c-9337a39d1072]: Client trainer got task: train
2022-12-07 02:33:28,854 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.824184894561768 seconds
2022-12-07 02:33:28,884 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 02:33:29,293 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=be2e3bff-4f20-4ae2-a643-7b8ded3c477d
2022-12-07 02:33:29,294 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=be2e3bff-4f20-4ae2-a643-7b8ded3c477d]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 02:33:29,294 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=be2e3bff-4f20-4ae2-a643-7b8ded3c477d]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 02:33:50,172 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cc8d2cea-b633-4861-918c-9337a39d1072]: Accuracy when validating site-1's model on site-1s data: 0.9650948564988544
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 02:33:51,390 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=be2e3bff-4f20-4ae2-a643-7b8ded3c477d]: Accuracy when validating site-2's model on site-2s data: 0.9665809475449009
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.97      0.95      0.96       222
         eve       0.89      0.91      0.90        96
         geo       0.98      0.98      0.98     14594
         gpe       0.99      0.98      0.99      5584
         nat       0.92      0.93      0.92       116
         org       0.96      0.97      0.97      8377
         per       0.97      0.98      0.97      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.97      0.98      0.98     43021
   macro avg       0.96      0.96      0.96     43021
weighted avg       0.97      0.98      0.98     43021

F1-score: 0.996445766099685
val 0/1: 
              precision    recall  f1-score   support

         art       0.08      0.11      0.09        19
         eve       0.09      0.12      0.10        16
         geo       0.85      0.85      0.85      1819
         gpe       0.95      0.94      0.94       731
         nat       0.20      0.17      0.18         6
         org       0.69      0.69      0.69       991
         per       0.73      0.80      0.76       907
         tim       0.86      0.83      0.84       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.55      0.56      0.56      5343
weighted avg       0.81      0.81      0.81      5343

F1-score: 0.964542771735407
2022-12-07 02:42:27,148 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cc8d2cea-b633-4861-918c-9337a39d1072]: train:
              precision    recall  f1-score   support

         art       0.97      0.95      0.96       222
         eve       0.89      0.91      0.90        96
         geo       0.98      0.98      0.98     14594
         gpe       0.99      0.98      0.99      5584
         nat       0.92      0.93      0.92       116
         org       0.96      0.97      0.97      8377
         per       0.97      0.98      0.97      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.97      0.98      0.98     43021
   macro avg       0.96      0.96      0.96     43021
weighted avg       0.97      0.98      0.98     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.08      0.11      0.09        19
         eve       0.09      0.12      0.10        16
         geo       0.85      0.85      0.85      1819
         gpe       0.95      0.94      0.94       731
         nat       0.20      0.17      0.18         6
         org       0.69      0.69      0.69       991
         per       0.73      0.80      0.76       907
         tim       0.86      0.83      0.84       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.55      0.56      0.56      5343
weighted avg       0.81      0.81      0.81      5343

2022-12-07 02:42:27,899 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 02:42:28,269 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cc8d2cea-b633-4861-918c-9337a39d1072]: finished processing task
2022-12-07 02:42:28,275 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 02:42:29,088 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.95      0.94      0.95       176
         eve       0.89      0.92      0.90       117
         geo       0.98      0.98      0.98     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.93      0.96      0.94        95
         org       0.97      0.97      0.97      8238
         per       0.97      0.98      0.98      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.98      0.98      0.98     42624
   macro avg       0.96      0.96      0.96     42624
weighted avg       0.98      0.98      0.98     42624

F1-score: 0.9967873437143948
val 0/1: 
              precision    recall  f1-score   support

         art       0.56      0.22      0.32        45
         eve       0.24      0.31      0.27        13
         geo       0.84      0.89      0.86      1773
         gpe       0.96      0.94      0.95       640
         nat       0.33      0.08      0.13        12
         org       0.71      0.71      0.71      1045
         per       0.76      0.78      0.77       940
         tim       0.85      0.84      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.66      0.60      0.61      5327
weighted avg       0.81      0.82      0.82      5327

F1-score: 0.9656822803472858
2022-12-07 02:42:33,436 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=be2e3bff-4f20-4ae2-a643-7b8ded3c477d]: train:
              precision    recall  f1-score   support

         art       0.95      0.94      0.95       176
         eve       0.89      0.92      0.90       117
         geo       0.98      0.98      0.98     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.93      0.96      0.94        95
         org       0.97      0.97      0.97      8238
         per       0.97      0.98      0.98      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.98      0.98      0.98     42624
   macro avg       0.96      0.96      0.96     42624
weighted avg       0.98      0.98      0.98     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.56      0.22      0.32        45
         eve       0.24      0.31      0.27        13
         geo       0.84      0.89      0.86      1773
         gpe       0.96      0.94      0.95       640
         nat       0.33      0.08      0.13        12
         org       0.71      0.71      0.71      1045
         per       0.76      0.78      0.77       940
         tim       0.85      0.84      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.66      0.60      0.61      5327
weighted avg       0.81      0.82      0.82      5327

2022-12-07 02:42:34,266 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 02:42:34,366 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=be2e3bff-4f20-4ae2-a643-7b8ded3c477d]: finished processing task
2022-12-07 02:42:34,367 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 02:42:35,146 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 02:42:51,797 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670380971 seconds)
2022-12-07 02:42:51,797 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=cc8d2cea-b633-4861-918c-9337a39d1072
2022-12-07 02:42:51,798 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cc8d2cea-b633-4861-918c-9337a39d1072]: invoking result_received_cb ...
2022-12-07 02:42:51,864 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cc8d2cea-b633-4861-918c-9337a39d1072]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 02:42:51,865 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=cc8d2cea-b633-4861-918c-9337a39d1072]: finished processing client result by scatter_and_gather
2022-12-07 02:42:51,892 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670380971 seconds). SubmitUpdate time: 22.804290771484375 seconds
2022-12-07 02:42:51,937 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=cc8d2cea-b633-4861-918c-9337a39d1072]: result sent to server for task: name=train, id=cc8d2cea-b633-4861-918c-9337a39d1072
2022-12-07 02:42:51,938 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:42:53,999 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:42:57,843 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670380977 seconds)
2022-12-07 02:42:57,844 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=be2e3bff-4f20-4ae2-a643-7b8ded3c477d
2022-12-07 02:42:57,844 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=be2e3bff-4f20-4ae2-a643-7b8ded3c477d]: invoking result_received_cb ...
2022-12-07 02:42:57,999 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=be2e3bff-4f20-4ae2-a643-7b8ded3c477d]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 02:42:57,999 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=be2e3bff-4f20-4ae2-a643-7b8ded3c477d]: finished processing client result by scatter_and_gather
2022-12-07 02:42:58,003 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:42:58,030 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670380977 seconds). SubmitUpdate time: 22.88472843170166 seconds
2022-12-07 02:42:58,061 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=be2e3bff-4f20-4ae2-a643-7b8ded3c477d]: result sent to server for task: name=train, id=be2e3bff-4f20-4ae2-a643-7b8ded3c477d
2022-12-07 02:42:58,062 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:43:00,036 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:43:00,131 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:43:02,045 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:43:02,141 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:43:04,061 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:43:04,151 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:43:06,072 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:43:06,179 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:43:08,083 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:43:08,188 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:43:08,201 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 02:43:08,699 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 02:43:08,700 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 54
2022-12-07 02:43:08,778 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 02:43:08,778 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 02:43:09,478 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 02:43:09,478 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 54 finished.
2022-12-07 02:43:09,478 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 55 started.
2022-12-07 02:43:09,479 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 02:43:10,091 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=99e52645-818f-4f6a-b80b-c46ad2cf0e55]: assigned task to client site-1: name=train, id=99e52645-818f-4f6a-b80b-c46ad2cf0e55
2022-12-07 02:43:10,092 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=99e52645-818f-4f6a-b80b-c46ad2cf0e55]: sent task assignment to client
2022-12-07 02:43:10,909 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 02:43:11,319 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=782a76f9-bdff-4b28-a0c0-d6131b52dca4]: assigned task to client site-2: name=train, id=782a76f9-bdff-4b28-a0c0-d6131b52dca4
2022-12-07 02:43:11,320 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=782a76f9-bdff-4b28-a0c0-d6131b52dca4]: sent task assignment to client
2022-12-07 02:43:12,135 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 02:43:33,696 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.607542276382446 seconds
2022-12-07 02:43:33,712 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 02:43:34,113 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=99e52645-818f-4f6a-b80b-c46ad2cf0e55
2022-12-07 02:43:34,113 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=99e52645-818f-4f6a-b80b-c46ad2cf0e55]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 02:43:34,114 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=99e52645-818f-4f6a-b80b-c46ad2cf0e55]: Client trainer got task: train
2022-12-07 02:43:34,928 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.73399066925049 seconds
2022-12-07 02:43:34,940 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 02:43:35,341 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=782a76f9-bdff-4b28-a0c0-d6131b52dca4
2022-12-07 02:43:35,342 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=782a76f9-bdff-4b28-a0c0-d6131b52dca4]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 02:43:35,342 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=782a76f9-bdff-4b28-a0c0-d6131b52dca4]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 02:43:56,310 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=99e52645-818f-4f6a-b80b-c46ad2cf0e55]: Accuracy when validating site-1's model on site-1s data: 0.9655081489402557
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 02:43:57,455 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=782a76f9-bdff-4b28-a0c0-d6131b52dca4]: Accuracy when validating site-2's model on site-2s data: 0.966744615893325
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.96      0.98      0.97       222
         eve       0.90      0.92      0.91        96
         geo       0.98      0.98      0.98     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.92      0.91      0.92       116
         org       0.96      0.97      0.97      8377
         per       0.97      0.98      0.97      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.98      0.98      0.98     43021
   macro avg       0.96      0.96      0.96     43021
weighted avg       0.98      0.98      0.98     43021

F1-score: 0.996659669410615
val 0/1: 
              precision    recall  f1-score   support

         art       0.07      0.05      0.06        19
         eve       0.16      0.19      0.17        16
         geo       0.83      0.86      0.85      1819
         gpe       0.93      0.94      0.93       731
         nat       0.17      0.17      0.17         6
         org       0.70      0.67      0.68       991
         per       0.73      0.78      0.76       907
         tim       0.85      0.83      0.84       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.55      0.56      0.56      5343
weighted avg       0.80      0.81      0.81      5343

F1-score: 0.9643232557397933
2022-12-07 02:52:36,585 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=99e52645-818f-4f6a-b80b-c46ad2cf0e55]: train:
              precision    recall  f1-score   support

         art       0.96      0.98      0.97       222
         eve       0.90      0.92      0.91        96
         geo       0.98      0.98      0.98     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.92      0.91      0.92       116
         org       0.96      0.97      0.97      8377
         per       0.97      0.98      0.97      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.98      0.98      0.98     43021
   macro avg       0.96      0.96      0.96     43021
weighted avg       0.98      0.98      0.98     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.07      0.05      0.06        19
         eve       0.16      0.19      0.17        16
         geo       0.83      0.86      0.85      1819
         gpe       0.93      0.94      0.93       731
         nat       0.17      0.17      0.17         6
         org       0.70      0.67      0.68       991
         per       0.73      0.78      0.76       907
         tim       0.85      0.83      0.84       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.55      0.56      0.56      5343
weighted avg       0.80      0.81      0.81      5343

2022-12-07 02:52:37,282 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 02:52:37,720 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=99e52645-818f-4f6a-b80b-c46ad2cf0e55]: finished processing task
2022-12-07 02:52:37,721 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 02:52:38,521 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.94      0.94      0.94       176
         eve       0.88      0.91      0.89       117
         geo       0.98      0.98      0.98     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.92      0.91      0.91        95
         org       0.97      0.97      0.97      8238
         per       0.97      0.98      0.98      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.98      0.98      0.98     42624
   macro avg       0.95      0.96      0.96     42624
weighted avg       0.98      0.98      0.98     42624

F1-score: 0.9968963064012709
val 0/1: 
              precision    recall  f1-score   support

         art       0.54      0.29      0.38        45
         eve       0.25      0.38      0.30        13
         geo       0.84      0.88      0.86      1773
         gpe       0.94      0.93      0.94       640
         nat       0.12      0.08      0.10        12
         org       0.68      0.76      0.72      1045
         per       0.79      0.72      0.75       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.63      0.61      0.61      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9646434229003743
2022-12-07 02:52:39,929 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=782a76f9-bdff-4b28-a0c0-d6131b52dca4]: train:
              precision    recall  f1-score   support

         art       0.94      0.94      0.94       176
         eve       0.88      0.91      0.89       117
         geo       0.98      0.98      0.98     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.92      0.91      0.91        95
         org       0.97      0.97      0.97      8238
         per       0.97      0.98      0.98      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.98      0.98      0.98     42624
   macro avg       0.95      0.96      0.96     42624
weighted avg       0.98      0.98      0.98     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.54      0.29      0.38        45
         eve       0.25      0.38      0.30        13
         geo       0.84      0.88      0.86      1773
         gpe       0.94      0.93      0.94       640
         nat       0.12      0.08      0.10        12
         org       0.68      0.76      0.72      1045
         per       0.79      0.72      0.75       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.63      0.61      0.61      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-07 02:52:40,773 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 02:52:40,862 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=782a76f9-bdff-4b28-a0c0-d6131b52dca4]: finished processing task
2022-12-07 02:52:40,863 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 02:52:41,661 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 02:53:01,223 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670381581 seconds)
2022-12-07 02:53:01,223 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=99e52645-818f-4f6a-b80b-c46ad2cf0e55
2022-12-07 02:53:01,224 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=99e52645-818f-4f6a-b80b-c46ad2cf0e55]: invoking result_received_cb ...
2022-12-07 02:53:01,293 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=99e52645-818f-4f6a-b80b-c46ad2cf0e55]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 02:53:01,293 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=99e52645-818f-4f6a-b80b-c46ad2cf0e55]: finished processing client result by scatter_and_gather
2022-12-07 02:53:01,325 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670381581 seconds). SubmitUpdate time: 22.804015398025513 seconds
2022-12-07 02:53:01,361 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=99e52645-818f-4f6a-b80b-c46ad2cf0e55]: result sent to server for task: name=train, id=99e52645-818f-4f6a-b80b-c46ad2cf0e55
2022-12-07 02:53:01,361 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:53:04,460 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670381584 seconds)
2022-12-07 02:53:04,461 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=782a76f9-bdff-4b28-a0c0-d6131b52dca4
2022-12-07 02:53:04,461 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=782a76f9-bdff-4b28-a0c0-d6131b52dca4]: invoking result_received_cb ...
2022-12-07 02:53:04,620 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=782a76f9-bdff-4b28-a0c0-d6131b52dca4]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 02:53:04,620 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=782a76f9-bdff-4b28-a0c0-d6131b52dca4]: finished processing client result by scatter_and_gather
2022-12-07 02:53:04,651 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670381584 seconds). SubmitUpdate time: 22.990825414657593 seconds
2022-12-07 02:53:04,658 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:53:04,689 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=782a76f9-bdff-4b28-a0c0-d6131b52dca4]: result sent to server for task: name=train, id=782a76f9-bdff-4b28-a0c0-d6131b52dca4
2022-12-07 02:53:04,690 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:53:06,668 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:53:06,755 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:53:08,678 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:53:08,765 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:53:10,686 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:53:10,776 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:53:12,697 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:53:12,786 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:53:14,705 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 02:53:14,794 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 02:53:14,816 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 02:53:15,315 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 02:53:15,316 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 55
2022-12-07 02:53:15,434 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 02:53:15,435 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 02:53:16,297 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 02:53:16,298 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 55 finished.
2022-12-07 02:53:16,298 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 56 started.
2022-12-07 02:53:16,299 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 02:53:16,713 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=9e6238af-c4a3-4f0d-8d23-dbde6ce34c5b]: assigned task to client site-1: name=train, id=9e6238af-c4a3-4f0d-8d23-dbde6ce34c5b
2022-12-07 02:53:16,714 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=9e6238af-c4a3-4f0d-8d23-dbde6ce34c5b]: sent task assignment to client
2022-12-07 02:53:17,538 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 02:53:17,957 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=67df2138-9f6e-41d1-adc2-ce4c7c00564d]: assigned task to client site-2: name=train, id=67df2138-9f6e-41d1-adc2-ce4c7c00564d
2022-12-07 02:53:17,959 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=67df2138-9f6e-41d1-adc2-ce4c7c00564d]: sent task assignment to client
2022-12-07 02:53:18,781 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 02:53:40,328 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.616893768310547 seconds
2022-12-07 02:53:40,358 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 02:53:40,792 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=9e6238af-c4a3-4f0d-8d23-dbde6ce34c5b
2022-12-07 02:53:40,792 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9e6238af-c4a3-4f0d-8d23-dbde6ce34c5b]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 02:53:40,793 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9e6238af-c4a3-4f0d-8d23-dbde6ce34c5b]: Client trainer got task: train
2022-12-07 02:53:41,607 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.808285236358643 seconds
2022-12-07 02:53:41,624 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 02:53:42,029 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=67df2138-9f6e-41d1-adc2-ce4c7c00564d
2022-12-07 02:53:42,029 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=67df2138-9f6e-41d1-adc2-ce4c7c00564d]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 02:53:42,030 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=67df2138-9f6e-41d1-adc2-ce4c7c00564d]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 02:54:02,991 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9e6238af-c4a3-4f0d-8d23-dbde6ce34c5b]: Accuracy when validating site-1's model on site-1s data: 0.964574667994225
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 02:54:04,180 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=67df2138-9f6e-41d1-adc2-ce4c7c00564d]: Accuracy when validating site-2's model on site-2s data: 0.9667188868545912
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.96      0.98      0.97       222
         eve       0.92      0.93      0.92        96
         geo       0.98      0.98      0.98     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.96      0.92      0.94       116
         org       0.97      0.97      0.97      8377
         per       0.98      0.98      0.98      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.98      0.98      0.98     43021
   macro avg       0.97      0.97      0.97     43021
weighted avg       0.98      0.98      0.98     43021

F1-score: 0.9971427270243625
val 0/1: 
              precision    recall  f1-score   support

         art       0.09      0.05      0.07        19
         eve       0.15      0.19      0.17        16
         geo       0.85      0.87      0.86      1819
         gpe       0.94      0.95      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.70      0.68      0.69       991
         per       0.74      0.78      0.76       907
         tim       0.84      0.82      0.83       854

   micro avg       0.81      0.82      0.81      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.81      0.82      0.81      5343

F1-score: 0.9649647989332043
2022-12-07 03:02:42,133 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9e6238af-c4a3-4f0d-8d23-dbde6ce34c5b]: train:
              precision    recall  f1-score   support

         art       0.96      0.98      0.97       222
         eve       0.92      0.93      0.92        96
         geo       0.98      0.98      0.98     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.96      0.92      0.94       116
         org       0.97      0.97      0.97      8377
         per       0.98      0.98      0.98      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.98      0.98      0.98     43021
   macro avg       0.97      0.97      0.97     43021
weighted avg       0.98      0.98      0.98     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.09      0.05      0.07        19
         eve       0.15      0.19      0.17        16
         geo       0.85      0.87      0.86      1819
         gpe       0.94      0.95      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.70      0.68      0.69       991
         per       0.74      0.78      0.76       907
         tim       0.84      0.82      0.83       854

   micro avg       0.81      0.82      0.81      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.81      0.82      0.81      5343

2022-12-07 03:02:42,705 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 03:02:43,086 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9e6238af-c4a3-4f0d-8d23-dbde6ce34c5b]: finished processing task
2022-12-07 03:02:43,088 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 03:02:43,896 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.94      0.97      0.96       176
         eve       0.94      0.94      0.94       117
         geo       0.98      0.98      0.98     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.94      0.94      0.94        95
         org       0.96      0.97      0.96      8238
         per       0.97      0.97      0.97      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.97      0.98      0.98     42624
   macro avg       0.96      0.97      0.96     42624
weighted avg       0.97      0.98      0.98     42624

F1-score: 0.9967494571653573
val 0/1: 
              precision    recall  f1-score   support

         art       0.42      0.31      0.36        45
         eve       0.28      0.38      0.32        13
         geo       0.83      0.90      0.86      1773
         gpe       0.94      0.94      0.94       640
         nat       0.25      0.08      0.12        12
         org       0.73      0.71      0.72      1045
         per       0.78      0.75      0.76       940
         tim       0.86      0.85      0.86       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.64      0.62      0.62      5327
weighted avg       0.81      0.82      0.82      5327

F1-score: 0.9656624636682387
2022-12-07 03:02:47,344 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=67df2138-9f6e-41d1-adc2-ce4c7c00564d]: train:
              precision    recall  f1-score   support

         art       0.94      0.97      0.96       176
         eve       0.94      0.94      0.94       117
         geo       0.98      0.98      0.98     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.94      0.94      0.94        95
         org       0.96      0.97      0.96      8238
         per       0.97      0.97      0.97      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.97      0.98      0.98     42624
   macro avg       0.96      0.97      0.96     42624
weighted avg       0.97      0.98      0.98     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.42      0.31      0.36        45
         eve       0.28      0.38      0.32        13
         geo       0.83      0.90      0.86      1773
         gpe       0.94      0.94      0.94       640
         nat       0.25      0.08      0.12        12
         org       0.73      0.71      0.72      1045
         per       0.78      0.75      0.76       940
         tim       0.86      0.85      0.86       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.64      0.62      0.62      5327
weighted avg       0.81      0.82      0.82      5327

2022-12-07 03:02:48,183 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 03:02:48,517 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=67df2138-9f6e-41d1-adc2-ce4c7c00564d]: finished processing task
2022-12-07 03:02:48,519 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 03:02:49,295 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 03:03:06,803 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670382186 seconds)
2022-12-07 03:03:06,803 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=9e6238af-c4a3-4f0d-8d23-dbde6ce34c5b
2022-12-07 03:03:06,804 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9e6238af-c4a3-4f0d-8d23-dbde6ce34c5b]: invoking result_received_cb ...
2022-12-07 03:03:06,870 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9e6238af-c4a3-4f0d-8d23-dbde6ce34c5b]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 03:03:06,870 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9e6238af-c4a3-4f0d-8d23-dbde6ce34c5b]: finished processing client result by scatter_and_gather
2022-12-07 03:03:06,900 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670382186 seconds). SubmitUpdate time: 23.004038333892822 seconds
2022-12-07 03:03:06,923 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9e6238af-c4a3-4f0d-8d23-dbde6ce34c5b]: result sent to server for task: name=train, id=9e6238af-c4a3-4f0d-8d23-dbde6ce34c5b
2022-12-07 03:03:06,924 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:03:12,022 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670382192 seconds)
2022-12-07 03:03:12,022 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=67df2138-9f6e-41d1-adc2-ce4c7c00564d
2022-12-07 03:03:12,023 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=67df2138-9f6e-41d1-adc2-ce4c7c00564d]: invoking result_received_cb ...
2022-12-07 03:03:12,180 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=67df2138-9f6e-41d1-adc2-ce4c7c00564d]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 03:03:12,180 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=67df2138-9f6e-41d1-adc2-ce4c7c00564d]: finished processing client result by scatter_and_gather
2022-12-07 03:03:12,214 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670382192 seconds). SubmitUpdate time: 22.91923713684082 seconds
2022-12-07 03:03:12,214 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:03:12,250 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=67df2138-9f6e-41d1-adc2-ce4c7c00564d]: result sent to server for task: name=train, id=67df2138-9f6e-41d1-adc2-ce4c7c00564d
2022-12-07 03:03:12,251 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:03:14,224 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:03:14,318 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:03:16,234 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:03:16,336 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:03:18,243 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:03:18,345 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:03:20,253 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:03:20,355 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:03:22,268 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:03:22,365 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:03:22,391 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 03:03:22,891 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 03:03:22,891 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 56
2022-12-07 03:03:22,962 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 03:03:22,962 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 03:03:23,966 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 03:03:23,966 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 56 finished.
2022-12-07 03:03:23,966 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 57 started.
2022-12-07 03:03:23,966 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 03:03:24,275 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=0bc99e00-baa5-484a-b943-8b540bafc82c]: assigned task to client site-1: name=train, id=0bc99e00-baa5-484a-b943-8b540bafc82c
2022-12-07 03:03:24,276 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=0bc99e00-baa5-484a-b943-8b540bafc82c]: sent task assignment to client
2022-12-07 03:03:25,137 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 03:03:25,561 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=34614693-4d94-4c7e-93e5-abcdf70d86f0]: assigned task to client site-2: name=train, id=34614693-4d94-4c7e-93e5-abcdf70d86f0
2022-12-07 03:03:25,562 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=34614693-4d94-4c7e-93e5-abcdf70d86f0]: sent task assignment to client
2022-12-07 03:03:26,382 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 03:03:47,823 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.550175666809082 seconds
2022-12-07 03:03:47,840 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 03:03:48,252 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=0bc99e00-baa5-484a-b943-8b540bafc82c
2022-12-07 03:03:48,252 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0bc99e00-baa5-484a-b943-8b540bafc82c]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 03:03:48,252 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0bc99e00-baa5-484a-b943-8b540bafc82c]: Client trainer got task: train
2022-12-07 03:03:49,293 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.92254400253296 seconds
2022-12-07 03:03:49,312 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 03:03:49,748 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=34614693-4d94-4c7e-93e5-abcdf70d86f0
2022-12-07 03:03:49,748 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=34614693-4d94-4c7e-93e5-abcdf70d86f0]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 03:03:49,748 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=34614693-4d94-4c7e-93e5-abcdf70d86f0]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 03:04:10,441 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0bc99e00-baa5-484a-b943-8b540bafc82c]: Accuracy when validating site-1's model on site-1s data: 0.9651169882832751
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 03:04:11,828 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=34614693-4d94-4c7e-93e5-abcdf70d86f0]: Accuracy when validating site-2's model on site-2s data: 0.9666383733051889
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.95      0.94      0.94       222
         eve       0.92      0.93      0.92        96
         geo       0.98      0.98      0.98     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.89      0.90      0.89       116
         org       0.97      0.97      0.97      8377
         per       0.98      0.98      0.98      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.98      0.98      0.98     43021
   macro avg       0.96      0.96      0.96     43021
weighted avg       0.98      0.98      0.98     43021

F1-score: 0.997053670389338
val 0/1: 
              precision    recall  f1-score   support

         art       0.12      0.11      0.11        19
         eve       0.12      0.19      0.15        16
         geo       0.83      0.88      0.86      1819
         gpe       0.94      0.94      0.94       731
         nat       0.50      0.17      0.25         6
         org       0.71      0.66      0.69       991
         per       0.72      0.80      0.76       907
         tim       0.83      0.83      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.60      0.57      0.57      5343
weighted avg       0.80      0.82      0.81      5343

F1-score: 0.9646007169332248
2022-12-07 03:12:51,542 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0bc99e00-baa5-484a-b943-8b540bafc82c]: train:
              precision    recall  f1-score   support

         art       0.95      0.94      0.94       222
         eve       0.92      0.93      0.92        96
         geo       0.98      0.98      0.98     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.89      0.90      0.89       116
         org       0.97      0.97      0.97      8377
         per       0.98      0.98      0.98      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.98      0.98      0.98     43021
   macro avg       0.96      0.96      0.96     43021
weighted avg       0.98      0.98      0.98     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.12      0.11      0.11        19
         eve       0.12      0.19      0.15        16
         geo       0.83      0.88      0.86      1819
         gpe       0.94      0.94      0.94       731
         nat       0.50      0.17      0.25         6
         org       0.71      0.66      0.69       991
         per       0.72      0.80      0.76       907
         tim       0.83      0.83      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.60      0.57      0.57      5343
weighted avg       0.80      0.82      0.81      5343

2022-12-07 03:12:52,190 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 03:12:52,467 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0bc99e00-baa5-484a-b943-8b540bafc82c]: finished processing task
2022-12-07 03:12:52,469 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 03:12:53,271 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      0.94      0.96       176
         eve       0.94      0.97      0.96       117
         geo       0.98      0.98      0.98     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.96      0.95      0.95        95
         org       0.97      0.97      0.97      8238
         per       0.97      0.97      0.97      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.98      0.98      0.98     42624
   macro avg       0.97      0.97      0.97     42624
weighted avg       0.98      0.98      0.98     42624

F1-score: 0.9966706424146985
val 0/1: 
              precision    recall  f1-score   support

         art       0.56      0.20      0.30        45
         eve       0.31      0.38      0.34        13
         geo       0.84      0.89      0.86      1773
         gpe       0.96      0.93      0.95       640
         nat       0.00      0.00      0.00        12
         org       0.67      0.74      0.70      1045
         per       0.78      0.74      0.76       940
         tim       0.87      0.85      0.86       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.62      0.59      0.60      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9655356268705859
2022-12-07 03:12:53,925 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=34614693-4d94-4c7e-93e5-abcdf70d86f0]: train:
              precision    recall  f1-score   support

         art       0.98      0.94      0.96       176
         eve       0.94      0.97      0.96       117
         geo       0.98      0.98      0.98     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.96      0.95      0.95        95
         org       0.97      0.97      0.97      8238
         per       0.97      0.97      0.97      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.98      0.98      0.98     42624
   macro avg       0.97      0.97      0.97     42624
weighted avg       0.98      0.98      0.98     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.56      0.20      0.30        45
         eve       0.31      0.38      0.34        13
         geo       0.84      0.89      0.86      1773
         gpe       0.96      0.93      0.95       640
         nat       0.00      0.00      0.00        12
         org       0.67      0.74      0.70      1045
         per       0.78      0.74      0.76       940
         tim       0.87      0.85      0.86       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.62      0.59      0.60      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-07 03:12:54,651 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 03:12:54,806 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=34614693-4d94-4c7e-93e5-abcdf70d86f0]: finished processing task
2022-12-07 03:12:54,807 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 03:12:55,600 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 03:13:16,210 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670382796 seconds)
2022-12-07 03:13:16,210 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=0bc99e00-baa5-484a-b943-8b540bafc82c
2022-12-07 03:13:16,211 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0bc99e00-baa5-484a-b943-8b540bafc82c]: invoking result_received_cb ...
2022-12-07 03:13:16,284 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0bc99e00-baa5-484a-b943-8b540bafc82c]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 03:13:16,284 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0bc99e00-baa5-484a-b943-8b540bafc82c]: finished processing client result by scatter_and_gather
2022-12-07 03:13:16,313 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670382796 seconds). SubmitUpdate time: 23.042080640792847 seconds
2022-12-07 03:13:16,353 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0bc99e00-baa5-484a-b943-8b540bafc82c]: result sent to server for task: name=train, id=0bc99e00-baa5-484a-b943-8b540bafc82c
2022-12-07 03:13:16,354 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:13:19,422 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670382799 seconds)
2022-12-07 03:13:19,423 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=34614693-4d94-4c7e-93e5-abcdf70d86f0
2022-12-07 03:13:19,423 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=34614693-4d94-4c7e-93e5-abcdf70d86f0]: invoking result_received_cb ...
2022-12-07 03:13:19,586 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=34614693-4d94-4c7e-93e5-abcdf70d86f0]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 03:13:19,586 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=34614693-4d94-4c7e-93e5-abcdf70d86f0]: finished processing client result by scatter_and_gather
2022-12-07 03:13:19,623 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670382799 seconds). SubmitUpdate time: 24.022894382476807 seconds
2022-12-07 03:13:19,629 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:13:19,667 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=34614693-4d94-4c7e-93e5-abcdf70d86f0]: result sent to server for task: name=train, id=34614693-4d94-4c7e-93e5-abcdf70d86f0
2022-12-07 03:13:19,667 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:13:21,640 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:13:21,734 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:13:23,649 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:13:23,745 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:13:25,659 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:13:25,753 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:13:27,669 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:13:27,762 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:13:29,678 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:13:29,768 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 03:13:29,772 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:13:30,268 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 03:13:30,269 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 57
2022-12-07 03:13:30,386 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 03:13:30,387 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 03:13:31,378 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 03:13:31,378 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 57 finished.
2022-12-07 03:13:31,378 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 58 started.
2022-12-07 03:13:31,379 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 03:13:31,685 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=57dff529-48c5-4f4f-acdb-9d721c17e4e2]: assigned task to client site-1: name=train, id=57dff529-48c5-4f4f-acdb-9d721c17e4e2
2022-12-07 03:13:31,686 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=57dff529-48c5-4f4f-acdb-9d721c17e4e2]: sent task assignment to client
2022-12-07 03:13:32,511 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 03:13:32,932 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=310e1182-5cec-4bb8-8135-376e2d7b7790]: assigned task to client site-2: name=train, id=310e1182-5cec-4bb8-8135-376e2d7b7790
2022-12-07 03:13:32,932 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=310e1182-5cec-4bb8-8135-376e2d7b7790]: sent task assignment to client
2022-12-07 03:13:33,738 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 03:13:55,221 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.53796100616455 seconds
2022-12-07 03:13:55,263 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 03:13:55,672 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=57dff529-48c5-4f4f-acdb-9d721c17e4e2
2022-12-07 03:13:55,672 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=57dff529-48c5-4f4f-acdb-9d721c17e4e2]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 03:13:55,672 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=57dff529-48c5-4f4f-acdb-9d721c17e4e2]: Client trainer got task: train
2022-12-07 03:13:56,661 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.885929584503174 seconds
2022-12-07 03:13:56,668 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 03:13:57,107 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=310e1182-5cec-4bb8-8135-376e2d7b7790
2022-12-07 03:13:57,107 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=310e1182-5cec-4bb8-8135-376e2d7b7790]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 03:13:57,107 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=310e1182-5cec-4bb8-8135-376e2d7b7790]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 03:14:17,883 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=57dff529-48c5-4f4f-acdb-9d721c17e4e2]: Accuracy when validating site-1's model on site-1s data: 0.9652025774428677
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 03:14:19,216 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=310e1182-5cec-4bb8-8135-376e2d7b7790]: Accuracy when validating site-2's model on site-2s data: 0.9666556381922125
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.98      0.98       222
         eve       0.89      0.92      0.90        96
         geo       0.98      0.98      0.98     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.93      0.93      0.93       116
         org       0.97      0.97      0.97      8377
         per       0.98      0.98      0.98      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.98      0.98      0.98     43021
   macro avg       0.96      0.97      0.96     43021
weighted avg       0.98      0.98      0.98     43021

F1-score: 0.9971415532749275
val 0/1: 
              precision    recall  f1-score   support

         art       0.06      0.05      0.05        19
         eve       0.19      0.19      0.19        16
         geo       0.84      0.88      0.86      1819
         gpe       0.94      0.95      0.94       731
         nat       0.33      0.17      0.22         6
         org       0.72      0.66      0.69       991
         per       0.72      0.79      0.75       907
         tim       0.85      0.82      0.83       854

   micro avg       0.81      0.82      0.81      5343
   macro avg       0.58      0.56      0.57      5343
weighted avg       0.81      0.82      0.81      5343

F1-score: 0.965155600692515
2022-12-07 03:22:57,038 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=57dff529-48c5-4f4f-acdb-9d721c17e4e2]: train:
              precision    recall  f1-score   support

         art       0.99      0.98      0.98       222
         eve       0.89      0.92      0.90        96
         geo       0.98      0.98      0.98     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.93      0.93      0.93       116
         org       0.97      0.97      0.97      8377
         per       0.98      0.98      0.98      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.98      0.98      0.98     43021
   macro avg       0.96      0.97      0.96     43021
weighted avg       0.98      0.98      0.98     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.06      0.05      0.05        19
         eve       0.19      0.19      0.19        16
         geo       0.84      0.88      0.86      1819
         gpe       0.94      0.95      0.94       731
         nat       0.33      0.17      0.22         6
         org       0.72      0.66      0.69       991
         per       0.72      0.79      0.75       907
         tim       0.85      0.82      0.83       854

   micro avg       0.81      0.82      0.81      5343
   macro avg       0.58      0.56      0.57      5343
weighted avg       0.81      0.82      0.81      5343

2022-12-07 03:22:57,594 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 03:22:58,316 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=57dff529-48c5-4f4f-acdb-9d721c17e4e2]: finished processing task
2022-12-07 03:22:58,317 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 03:22:59,120 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.97      0.97      0.97       176
         eve       0.93      0.97      0.95       117
         geo       0.98      0.98      0.98     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.96      0.93      0.94        95
         org       0.96      0.97      0.97      8238
         per       0.97      0.98      0.97      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.98      0.98      0.98     42624
   macro avg       0.97      0.97      0.97     42624
weighted avg       0.98      0.98      0.98     42624

F1-score: 0.9969390963193365
val 0/1: 
              precision    recall  f1-score   support

         art       0.62      0.22      0.33        45
         eve       0.29      0.31      0.30        13
         geo       0.84      0.88      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.70      0.73      0.71      1045
         per       0.78      0.76      0.77       940
         tim       0.85      0.86      0.86       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.65      0.60      0.61      5327
weighted avg       0.81      0.82      0.82      5327

F1-score: 0.9661588573204581
2022-12-07 03:23:02,509 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=310e1182-5cec-4bb8-8135-376e2d7b7790]: train:
              precision    recall  f1-score   support

         art       0.97      0.97      0.97       176
         eve       0.93      0.97      0.95       117
         geo       0.98      0.98      0.98     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.96      0.93      0.94        95
         org       0.96      0.97      0.97      8238
         per       0.97      0.98      0.97      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.98      0.98      0.98     42624
   macro avg       0.97      0.97      0.97     42624
weighted avg       0.98      0.98      0.98     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.62      0.22      0.33        45
         eve       0.29      0.31      0.30        13
         geo       0.84      0.88      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.70      0.73      0.71      1045
         per       0.78      0.76      0.77       940
         tim       0.85      0.86      0.86       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.65      0.60      0.61      5327
weighted avg       0.81      0.82      0.82      5327

2022-12-07 03:23:03,218 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 03:23:03,432 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=310e1182-5cec-4bb8-8135-376e2d7b7790]: finished processing task
2022-12-07 03:23:03,434 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 03:23:04,213 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 03:23:21,943 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670383401 seconds)
2022-12-07 03:23:21,943 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=57dff529-48c5-4f4f-acdb-9d721c17e4e2
2022-12-07 03:23:21,944 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=57dff529-48c5-4f4f-acdb-9d721c17e4e2]: invoking result_received_cb ...
2022-12-07 03:23:22,011 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=57dff529-48c5-4f4f-acdb-9d721c17e4e2]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 03:23:22,012 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=57dff529-48c5-4f4f-acdb-9d721c17e4e2]: finished processing client result by scatter_and_gather
2022-12-07 03:23:22,039 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670383401 seconds). SubmitUpdate time: 22.919491291046143 seconds
2022-12-07 03:23:22,077 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=57dff529-48c5-4f4f-acdb-9d721c17e4e2]: result sent to server for task: name=train, id=57dff529-48c5-4f4f-acdb-9d721c17e4e2
2022-12-07 03:23:22,078 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:23:27,055 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670383407 seconds)
2022-12-07 03:23:27,055 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=310e1182-5cec-4bb8-8135-376e2d7b7790
2022-12-07 03:23:27,056 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=310e1182-5cec-4bb8-8135-376e2d7b7790]: invoking result_received_cb ...
2022-12-07 03:23:27,211 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=310e1182-5cec-4bb8-8135-376e2d7b7790]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 03:23:27,211 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=310e1182-5cec-4bb8-8135-376e2d7b7790]: finished processing client result by scatter_and_gather
2022-12-07 03:23:27,242 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670383407 seconds). SubmitUpdate time: 23.02879047393799 seconds
2022-12-07 03:23:27,246 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:23:27,293 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=310e1182-5cec-4bb8-8135-376e2d7b7790]: result sent to server for task: name=train, id=310e1182-5cec-4bb8-8135-376e2d7b7790
2022-12-07 03:23:27,294 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:23:29,255 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:23:29,357 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:23:31,263 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:23:31,367 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:23:33,274 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:23:33,377 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:23:35,284 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:23:35,387 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:23:37,295 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:23:37,393 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 03:23:37,398 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:23:37,893 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 03:23:37,894 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 58
2022-12-07 03:23:37,964 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 03:23:37,966 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 03:23:38,695 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 03:23:38,696 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 58 finished.
2022-12-07 03:23:38,696 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 59 started.
2022-12-07 03:23:38,697 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 03:23:39,301 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=f66d000d-7879-4c80-b2b8-5d53178515f3]: assigned task to client site-1: name=train, id=f66d000d-7879-4c80-b2b8-5d53178515f3
2022-12-07 03:23:39,302 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=f66d000d-7879-4c80-b2b8-5d53178515f3]: sent task assignment to client
2022-12-07 03:23:40,222 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 03:23:40,662 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=9a6b29d8-6c08-4add-8b8a-498673e2407c]: assigned task to client site-2: name=train, id=9a6b29d8-6c08-4add-8b8a-498673e2407c
2022-12-07 03:23:40,664 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=9a6b29d8-6c08-4add-8b8a-498673e2407c]: sent task assignment to client
2022-12-07 03:23:41,478 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 03:24:03,053 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.753795385360718 seconds
2022-12-07 03:24:03,064 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 03:24:03,556 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=f66d000d-7879-4c80-b2b8-5d53178515f3
2022-12-07 03:24:03,556 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f66d000d-7879-4c80-b2b8-5d53178515f3]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 03:24:03,556 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f66d000d-7879-4c80-b2b8-5d53178515f3]: Client trainer got task: train
2022-12-07 03:24:04,139 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.737497091293335 seconds
2022-12-07 03:24:04,147 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 03:24:04,584 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=9a6b29d8-6c08-4add-8b8a-498673e2407c
2022-12-07 03:24:04,585 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9a6b29d8-6c08-4add-8b8a-498673e2407c]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 03:24:04,585 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9a6b29d8-6c08-4add-8b8a-498673e2407c]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 03:24:25,737 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f66d000d-7879-4c80-b2b8-5d53178515f3]: Accuracy when validating site-1's model on site-1s data: 0.9655255759217701
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 03:24:26,702 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9a6b29d8-6c08-4add-8b8a-498673e2407c]: Accuracy when validating site-2's model on site-2s data: 0.9671127301434982
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.97      0.96      0.97       222
         eve       0.88      0.94      0.91        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.92      0.95      0.93       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.98      0.98      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.98      0.98      0.98     43021
   macro avg       0.96      0.97      0.97     43021
weighted avg       0.98      0.98      0.98     43021

F1-score: 0.997614463690613
val 0/1: 
              precision    recall  f1-score   support

         art       0.07      0.11      0.09        19
         eve       0.09      0.12      0.11        16
         geo       0.85      0.84      0.85      1819
         gpe       0.90      0.95      0.93       731
         nat       0.17      0.17      0.17         6
         org       0.69      0.68      0.68       991
         per       0.73      0.80      0.76       907
         tim       0.84      0.83      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.54      0.56      0.55      5343
weighted avg       0.80      0.81      0.81      5343

F1-score: 0.9641552317386936
2022-12-07 03:33:07,135 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f66d000d-7879-4c80-b2b8-5d53178515f3]: train:
              precision    recall  f1-score   support

         art       0.97      0.96      0.97       222
         eve       0.88      0.94      0.91        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.92      0.95      0.93       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.98      0.98      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.98      0.98      0.98     43021
   macro avg       0.96      0.97      0.97     43021
weighted avg       0.98      0.98      0.98     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.07      0.11      0.09        19
         eve       0.09      0.12      0.11        16
         geo       0.85      0.84      0.85      1819
         gpe       0.90      0.95      0.93       731
         nat       0.17      0.17      0.17         6
         org       0.69      0.68      0.68       991
         per       0.73      0.80      0.76       907
         tim       0.84      0.83      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.54      0.56      0.55      5343
weighted avg       0.80      0.81      0.81      5343

2022-12-07 03:33:07,935 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 03:33:08,067 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f66d000d-7879-4c80-b2b8-5d53178515f3]: finished processing task
2022-12-07 03:33:08,068 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 03:33:08,894 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       176
         eve       0.97      0.97      0.97       117
         geo       0.98      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.97      0.92      0.94        95
         org       0.97      0.97      0.97      8238
         per       0.98      0.98      0.98      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.98      0.98      0.98     42624
   macro avg       0.98      0.97      0.98     42624
weighted avg       0.98      0.98      0.98     42624

F1-score: 0.9973917976358208
val 0/1: 
              precision    recall  f1-score   support

         art       0.62      0.22      0.33        45
         eve       0.17      0.31      0.22        13
         geo       0.85      0.89      0.87      1773
         gpe       0.96      0.94      0.95       640
         nat       0.14      0.08      0.11        12
         org       0.72      0.72      0.72      1045
         per       0.76      0.75      0.76       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.63      0.60      0.60      5327
weighted avg       0.81      0.82      0.82      5327

F1-score: 0.965893890458451
2022-12-07 03:33:09,244 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9a6b29d8-6c08-4add-8b8a-498673e2407c]: train:
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       176
         eve       0.97      0.97      0.97       117
         geo       0.98      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.97      0.92      0.94        95
         org       0.97      0.97      0.97      8238
         per       0.98      0.98      0.98      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.98      0.98      0.98     42624
   macro avg       0.98      0.97      0.98     42624
weighted avg       0.98      0.98      0.98     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.62      0.22      0.33        45
         eve       0.17      0.31      0.22        13
         geo       0.85      0.89      0.87      1773
         gpe       0.96      0.94      0.95       640
         nat       0.14      0.08      0.11        12
         org       0.72      0.72      0.72      1045
         per       0.76      0.75      0.76       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.63      0.60      0.60      5327
weighted avg       0.81      0.82      0.82      5327

2022-12-07 03:33:09,510 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 03:33:10,318 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9a6b29d8-6c08-4add-8b8a-498673e2407c]: finished processing task
2022-12-07 03:33:10,320 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 03:33:11,113 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 03:33:31,677 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670384011 seconds)
2022-12-07 03:33:31,677 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=f66d000d-7879-4c80-b2b8-5d53178515f3
2022-12-07 03:33:31,678 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f66d000d-7879-4c80-b2b8-5d53178515f3]: invoking result_received_cb ...
2022-12-07 03:33:31,747 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f66d000d-7879-4c80-b2b8-5d53178515f3]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 03:33:31,747 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f66d000d-7879-4c80-b2b8-5d53178515f3]: finished processing client result by scatter_and_gather
2022-12-07 03:33:31,777 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670384011 seconds). SubmitUpdate time: 22.883511066436768 seconds
2022-12-07 03:33:31,832 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f66d000d-7879-4c80-b2b8-5d53178515f3]: result sent to server for task: name=train, id=f66d000d-7879-4c80-b2b8-5d53178515f3
2022-12-07 03:33:31,832 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:33:34,825 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670384014 seconds)
2022-12-07 03:33:34,826 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=9a6b29d8-6c08-4add-8b8a-498673e2407c
2022-12-07 03:33:34,826 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9a6b29d8-6c08-4add-8b8a-498673e2407c]: invoking result_received_cb ...
2022-12-07 03:33:34,980 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9a6b29d8-6c08-4add-8b8a-498673e2407c]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 03:33:34,981 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9a6b29d8-6c08-4add-8b8a-498673e2407c]: finished processing client result by scatter_and_gather
2022-12-07 03:33:35,013 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670384014 seconds). SubmitUpdate time: 23.899801015853882 seconds
2022-12-07 03:33:35,019 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:33:35,071 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9a6b29d8-6c08-4add-8b8a-498673e2407c]: result sent to server for task: name=train, id=9a6b29d8-6c08-4add-8b8a-498673e2407c
2022-12-07 03:33:35,072 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:33:37,030 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:33:37,126 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:33:39,041 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:33:39,136 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:33:41,052 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:33:41,144 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:33:43,062 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:33:43,155 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:33:45,072 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:33:45,165 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:33:45,177 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 03:33:45,677 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 03:33:45,677 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 59
2022-12-07 03:33:45,797 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 03:33:45,797 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 03:33:46,445 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 03:33:46,445 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 59 finished.
2022-12-07 03:33:46,445 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 60 started.
2022-12-07 03:33:46,445 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 03:33:47,079 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=56d9bad9-e0dc-4795-8476-76cb0a45cd9b]: assigned task to client site-1: name=train, id=56d9bad9-e0dc-4795-8476-76cb0a45cd9b
2022-12-07 03:33:47,080 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=56d9bad9-e0dc-4795-8476-76cb0a45cd9b]: sent task assignment to client
2022-12-07 03:33:47,875 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 03:33:48,281 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=9dd2a3bf-056e-49b4-aad2-f9d4fa4c4b5f]: assigned task to client site-2: name=train, id=9dd2a3bf-056e-49b4-aad2-f9d4fa4c4b5f
2022-12-07 03:33:48,282 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=9dd2a3bf-056e-49b4-aad2-f9d4fa4c4b5f]: sent task assignment to client
2022-12-07 03:33:49,084 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 03:34:10,686 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.610004663467407 seconds
2022-12-07 03:34:10,714 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 03:34:11,149 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=56d9bad9-e0dc-4795-8476-76cb0a45cd9b
2022-12-07 03:34:11,149 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=56d9bad9-e0dc-4795-8476-76cb0a45cd9b]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 03:34:11,150 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=56d9bad9-e0dc-4795-8476-76cb0a45cd9b]: Client trainer got task: train
2022-12-07 03:34:11,764 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.593570947647095 seconds
2022-12-07 03:34:11,779 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 03:34:12,186 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=9dd2a3bf-056e-49b4-aad2-f9d4fa4c4b5f
2022-12-07 03:34:12,186 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9dd2a3bf-056e-49b4-aad2-f9d4fa4c4b5f]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 03:34:12,187 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9dd2a3bf-056e-49b4-aad2-f9d4fa4c4b5f]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 03:34:33,367 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=56d9bad9-e0dc-4795-8476-76cb0a45cd9b]: Accuracy when validating site-1's model on site-1s data: 0.9655515053137973
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 03:34:34,302 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9dd2a3bf-056e-49b4-aad2-f9d4fa4c4b5f]: Accuracy when validating site-2's model on site-2s data: 0.9664630789015604
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.97      0.96      0.96       222
         eve       0.96      0.98      0.97        96
         geo       0.98      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.93      0.97      0.95       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.98      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.98      0.98      0.98     43021
   macro avg       0.97      0.98      0.98     43021
weighted avg       0.98      0.98      0.98     43021

F1-score: 0.9976951189254494
val 0/1: 
              precision    recall  f1-score   support

         art       0.08      0.05      0.06        19
         eve       0.16      0.19      0.17        16
         geo       0.85      0.85      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.68      0.68      0.68       991
         per       0.74      0.79      0.77       907
         tim       0.84      0.82      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.80      0.81      0.81      5343

F1-score: 0.964484610025774
2022-12-07 03:43:14,262 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=56d9bad9-e0dc-4795-8476-76cb0a45cd9b]: train:
              precision    recall  f1-score   support

         art       0.97      0.96      0.96       222
         eve       0.96      0.98      0.97        96
         geo       0.98      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.93      0.97      0.95       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.98      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.98      0.98      0.98     43021
   macro avg       0.97      0.98      0.98     43021
weighted avg       0.98      0.98      0.98     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.08      0.05      0.06        19
         eve       0.16      0.19      0.17        16
         geo       0.85      0.85      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.68      0.68      0.68       991
         per       0.74      0.79      0.77       907
         tim       0.84      0.82      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.80      0.81      0.81      5343

-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 03:43:15,059 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=56d9bad9-e0dc-4795-8476-76cb0a45cd9b]: finished processing task
2022-12-07 03:43:15,061 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 03:43:15,343 - SimulatorServer - INFO - getting AuxCommunicate request
2022-12-07 03:43:15,877 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.96      0.98      0.97       176
         eve       0.97      0.96      0.96       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.92      0.96      0.94        95
         org       0.98      0.97      0.97      8238
         per       0.98      0.98      0.98      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.98      0.98      0.98     42624
   macro avg       0.97      0.98      0.97     42624
weighted avg       0.98      0.98      0.98     42624

F1-score: 0.997751423163524
val 0/1: 
              precision    recall  f1-score   support

         art       0.68      0.29      0.41        45
         eve       0.18      0.31      0.23        13
         geo       0.84      0.89      0.86      1773
         gpe       0.94      0.94      0.94       640
         nat       0.33      0.08      0.13        12
         org       0.72      0.70      0.71      1045
         per       0.77      0.78      0.77       940
         tim       0.85      0.84      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.66      0.60      0.61      5327
weighted avg       0.81      0.82      0.82      5327

F1-score: 0.9656201605279539
2022-12-07 03:43:19,218 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9dd2a3bf-056e-49b4-aad2-f9d4fa4c4b5f]: train:
              precision    recall  f1-score   support

         art       0.96      0.98      0.97       176
         eve       0.97      0.96      0.96       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.92      0.96      0.94        95
         org       0.98      0.97      0.97      8238
         per       0.98      0.98      0.98      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.98      0.98      0.98     42624
   macro avg       0.97      0.98      0.97     42624
weighted avg       0.98      0.98      0.98     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.68      0.29      0.41        45
         eve       0.18      0.31      0.23        13
         geo       0.84      0.89      0.86      1773
         gpe       0.94      0.94      0.94       640
         nat       0.33      0.08      0.13        12
         org       0.72      0.70      0.71      1045
         per       0.77      0.78      0.77       940
         tim       0.85      0.84      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.66      0.60      0.61      5327
weighted avg       0.81      0.82      0.82      5327

2022-12-07 03:43:19,390 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 03:43:20,495 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9dd2a3bf-056e-49b4-aad2-f9d4fa4c4b5f]: finished processing task
2022-12-07 03:43:20,496 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 03:43:21,300 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 03:43:38,681 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670384618 seconds)
2022-12-07 03:43:38,681 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=56d9bad9-e0dc-4795-8476-76cb0a45cd9b
2022-12-07 03:43:38,681 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=56d9bad9-e0dc-4795-8476-76cb0a45cd9b]: invoking result_received_cb ...
2022-12-07 03:43:38,759 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=56d9bad9-e0dc-4795-8476-76cb0a45cd9b]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 03:43:38,760 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=56d9bad9-e0dc-4795-8476-76cb0a45cd9b]: finished processing client result by scatter_and_gather
2022-12-07 03:43:38,780 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670384618 seconds). SubmitUpdate time: 22.902578115463257 seconds
2022-12-07 03:43:38,833 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=56d9bad9-e0dc-4795-8476-76cb0a45cd9b]: result sent to server for task: name=train, id=56d9bad9-e0dc-4795-8476-76cb0a45cd9b
2022-12-07 03:43:38,834 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:43:40,901 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:43:44,228 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670384624 seconds)
2022-12-07 03:43:44,229 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=9dd2a3bf-056e-49b4-aad2-f9d4fa4c4b5f
2022-12-07 03:43:44,229 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9dd2a3bf-056e-49b4-aad2-f9d4fa4c4b5f]: invoking result_received_cb ...
2022-12-07 03:43:44,386 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9dd2a3bf-056e-49b4-aad2-f9d4fa4c4b5f]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 03:43:44,387 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=9dd2a3bf-056e-49b4-aad2-f9d4fa4c4b5f]: finished processing client result by scatter_and_gather
2022-12-07 03:43:44,391 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:43:44,418 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670384624 seconds). SubmitUpdate time: 23.117538452148438 seconds
2022-12-07 03:43:44,472 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=9dd2a3bf-056e-49b4-aad2-f9d4fa4c4b5f]: result sent to server for task: name=train, id=9dd2a3bf-056e-49b4-aad2-f9d4fa4c4b5f
2022-12-07 03:43:44,473 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:43:46,424 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:43:46,544 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:43:48,434 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:43:48,560 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:43:50,442 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:43:50,570 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:43:52,450 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:43:52,580 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:43:54,459 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:43:54,581 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 03:43:54,590 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:43:55,080 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 03:43:55,081 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 60
2022-12-07 03:43:55,158 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 03:43:55,159 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 03:43:55,908 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 03:43:55,909 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 60 finished.
2022-12-07 03:43:55,909 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 61 started.
2022-12-07 03:43:55,909 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 03:43:56,465 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=04ff3c5c-acde-49d5-a01d-00af92a0ce5f]: assigned task to client site-1: name=train, id=04ff3c5c-acde-49d5-a01d-00af92a0ce5f
2022-12-07 03:43:56,466 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=04ff3c5c-acde-49d5-a01d-00af92a0ce5f]: sent task assignment to client
2022-12-07 03:43:57,261 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 03:43:57,668 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=d26cfdd4-2b63-4182-8e2c-557281a9d58e]: assigned task to client site-2: name=train, id=d26cfdd4-2b63-4182-8e2c-557281a9d58e
2022-12-07 03:43:57,670 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=d26cfdd4-2b63-4182-8e2c-557281a9d58e]: sent task assignment to client
2022-12-07 03:43:58,473 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 03:44:20,337 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.874261617660522 seconds
2022-12-07 03:44:20,373 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 03:44:20,806 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=04ff3c5c-acde-49d5-a01d-00af92a0ce5f
2022-12-07 03:44:20,806 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=04ff3c5c-acde-49d5-a01d-00af92a0ce5f]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 03:44:20,806 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=04ff3c5c-acde-49d5-a01d-00af92a0ce5f]: Client trainer got task: train
2022-12-07 03:44:21,167 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.57210659980774 seconds
2022-12-07 03:44:21,196 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 03:44:21,637 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=d26cfdd4-2b63-4182-8e2c-557281a9d58e
2022-12-07 03:44:21,638 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d26cfdd4-2b63-4182-8e2c-557281a9d58e]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 03:44:21,638 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d26cfdd4-2b63-4182-8e2c-557281a9d58e]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 03:44:43,049 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=04ff3c5c-acde-49d5-a01d-00af92a0ce5f]: Accuracy when validating site-1's model on site-1s data: 0.9654126412368035
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 03:44:43,787 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d26cfdd4-2b63-4182-8e2c-557281a9d58e]: Accuracy when validating site-2's model on site-2s data: 0.9669484608740763
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.96      0.97      0.96       176
         eve       0.94      0.97      0.95       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.98      0.94      0.96        95
         org       0.98      0.98      0.98      8238
         per       0.98      0.98      0.98      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.98      0.98      0.98     42624
   macro avg       0.97      0.97      0.97     42624
weighted avg       0.98      0.98      0.98     42624

F1-score: 0.9977117198866405
val 0/1: 
              precision    recall  f1-score   support

         art       0.59      0.22      0.32        45
         eve       0.18      0.31      0.23        13
         geo       0.84      0.89      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.72      0.73      0.73      1045
         per       0.78      0.76      0.77       940
         tim       0.86      0.86      0.86       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.64      0.60      0.60      5327
weighted avg       0.82      0.83      0.82      5327

F1-score: 0.9666829688416972
2022-12-07 03:53:24,167 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d26cfdd4-2b63-4182-8e2c-557281a9d58e]: train:
              precision    recall  f1-score   support

         art       0.96      0.97      0.96       176
         eve       0.94      0.97      0.95       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.98      0.94      0.96        95
         org       0.98      0.98      0.98      8238
         per       0.98      0.98      0.98      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.98      0.98      0.98     42624
   macro avg       0.97      0.97      0.97     42624
weighted avg       0.98      0.98      0.98     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.59      0.22      0.32        45
         eve       0.18      0.31      0.23        13
         geo       0.84      0.89      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.72      0.73      0.73      1045
         per       0.78      0.76      0.77       940
         tim       0.86      0.86      0.86       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.64      0.60      0.60      5327
weighted avg       0.82      0.83      0.82      5327

-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.96      0.97      0.97       222
         eve       0.97      0.98      0.97        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.95      0.95      0.95       116
         org       0.97      0.98      0.97      8377
         per       0.98      0.99      0.99      7230
         tim       0.98      0.99      0.99      6802

   micro avg       0.98      0.99      0.98     43021
   macro avg       0.97      0.98      0.98     43021
weighted avg       0.98      0.99      0.98     43021

F1-score: 0.9977860060398626
val 0/1: 
              precision    recall  f1-score   support

         art       0.07      0.05      0.06        19
         eve       0.24      0.31      0.27        16
         geo       0.85      0.86      0.86      1819
         gpe       0.95      0.94      0.95       731
         nat       0.00      0.00      0.00         6
         org       0.67      0.67      0.67       991
         per       0.73      0.79      0.76       907
         tim       0.82      0.82      0.82       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.54      0.56      0.55      5343
weighted avg       0.80      0.81      0.81      5343

F1-score: 0.9649118862818036
2022-12-07 03:53:24,658 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=04ff3c5c-acde-49d5-a01d-00af92a0ce5f]: train:
              precision    recall  f1-score   support

         art       0.96      0.97      0.97       222
         eve       0.97      0.98      0.97        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.95      0.95      0.95       116
         org       0.97      0.98      0.97      8377
         per       0.98      0.99      0.99      7230
         tim       0.98      0.99      0.99      6802

   micro avg       0.98      0.99      0.98     43021
   macro avg       0.97      0.98      0.98     43021
weighted avg       0.98      0.99      0.98     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.07      0.05      0.06        19
         eve       0.24      0.31      0.27        16
         geo       0.85      0.86      0.86      1819
         gpe       0.95      0.94      0.95       731
         nat       0.00      0.00      0.00         6
         org       0.67      0.67      0.67       991
         per       0.73      0.79      0.76       907
         tim       0.82      0.82      0.82       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.54      0.56      0.55      5343
weighted avg       0.80      0.81      0.81      5343

2022-12-07 03:53:24,744 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 03:53:24,998 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d26cfdd4-2b63-4182-8e2c-557281a9d58e]: finished processing task
2022-12-07 03:53:25,000 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 03:53:25,207 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 03:53:25,393 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=04ff3c5c-acde-49d5-a01d-00af92a0ce5f]: finished processing task
2022-12-07 03:53:25,394 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 03:53:25,825 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 03:53:26,222 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 03:53:48,627 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670385228 seconds)
2022-12-07 03:53:48,627 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=d26cfdd4-2b63-4182-8e2c-557281a9d58e
2022-12-07 03:53:48,628 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=d26cfdd4-2b63-4182-8e2c-557281a9d58e]: invoking result_received_cb ...
2022-12-07 03:53:48,696 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=d26cfdd4-2b63-4182-8e2c-557281a9d58e]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 03:53:48,696 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=d26cfdd4-2b63-4182-8e2c-557281a9d58e]: finished processing client result by scatter_and_gather
2022-12-07 03:53:48,727 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670385228 seconds). SubmitUpdate time: 22.902418851852417 seconds
2022-12-07 03:53:48,764 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d26cfdd4-2b63-4182-8e2c-557281a9d58e]: result sent to server for task: name=train, id=d26cfdd4-2b63-4182-8e2c-557281a9d58e
2022-12-07 03:53:48,765 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:53:51,768 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670385231 seconds)
2022-12-07 03:53:51,769 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=04ff3c5c-acde-49d5-a01d-00af92a0ce5f
2022-12-07 03:53:51,769 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=04ff3c5c-acde-49d5-a01d-00af92a0ce5f]: invoking result_received_cb ...
2022-12-07 03:53:51,922 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=04ff3c5c-acde-49d5-a01d-00af92a0ce5f]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 03:53:51,922 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=04ff3c5c-acde-49d5-a01d-00af92a0ce5f]: finished processing client result by scatter_and_gather
2022-12-07 03:53:51,955 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670385231 seconds). SubmitUpdate time: 25.732468605041504 seconds
2022-12-07 03:53:51,965 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:53:51,993 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=04ff3c5c-acde-49d5-a01d-00af92a0ce5f]: result sent to server for task: name=train, id=04ff3c5c-acde-49d5-a01d-00af92a0ce5f
2022-12-07 03:53:51,994 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:53:53,975 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:53:54,060 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:53:55,986 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:53:56,070 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:53:57,995 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:53:58,081 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:54:00,006 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:54:00,091 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:54:02,015 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 03:54:02,100 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 03:54:02,124 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 03:54:02,624 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 03:54:02,625 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 61
2022-12-07 03:54:02,748 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 03:54:02,748 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 03:54:03,373 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 03:54:03,374 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 61 finished.
2022-12-07 03:54:03,374 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 62 started.
2022-12-07 03:54:03,375 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 03:54:04,022 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=d5702145-f0f2-4705-ac48-5a5e7f95ea08]: assigned task to client site-2: name=train, id=d5702145-f0f2-4705-ac48-5a5e7f95ea08
2022-12-07 03:54:04,022 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=d5702145-f0f2-4705-ac48-5a5e7f95ea08]: sent task assignment to client
2022-12-07 03:54:04,857 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 03:54:05,069 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=dea865d0-750a-4e03-90fe-084c01608ecc]: assigned task to client site-1: name=train, id=dea865d0-750a-4e03-90fe-084c01608ecc
2022-12-07 03:54:05,267 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=dea865d0-750a-4e03-90fe-084c01608ecc]: sent task assignment to client
2022-12-07 03:54:06,074 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 03:54:27,519 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.499112367630005 seconds
2022-12-07 03:54:27,535 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 03:54:27,951 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=d5702145-f0f2-4705-ac48-5a5e7f95ea08
2022-12-07 03:54:27,952 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d5702145-f0f2-4705-ac48-5a5e7f95ea08]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 03:54:27,952 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d5702145-f0f2-4705-ac48-5a5e7f95ea08]: Client trainer got task: train
2022-12-07 03:54:28,940 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.83531141281128 seconds
2022-12-07 03:54:28,965 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 03:54:29,359 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=dea865d0-750a-4e03-90fe-084c01608ecc
2022-12-07 03:54:29,359 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dea865d0-750a-4e03-90fe-084c01608ecc]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 03:54:29,359 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dea865d0-750a-4e03-90fe-084c01608ecc]: Client trainer got task: train
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 03:54:50,118 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d5702145-f0f2-4705-ac48-5a5e7f95ea08]: Accuracy when validating site-2's model on site-2s data: 0.9669715781824549
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 03:54:51,572 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dea865d0-750a-4e03-90fe-084c01608ecc]: Accuracy when validating site-1's model on site-1s data: 0.9657309781396562
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.94      0.96      0.95       222
         eve       0.93      0.94      0.93        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.93      0.93      0.93       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.98      0.99      0.99     43021
   macro avg       0.97      0.97      0.97     43021
weighted avg       0.98      0.99      0.99     43021

F1-score: 0.9978840271871746
val 0/1: 
              precision    recall  f1-score   support

         art       0.17      0.21      0.19        19
         eve       0.12      0.19      0.15        16
         geo       0.84      0.86      0.85      1819
         gpe       0.94      0.93      0.93       731
         nat       0.12      0.17      0.14         6
         org       0.71      0.65      0.68       991
         per       0.71      0.81      0.76       907
         tim       0.85      0.82      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.56      0.58      0.57      5343
weighted avg       0.80      0.81      0.81      5343

F1-score: 0.9643450574317872
2022-12-07 04:03:32,624 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dea865d0-750a-4e03-90fe-084c01608ecc]: train:
              precision    recall  f1-score   support

         art       0.94      0.96      0.95       222
         eve       0.93      0.94      0.93        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.93      0.93      0.93       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.98      0.99      0.99     43021
   macro avg       0.97      0.97      0.97     43021
weighted avg       0.98      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.17      0.21      0.19        19
         eve       0.12      0.19      0.15        16
         geo       0.84      0.86      0.85      1819
         gpe       0.94      0.93      0.93       731
         nat       0.12      0.17      0.14         6
         org       0.71      0.65      0.68       991
         per       0.71      0.81      0.76       907
         tim       0.85      0.82      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.56      0.58      0.57      5343
weighted avg       0.80      0.81      0.81      5343

2022-12-07 04:03:33,510 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 04:03:33,765 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dea865d0-750a-4e03-90fe-084c01608ecc]: finished processing task
2022-12-07 04:03:33,766 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 04:03:34,573 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.94      0.94      0.94       176
         eve       0.93      0.93      0.93       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.95      0.97      0.96        95
         org       0.97      0.98      0.97      8238
         per       0.98      0.98      0.98      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.98      0.98      0.98     42624
   macro avg       0.97      0.97      0.97     42624
weighted avg       0.98      0.98      0.98     42624

F1-score: 0.9976199537434207
val 0/1: 
              precision    recall  f1-score   support

         art       0.46      0.29      0.36        45
         eve       0.17      0.31      0.22        13
         geo       0.84      0.89      0.86      1773
         gpe       0.93      0.93      0.93       640
         nat       0.20      0.08      0.12        12
         org       0.72      0.70      0.71      1045
         per       0.75      0.79      0.77       940
         tim       0.85      0.86      0.86       859

   micro avg       0.81      0.83      0.82      5327
   macro avg       0.62      0.61      0.60      5327
weighted avg       0.81      0.83      0.82      5327

F1-score: 0.9653166743039422
2022-12-07 04:03:35,501 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d5702145-f0f2-4705-ac48-5a5e7f95ea08]: train:
              precision    recall  f1-score   support

         art       0.94      0.94      0.94       176
         eve       0.93      0.93      0.93       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.95      0.97      0.96        95
         org       0.97      0.98      0.97      8238
         per       0.98      0.98      0.98      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.98      0.98      0.98     42624
   macro avg       0.97      0.97      0.97     42624
weighted avg       0.98      0.98      0.98     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.46      0.29      0.36        45
         eve       0.17      0.31      0.22        13
         geo       0.84      0.89      0.86      1773
         gpe       0.93      0.93      0.93       640
         nat       0.20      0.08      0.12        12
         org       0.72      0.70      0.71      1045
         per       0.75      0.79      0.77       940
         tim       0.85      0.86      0.86       859

   micro avg       0.81      0.83      0.82      5327
   macro avg       0.62      0.61      0.60      5327
weighted avg       0.81      0.83      0.82      5327

2022-12-07 04:03:36,108 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 04:03:36,547 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d5702145-f0f2-4705-ac48-5a5e7f95ea08]: finished processing task
2022-12-07 04:03:36,548 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 04:03:37,343 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 04:03:57,368 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670385837 seconds)
2022-12-07 04:03:57,368 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=dea865d0-750a-4e03-90fe-084c01608ecc
2022-12-07 04:03:57,369 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=dea865d0-750a-4e03-90fe-084c01608ecc]: invoking result_received_cb ...
2022-12-07 04:03:57,434 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=dea865d0-750a-4e03-90fe-084c01608ecc]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 04:03:57,435 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=dea865d0-750a-4e03-90fe-084c01608ecc]: finished processing client result by scatter_and_gather
2022-12-07 04:03:57,465 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670385837 seconds). SubmitUpdate time: 22.891737461090088 seconds
2022-12-07 04:03:57,495 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dea865d0-750a-4e03-90fe-084c01608ecc]: result sent to server for task: name=train, id=dea865d0-750a-4e03-90fe-084c01608ecc
2022-12-07 04:03:57,495 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:04:00,553 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670385840 seconds)
2022-12-07 04:04:00,553 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=d5702145-f0f2-4705-ac48-5a5e7f95ea08
2022-12-07 04:04:00,553 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=d5702145-f0f2-4705-ac48-5a5e7f95ea08]: invoking result_received_cb ...
2022-12-07 04:04:00,717 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=d5702145-f0f2-4705-ac48-5a5e7f95ea08]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 04:04:00,717 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=d5702145-f0f2-4705-ac48-5a5e7f95ea08]: finished processing client result by scatter_and_gather
2022-12-07 04:04:00,740 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670385840 seconds). SubmitUpdate time: 23.397222995758057 seconds
2022-12-07 04:04:00,757 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:04:00,780 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d5702145-f0f2-4705-ac48-5a5e7f95ea08]: result sent to server for task: name=train, id=d5702145-f0f2-4705-ac48-5a5e7f95ea08
2022-12-07 04:04:00,780 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:04:02,768 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:04:02,846 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:04:04,778 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:04:04,856 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:04:06,788 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:04:06,865 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:04:08,797 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:04:08,876 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:04:10,806 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:04:10,885 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:04:10,890 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 04:04:11,390 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 04:04:11,390 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 62
2022-12-07 04:04:11,467 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 04:04:11,468 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 04:04:11,977 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 04:04:11,978 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 62 finished.
2022-12-07 04:04:11,978 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 63 started.
2022-12-07 04:04:11,978 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 04:04:12,814 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=edfa44b2-7e24-4326-9008-bd0102a55798]: assigned task to client site-1: name=train, id=edfa44b2-7e24-4326-9008-bd0102a55798
2022-12-07 04:04:12,815 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=edfa44b2-7e24-4326-9008-bd0102a55798]: sent task assignment to client
2022-12-07 04:04:13,645 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 04:04:14,056 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=43da46a5-e997-492f-8ff9-24dade023981]: assigned task to client site-2: name=train, id=43da46a5-e997-492f-8ff9-24dade023981
2022-12-07 04:04:14,058 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=43da46a5-e997-492f-8ff9-24dade023981]: sent task assignment to client
2022-12-07 04:04:14,847 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 04:04:36,358 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.546669006347656 seconds
2022-12-07 04:04:36,364 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 04:04:36,819 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=edfa44b2-7e24-4326-9008-bd0102a55798
2022-12-07 04:04:36,819 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=edfa44b2-7e24-4326-9008-bd0102a55798]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 04:04:36,819 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=edfa44b2-7e24-4326-9008-bd0102a55798]: Client trainer got task: train
2022-12-07 04:04:37,659 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.769152641296387 seconds
2022-12-07 04:04:37,674 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 04:04:38,078 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=43da46a5-e997-492f-8ff9-24dade023981
2022-12-07 04:04:38,078 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=43da46a5-e997-492f-8ff9-24dade023981]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 04:04:38,079 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=43da46a5-e997-492f-8ff9-24dade023981]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 04:04:59,050 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=edfa44b2-7e24-4326-9008-bd0102a55798]: Accuracy when validating site-1's model on site-1s data: 0.964933201326161
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 04:05:00,214 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=43da46a5-e997-492f-8ff9-24dade023981]: Accuracy when validating site-2's model on site-2s data: 0.9665073306029766
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.97      0.98      0.98       222
         eve       0.89      0.94      0.91        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.96      0.95      0.95       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.98      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.98      0.99      0.98     43021
   macro avg       0.97      0.97      0.97     43021
weighted avg       0.98      0.99      0.98     43021

F1-score: 0.9978900802541032
val 0/1: 
              precision    recall  f1-score   support

         art       0.05      0.05      0.05        19
         eve       0.24      0.25      0.24        16
         geo       0.82      0.88      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.25      0.17      0.20         6
         org       0.72      0.65      0.68       991
         per       0.74      0.81      0.77       907
         tim       0.84      0.83      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.57      0.57      0.57      5343
weighted avg       0.80      0.82      0.81      5343

F1-score: 0.9647516300833116
2022-12-07 04:13:39,997 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=edfa44b2-7e24-4326-9008-bd0102a55798]: train:
              precision    recall  f1-score   support

         art       0.97      0.98      0.98       222
         eve       0.89      0.94      0.91        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.96      0.95      0.95       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.98      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.98      0.99      0.98     43021
   macro avg       0.97      0.97      0.97     43021
weighted avg       0.98      0.99      0.98     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.05      0.05      0.05        19
         eve       0.24      0.25      0.24        16
         geo       0.82      0.88      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.25      0.17      0.20         6
         org       0.72      0.65      0.68       991
         per       0.74      0.81      0.77       907
         tim       0.84      0.83      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.57      0.57      0.57      5343
weighted avg       0.80      0.82      0.81      5343

2022-12-07 04:13:40,715 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 04:13:41,139 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=edfa44b2-7e24-4326-9008-bd0102a55798]: finished processing task
2022-12-07 04:13:41,140 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 04:13:41,937 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.94      0.97      0.96       176
         eve       0.92      0.95      0.93       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.98      0.96      0.97        95
         org       0.98      0.98      0.98      8238
         per       0.98      0.98      0.98      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.98      0.98      0.98     42624
   macro avg       0.97      0.98      0.97     42624
weighted avg       0.98      0.98      0.98     42624

F1-score: 0.9977668500008787
val 0/1: 
              precision    recall  f1-score   support

         art       0.56      0.22      0.32        45
         eve       0.18      0.31      0.23        13
         geo       0.84      0.88      0.86      1773
         gpe       0.94      0.94      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.69      0.73      0.71      1045
         per       0.77      0.76      0.77       940
         tim       0.86      0.87      0.86       859

   micro avg       0.81      0.83      0.82      5327
   macro avg       0.63      0.60      0.60      5327
weighted avg       0.81      0.83      0.82      5327

F1-score: 0.966192527702138
2022-12-07 04:13:44,707 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=43da46a5-e997-492f-8ff9-24dade023981]: train:
              precision    recall  f1-score   support

         art       0.94      0.97      0.96       176
         eve       0.92      0.95      0.93       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.98      0.96      0.97        95
         org       0.98      0.98      0.98      8238
         per       0.98      0.98      0.98      6998
         tim       0.98      0.98      0.98      6773

   micro avg       0.98      0.98      0.98     42624
   macro avg       0.97      0.98      0.97     42624
weighted avg       0.98      0.98      0.98     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.56      0.22      0.32        45
         eve       0.18      0.31      0.23        13
         geo       0.84      0.88      0.86      1773
         gpe       0.94      0.94      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.69      0.73      0.71      1045
         per       0.77      0.76      0.77       940
         tim       0.86      0.87      0.86       859

   micro avg       0.81      0.83      0.82      5327
   macro avg       0.63      0.60      0.60      5327
weighted avg       0.81      0.83      0.82      5327

2022-12-07 04:13:45,474 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 04:13:45,823 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=43da46a5-e997-492f-8ff9-24dade023981]: finished processing task
2022-12-07 04:13:45,824 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 04:13:46,614 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 04:14:04,715 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670386444 seconds)
2022-12-07 04:14:04,715 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=edfa44b2-7e24-4326-9008-bd0102a55798
2022-12-07 04:14:04,716 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=edfa44b2-7e24-4326-9008-bd0102a55798]: invoking result_received_cb ...
2022-12-07 04:14:04,790 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=edfa44b2-7e24-4326-9008-bd0102a55798]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 04:14:04,790 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=edfa44b2-7e24-4326-9008-bd0102a55798]: finished processing client result by scatter_and_gather
2022-12-07 04:14:04,813 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670386444 seconds). SubmitUpdate time: 22.87571692466736 seconds
2022-12-07 04:14:04,852 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=edfa44b2-7e24-4326-9008-bd0102a55798]: result sent to server for task: name=train, id=edfa44b2-7e24-4326-9008-bd0102a55798
2022-12-07 04:14:04,853 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:14:09,445 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670386449 seconds)
2022-12-07 04:14:09,445 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=43da46a5-e997-492f-8ff9-24dade023981
2022-12-07 04:14:09,445 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=43da46a5-e997-492f-8ff9-24dade023981]: invoking result_received_cb ...
2022-12-07 04:14:09,599 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=43da46a5-e997-492f-8ff9-24dade023981]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 04:14:09,599 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=43da46a5-e997-492f-8ff9-24dade023981]: finished processing client result by scatter_and_gather
2022-12-07 04:14:09,619 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670386449 seconds). SubmitUpdate time: 23.005207538604736 seconds
2022-12-07 04:14:09,625 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:14:09,650 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=43da46a5-e997-492f-8ff9-24dade023981]: result sent to server for task: name=train, id=43da46a5-e997-492f-8ff9-24dade023981
2022-12-07 04:14:09,651 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:14:11,659 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:14:11,713 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:14:13,674 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:14:13,736 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:14:15,684 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:14:15,746 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:14:17,692 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:14:17,755 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:14:19,700 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:14:19,764 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:14:19,794 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 04:14:20,293 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 04:14:20,293 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 63
2022-12-07 04:14:20,408 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 04:14:20,408 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 04:14:21,300 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 04:14:21,300 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 63 finished.
2022-12-07 04:14:21,301 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 64 started.
2022-12-07 04:14:21,301 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 04:14:21,707 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=d575d02d-9496-4f21-9707-4eb006618330]: assigned task to client site-1: name=train, id=d575d02d-9496-4f21-9707-4eb006618330
2022-12-07 04:14:21,708 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=d575d02d-9496-4f21-9707-4eb006618330]: sent task assignment to client
2022-12-07 04:14:22,508 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 04:14:22,916 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=31b14421-102f-410f-843c-67d7ffa9264a]: assigned task to client site-2: name=train, id=31b14421-102f-410f-843c-67d7ffa9264a
2022-12-07 04:14:22,917 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=31b14421-102f-410f-843c-67d7ffa9264a]: sent task assignment to client
2022-12-07 04:14:23,725 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 04:14:45,238 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.532613515853882 seconds
2022-12-07 04:14:45,269 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 04:14:45,721 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=d575d02d-9496-4f21-9707-4eb006618330
2022-12-07 04:14:45,722 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d575d02d-9496-4f21-9707-4eb006618330]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 04:14:45,722 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d575d02d-9496-4f21-9707-4eb006618330]: Client trainer got task: train
2022-12-07 04:14:46,498 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.72920846939087 seconds
2022-12-07 04:14:46,505 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 04:14:46,915 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=31b14421-102f-410f-843c-67d7ffa9264a
2022-12-07 04:14:46,915 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=31b14421-102f-410f-843c-67d7ffa9264a]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 04:14:46,915 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=31b14421-102f-410f-843c-67d7ffa9264a]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 04:15:07,960 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d575d02d-9496-4f21-9707-4eb006618330]: Accuracy when validating site-1's model on site-1s data: 0.9654836499398028
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 04:15:09,044 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=31b14421-102f-410f-843c-67d7ffa9264a]: Accuracy when validating site-2's model on site-2s data: 0.966776416231528
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      0.98      0.98       222
         eve       0.95      0.94      0.94        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.92      0.94      0.93       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.98      7230
         tim       0.98      0.99      0.99      6802

   micro avg       0.98      0.99      0.99     43021
   macro avg       0.97      0.97      0.97     43021
weighted avg       0.98      0.99      0.99     43021

F1-score: 0.997944396740872
val 0/1: 
              precision    recall  f1-score   support

         art       0.09      0.05      0.07        19
         eve       0.14      0.19      0.16        16
         geo       0.85      0.85      0.85      1819
         gpe       0.93      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.66      0.68       991
         per       0.71      0.82      0.76       907
         tim       0.86      0.82      0.84       854

   micro avg       0.81      0.81      0.81      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.81      0.81      0.81      5343

F1-score: 0.9648548517237191
2022-12-07 04:23:46,708 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d575d02d-9496-4f21-9707-4eb006618330]: train:
              precision    recall  f1-score   support

         art       0.98      0.98      0.98       222
         eve       0.95      0.94      0.94        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.92      0.94      0.93       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.98      7230
         tim       0.98      0.99      0.99      6802

   micro avg       0.98      0.99      0.99     43021
   macro avg       0.97      0.97      0.97     43021
weighted avg       0.98      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.09      0.05      0.07        19
         eve       0.14      0.19      0.16        16
         geo       0.85      0.85      0.85      1819
         gpe       0.93      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.66      0.68       991
         per       0.71      0.82      0.76       907
         tim       0.86      0.82      0.84       854

   micro avg       0.81      0.81      0.81      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.81      0.81      0.81      5343

2022-12-07 04:23:47,111 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 04:23:47,999 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d575d02d-9496-4f21-9707-4eb006618330]: finished processing task
2022-12-07 04:23:48,000 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 04:23:48,844 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.94      0.95      0.95       176
         eve       0.93      0.94      0.94       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.97      0.96      0.96        95
         org       0.98      0.98      0.98      8238
         per       0.98      0.98      0.98      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.97      0.97      0.97     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9980549419893902
val 0/1: 
              precision    recall  f1-score   support

         art       0.53      0.22      0.31        45
         eve       0.27      0.31      0.29        13
         geo       0.84      0.90      0.87      1773
         gpe       0.96      0.94      0.95       640
         nat       0.33      0.08      0.13        12
         org       0.72      0.74      0.73      1045
         per       0.79      0.76      0.78       940
         tim       0.88      0.86      0.87       859

   micro avg       0.83      0.83      0.83      5327
   macro avg       0.66      0.60      0.62      5327
weighted avg       0.82      0.83      0.83      5327

F1-score: 0.967548312957341
2022-12-07 04:23:53,025 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=31b14421-102f-410f-843c-67d7ffa9264a]: train:
              precision    recall  f1-score   support

         art       0.94      0.95      0.95       176
         eve       0.93      0.94      0.94       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.97      0.96      0.96        95
         org       0.98      0.98      0.98      8238
         per       0.98      0.98      0.98      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.97      0.97      0.97     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.53      0.22      0.31        45
         eve       0.27      0.31      0.29        13
         geo       0.84      0.90      0.87      1773
         gpe       0.96      0.94      0.95       640
         nat       0.33      0.08      0.13        12
         org       0.72      0.74      0.73      1045
         per       0.79      0.76      0.78       940
         tim       0.88      0.86      0.87       859

   micro avg       0.83      0.83      0.83      5327
   macro avg       0.66      0.60      0.62      5327
weighted avg       0.82      0.83      0.83      5327

2022-12-07 04:23:53,872 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 04:23:53,948 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=31b14421-102f-410f-843c-67d7ffa9264a]: finished processing task
2022-12-07 04:23:53,949 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 04:23:54,719 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 04:24:11,611 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670387051 seconds)
2022-12-07 04:24:11,611 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=d575d02d-9496-4f21-9707-4eb006618330
2022-12-07 04:24:11,612 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=d575d02d-9496-4f21-9707-4eb006618330]: invoking result_received_cb ...
2022-12-07 04:24:11,678 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=d575d02d-9496-4f21-9707-4eb006618330]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 04:24:11,678 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=d575d02d-9496-4f21-9707-4eb006618330]: finished processing client result by scatter_and_gather
2022-12-07 04:24:11,704 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670387051 seconds). SubmitUpdate time: 22.86054539680481 seconds
2022-12-07 04:24:11,747 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d575d02d-9496-4f21-9707-4eb006618330]: result sent to server for task: name=train, id=d575d02d-9496-4f21-9707-4eb006618330
2022-12-07 04:24:11,747 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:24:13,815 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:24:17,521 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670387057 seconds)
2022-12-07 04:24:17,521 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=31b14421-102f-410f-843c-67d7ffa9264a
2022-12-07 04:24:17,522 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=31b14421-102f-410f-843c-67d7ffa9264a]: invoking result_received_cb ...
2022-12-07 04:24:17,676 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=31b14421-102f-410f-843c-67d7ffa9264a]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 04:24:17,676 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=31b14421-102f-410f-843c-67d7ffa9264a]: finished processing client result by scatter_and_gather
2022-12-07 04:24:17,680 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:24:17,706 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670387057 seconds). SubmitUpdate time: 22.986734628677368 seconds
2022-12-07 04:24:17,745 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=31b14421-102f-410f-843c-67d7ffa9264a]: result sent to server for task: name=train, id=31b14421-102f-410f-843c-67d7ffa9264a
2022-12-07 04:24:17,746 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:24:19,711 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:24:19,821 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:24:21,721 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:24:21,830 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:24:23,732 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:24:23,841 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:24:25,742 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:24:25,851 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:24:27,753 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:24:27,867 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 04:24:27,875 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:24:28,365 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 04:24:28,366 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 64
2022-12-07 04:24:28,444 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 04:24:28,445 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 04:24:29,270 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 04:24:29,271 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 64 finished.
2022-12-07 04:24:29,271 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 65 started.
2022-12-07 04:24:29,272 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 04:24:29,761 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=4bec56ba-808c-4078-9591-d2714c28a774]: assigned task to client site-1: name=train, id=4bec56ba-808c-4078-9591-d2714c28a774
2022-12-07 04:24:29,762 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=4bec56ba-808c-4078-9591-d2714c28a774]: sent task assignment to client
2022-12-07 04:24:30,595 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 04:24:31,013 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=a08efa8f-fe2e-4d32-a51a-bf62b97fef84]: assigned task to client site-2: name=train, id=a08efa8f-fe2e-4d32-a51a-bf62b97fef84
2022-12-07 04:24:31,014 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=a08efa8f-fe2e-4d32-a51a-bf62b97fef84]: sent task assignment to client
2022-12-07 04:24:31,829 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 04:24:53,315 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.556803464889526 seconds
2022-12-07 04:24:53,330 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 04:24:53,767 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=4bec56ba-808c-4078-9591-d2714c28a774
2022-12-07 04:24:53,767 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4bec56ba-808c-4078-9591-d2714c28a774]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 04:24:53,767 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4bec56ba-808c-4078-9591-d2714c28a774]: Client trainer got task: train
2022-12-07 04:24:54,465 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.586912155151367 seconds
2022-12-07 04:24:54,481 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 04:24:54,882 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=a08efa8f-fe2e-4d32-a51a-bf62b97fef84
2022-12-07 04:24:54,882 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a08efa8f-fe2e-4d32-a51a-bf62b97fef84]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 04:24:54,882 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a08efa8f-fe2e-4d32-a51a-bf62b97fef84]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 04:25:15,963 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4bec56ba-808c-4078-9591-d2714c28a774]: Accuracy when validating site-1's model on site-1s data: 0.9658810604197354
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 04:25:17,009 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a08efa8f-fe2e-4d32-a51a-bf62b97fef84]: Accuracy when validating site-2's model on site-2s data: 0.9676299353981095
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.97      0.99      0.98       222
         eve       0.98      0.96      0.97        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      0.99      0.99      5584
         nat       0.96      0.95      0.96       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.98      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.998113555255723
val 0/1: 
              precision    recall  f1-score   support

         art       0.08      0.05      0.06        19
         eve       0.15      0.19      0.17        16
         geo       0.85      0.86      0.86      1819
         gpe       0.93      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.69      0.69      0.69       991
         per       0.73      0.80      0.76       907
         tim       0.85      0.82      0.83       854

   micro avg       0.81      0.82      0.81      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.81      0.82      0.81      5343

F1-score: 0.9652935083973875
2022-12-07 04:33:58,239 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4bec56ba-808c-4078-9591-d2714c28a774]: train:
              precision    recall  f1-score   support

         art       0.97      0.99      0.98       222
         eve       0.98      0.96      0.97        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      0.99      0.99      5584
         nat       0.96      0.95      0.96       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.98      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.08      0.05      0.06        19
         eve       0.15      0.19      0.17        16
         geo       0.85      0.86      0.86      1819
         gpe       0.93      0.94      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.69      0.69      0.69       991
         per       0.73      0.80      0.76       907
         tim       0.85      0.82      0.83       854

   micro avg       0.81      0.82      0.81      5343
   macro avg       0.54      0.54      0.54      5343
weighted avg       0.81      0.82      0.81      5343

2022-12-07 04:33:58,711 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 04:33:59,174 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4bec56ba-808c-4078-9591-d2714c28a774]: finished processing task
2022-12-07 04:33:59,176 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 04:33:59,986 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.97      0.98       176
         eve       0.96      0.97      0.96       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.95      0.96      0.95        95
         org       0.98      0.98      0.98      8238
         per       0.98      0.99      0.98      6998
         tim       0.98      0.99      0.98      6773

   micro avg       0.98      0.99      0.99     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.98      0.99      0.99     42624

F1-score: 0.997971143855185
val 0/1: 
              precision    recall  f1-score   support

         art       0.47      0.31      0.37        45
         eve       0.13      0.23      0.17        13
         geo       0.83      0.91      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.14      0.08      0.11        12
         org       0.76      0.71      0.73      1045
         per       0.79      0.75      0.77       940
         tim       0.86      0.86      0.86       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.62      0.60      0.60      5327
weighted avg       0.82      0.83      0.82      5327

F1-score: 0.9668080819935533
2022-12-07 04:34:02,713 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a08efa8f-fe2e-4d32-a51a-bf62b97fef84]: train:
              precision    recall  f1-score   support

         art       0.99      0.97      0.98       176
         eve       0.96      0.97      0.96       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.95      0.96      0.95        95
         org       0.98      0.98      0.98      8238
         per       0.98      0.99      0.98      6998
         tim       0.98      0.99      0.98      6773

   micro avg       0.98      0.99      0.99     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.98      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.47      0.31      0.37        45
         eve       0.13      0.23      0.17        13
         geo       0.83      0.91      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.14      0.08      0.11        12
         org       0.76      0.71      0.73      1045
         per       0.79      0.75      0.77       940
         tim       0.86      0.86      0.86       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.62      0.60      0.60      5327
weighted avg       0.82      0.83      0.82      5327

2022-12-07 04:34:02,889 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 04:34:03,635 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a08efa8f-fe2e-4d32-a51a-bf62b97fef84]: finished processing task
2022-12-07 04:34:03,637 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 04:34:04,418 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 04:34:23,310 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670387663 seconds)
2022-12-07 04:34:23,310 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=4bec56ba-808c-4078-9591-d2714c28a774
2022-12-07 04:34:23,311 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4bec56ba-808c-4078-9591-d2714c28a774]: invoking result_received_cb ...
2022-12-07 04:34:23,377 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4bec56ba-808c-4078-9591-d2714c28a774]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 04:34:23,378 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4bec56ba-808c-4078-9591-d2714c28a774]: finished processing client result by scatter_and_gather
2022-12-07 04:34:23,399 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670387663 seconds). SubmitUpdate time: 23.412322998046875 seconds
2022-12-07 04:34:23,428 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4bec56ba-808c-4078-9591-d2714c28a774]: result sent to server for task: name=train, id=4bec56ba-808c-4078-9591-d2714c28a774
2022-12-07 04:34:23,428 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:34:27,240 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670387667 seconds)
2022-12-07 04:34:27,240 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=a08efa8f-fe2e-4d32-a51a-bf62b97fef84
2022-12-07 04:34:27,241 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a08efa8f-fe2e-4d32-a51a-bf62b97fef84]: invoking result_received_cb ...
2022-12-07 04:34:27,394 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a08efa8f-fe2e-4d32-a51a-bf62b97fef84]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 04:34:27,395 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a08efa8f-fe2e-4d32-a51a-bf62b97fef84]: finished processing client result by scatter_and_gather
2022-12-07 04:34:27,428 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670387667 seconds). SubmitUpdate time: 23.009957790374756 seconds
2022-12-07 04:34:27,456 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:34:27,489 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a08efa8f-fe2e-4d32-a51a-bf62b97fef84]: result sent to server for task: name=train, id=a08efa8f-fe2e-4d32-a51a-bf62b97fef84
2022-12-07 04:34:27,490 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:34:29,467 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:34:29,561 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:34:31,501 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:34:31,572 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:34:33,512 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:34:33,583 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:34:35,522 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:34:35,594 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:34:37,533 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:34:37,597 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 04:34:37,604 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:34:38,096 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 04:34:38,097 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 65
2022-12-07 04:34:38,220 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 04:34:38,220 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 04:34:39,004 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 04:34:39,005 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 65 finished.
2022-12-07 04:34:39,005 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 66 started.
2022-12-07 04:34:39,006 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 04:34:39,542 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=895371c3-8e15-4a58-affb-49031d9ffbcf]: assigned task to client site-1: name=train, id=895371c3-8e15-4a58-affb-49031d9ffbcf
2022-12-07 04:34:39,543 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=895371c3-8e15-4a58-affb-49031d9ffbcf]: sent task assignment to client
2022-12-07 04:34:40,361 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 04:34:40,772 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=865ef6a3-e690-4bd3-9461-2aff324ee59f]: assigned task to client site-2: name=train, id=865ef6a3-e690-4bd3-9461-2aff324ee59f
2022-12-07 04:34:40,773 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=865ef6a3-e690-4bd3-9461-2aff324ee59f]: sent task assignment to client
2022-12-07 04:34:41,596 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 04:35:03,086 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.546785831451416 seconds
2022-12-07 04:35:03,093 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 04:35:03,536 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=895371c3-8e15-4a58-affb-49031d9ffbcf
2022-12-07 04:35:03,536 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=895371c3-8e15-4a58-affb-49031d9ffbcf]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 04:35:03,536 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=895371c3-8e15-4a58-affb-49031d9ffbcf]: Client trainer got task: train
2022-12-07 04:35:04,309 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.698864936828613 seconds
2022-12-07 04:35:04,325 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 04:35:04,738 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=865ef6a3-e690-4bd3-9461-2aff324ee59f
2022-12-07 04:35:04,739 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=865ef6a3-e690-4bd3-9461-2aff324ee59f]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 04:35:04,739 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=865ef6a3-e690-4bd3-9461-2aff324ee59f]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 04:35:25,739 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=895371c3-8e15-4a58-affb-49031d9ffbcf]: Accuracy when validating site-1's model on site-1s data: 0.965384700069086
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 04:35:26,863 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=865ef6a3-e690-4bd3-9461-2aff324ee59f]: Accuracy when validating site-2's model on site-2s data: 0.9675592638919575
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      0.97      0.97       222
         eve       0.93      0.96      0.94        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.91      0.92      0.92       116
         org       0.97      0.97      0.97      8377
         per       0.98      0.98      0.98      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.98      0.98      0.98     43021
   macro avg       0.97      0.97      0.97     43021
weighted avg       0.98      0.98      0.98     43021

F1-score: 0.9976088047409482
val 0/1: 
              precision    recall  f1-score   support

         art       0.11      0.05      0.07        19
         eve       0.20      0.19      0.19        16
         geo       0.83      0.87      0.85      1819
         gpe       0.93      0.94      0.94       731
         nat       0.33      0.17      0.22         6
         org       0.72      0.66      0.69       991
         per       0.72      0.80      0.76       907
         tim       0.84      0.81      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.59      0.56      0.57      5343
weighted avg       0.80      0.81      0.81      5343

F1-score: 0.9644695022117625
2022-12-07 04:44:08,136 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=895371c3-8e15-4a58-affb-49031d9ffbcf]: train:
              precision    recall  f1-score   support

         art       0.98      0.97      0.97       222
         eve       0.93      0.96      0.94        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.91      0.92      0.92       116
         org       0.97      0.97      0.97      8377
         per       0.98      0.98      0.98      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.98      0.98      0.98     43021
   macro avg       0.97      0.97      0.97     43021
weighted avg       0.98      0.98      0.98     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.11      0.05      0.07        19
         eve       0.20      0.19      0.19        16
         geo       0.83      0.87      0.85      1819
         gpe       0.93      0.94      0.94       731
         nat       0.33      0.17      0.22         6
         org       0.72      0.66      0.69       991
         per       0.72      0.80      0.76       907
         tim       0.84      0.81      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.59      0.56      0.57      5343
weighted avg       0.80      0.81      0.81      5343

2022-12-07 04:44:08,567 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 04:44:09,082 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=895371c3-8e15-4a58-affb-49031d9ffbcf]: finished processing task
2022-12-07 04:44:09,084 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 04:44:09,895 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.97      0.97      0.97       176
         eve       0.97      0.97      0.97       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.98      0.98      0.98        95
         org       0.98      0.98      0.98      8238
         per       0.98      0.99      0.98      6998
         tim       0.98      0.99      0.98      6773

   micro avg       0.98      0.99      0.99     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.98      0.99      0.99     42624

F1-score: 0.997912063436365
val 0/1: 
              precision    recall  f1-score   support

         art       0.42      0.24      0.31        45
         eve       0.12      0.23      0.16        13
         geo       0.85      0.88      0.87      1773
         gpe       0.96      0.93      0.94       640
         nat       0.11      0.08      0.10        12
         org       0.72      0.71      0.71      1045
         per       0.76      0.78      0.77       940
         tim       0.86      0.85      0.86       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.60      0.59      0.59      5327
weighted avg       0.81      0.82      0.82      5327

F1-score: 0.9661043246289716
2022-12-07 04:44:12,103 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=865ef6a3-e690-4bd3-9461-2aff324ee59f]: train:
              precision    recall  f1-score   support

         art       0.97      0.97      0.97       176
         eve       0.97      0.97      0.97       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.98      0.98      0.98        95
         org       0.98      0.98      0.98      8238
         per       0.98      0.99      0.98      6998
         tim       0.98      0.99      0.98      6773

   micro avg       0.98      0.99      0.99     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.98      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.42      0.24      0.31        45
         eve       0.12      0.23      0.16        13
         geo       0.85      0.88      0.87      1773
         gpe       0.96      0.93      0.94       640
         nat       0.11      0.08      0.10        12
         org       0.72      0.71      0.71      1045
         per       0.76      0.78      0.77       940
         tim       0.86      0.85      0.86       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.60      0.59      0.59      5327
weighted avg       0.81      0.82      0.82      5327

2022-12-07 04:44:12,279 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 04:44:13,290 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=865ef6a3-e690-4bd3-9461-2aff324ee59f]: finished processing task
2022-12-07 04:44:13,292 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 04:44:14,081 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 04:44:32,674 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670388272 seconds)
2022-12-07 04:44:32,674 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=895371c3-8e15-4a58-affb-49031d9ffbcf
2022-12-07 04:44:32,674 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=895371c3-8e15-4a58-affb-49031d9ffbcf]: invoking result_received_cb ...
2022-12-07 04:44:32,747 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=895371c3-8e15-4a58-affb-49031d9ffbcf]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 04:44:32,747 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=895371c3-8e15-4a58-affb-49031d9ffbcf]: finished processing client result by scatter_and_gather
2022-12-07 04:44:32,779 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670388272 seconds). SubmitUpdate time: 22.88328194618225 seconds
2022-12-07 04:44:32,829 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=895371c3-8e15-4a58-affb-49031d9ffbcf]: result sent to server for task: name=train, id=895371c3-8e15-4a58-affb-49031d9ffbcf
2022-12-07 04:44:32,829 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:44:36,888 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670388276 seconds)
2022-12-07 04:44:36,888 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=865ef6a3-e690-4bd3-9461-2aff324ee59f
2022-12-07 04:44:36,889 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=865ef6a3-e690-4bd3-9461-2aff324ee59f]: invoking result_received_cb ...
2022-12-07 04:44:37,043 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=865ef6a3-e690-4bd3-9461-2aff324ee59f]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 04:44:37,043 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=865ef6a3-e690-4bd3-9461-2aff324ee59f]: finished processing client result by scatter_and_gather
2022-12-07 04:44:37,075 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670388276 seconds). SubmitUpdate time: 22.994181632995605 seconds
2022-12-07 04:44:37,081 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:44:37,109 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=865ef6a3-e690-4bd3-9461-2aff324ee59f]: result sent to server for task: name=train, id=865ef6a3-e690-4bd3-9461-2aff324ee59f
2022-12-07 04:44:37,110 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:44:39,092 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:44:39,191 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:44:41,101 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:44:41,201 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:44:43,111 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:44:43,212 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:44:45,127 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:44:45,222 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:44:47,138 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:44:47,233 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:44:47,238 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 04:44:47,238 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 04:44:47,239 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 66
2022-12-07 04:44:47,327 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 04:44:47,328 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 04:44:48,458 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 04:44:48,459 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 66 finished.
2022-12-07 04:44:48,459 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 67 started.
2022-12-07 04:44:48,460 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 04:44:49,145 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=1462b2ed-eb29-4597-9964-310805dc4608]: assigned task to client site-1: name=train, id=1462b2ed-eb29-4597-9964-310805dc4608
2022-12-07 04:44:49,147 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=1462b2ed-eb29-4597-9964-310805dc4608]: sent task assignment to client
2022-12-07 04:44:49,994 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 04:44:50,405 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=4fd9d64e-b5ec-4f7a-8208-048bfcae0d68]: assigned task to client site-2: name=train, id=4fd9d64e-b5ec-4f7a-8208-048bfcae0d68
2022-12-07 04:44:50,407 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=4fd9d64e-b5ec-4f7a-8208-048bfcae0d68]: sent task assignment to client
2022-12-07 04:44:51,219 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 04:45:12,590 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.447153329849243 seconds
2022-12-07 04:45:12,622 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 04:45:13,036 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=1462b2ed-eb29-4597-9964-310805dc4608
2022-12-07 04:45:13,037 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1462b2ed-eb29-4597-9964-310805dc4608]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 04:45:13,037 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1462b2ed-eb29-4597-9964-310805dc4608]: Client trainer got task: train
2022-12-07 04:45:14,043 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.805213689804077 seconds
2022-12-07 04:45:14,060 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 04:45:14,484 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=4fd9d64e-b5ec-4f7a-8208-048bfcae0d68
2022-12-07 04:45:14,484 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4fd9d64e-b5ec-4f7a-8208-048bfcae0d68]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 04:45:14,484 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4fd9d64e-b5ec-4f7a-8208-048bfcae0d68]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 04:45:35,253 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1462b2ed-eb29-4597-9964-310805dc4608]: Accuracy when validating site-1's model on site-1s data: 0.9651059888034985
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 04:45:36,578 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4fd9d64e-b5ec-4f7a-8208-048bfcae0d68]: Accuracy when validating site-2's model on site-2s data: 0.9674382292156477
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.96      0.96      0.96       222
         eve       0.93      0.95      0.94        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.92      0.94      0.93       116
         org       0.97      0.98      0.98      8377
         per       0.98      0.99      0.99      7230
         tim       0.98      0.99      0.98      6802

   micro avg       0.98      0.99      0.98     43021
   macro avg       0.97      0.97      0.97     43021
weighted avg       0.98      0.99      0.98     43021

F1-score: 0.9978124201874818
val 0/1: 
              precision    recall  f1-score   support

         art       0.04      0.05      0.04        19
         eve       0.08      0.12      0.10        16
         geo       0.84      0.85      0.85      1819
         gpe       0.92      0.94      0.93       731
         nat       0.33      0.17      0.22         6
         org       0.68      0.67      0.67       991
         per       0.73      0.80      0.76       907
         tim       0.85      0.81      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.56      0.55      0.55      5343
weighted avg       0.80      0.81      0.80      5343

F1-score: 0.964408642066571
2022-12-07 04:54:18,235 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1462b2ed-eb29-4597-9964-310805dc4608]: train:
              precision    recall  f1-score   support

         art       0.96      0.96      0.96       222
         eve       0.93      0.95      0.94        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.92      0.94      0.93       116
         org       0.97      0.98      0.98      8377
         per       0.98      0.99      0.99      7230
         tim       0.98      0.99      0.98      6802

   micro avg       0.98      0.99      0.98     43021
   macro avg       0.97      0.97      0.97     43021
weighted avg       0.98      0.99      0.98     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.04      0.05      0.04        19
         eve       0.08      0.12      0.10        16
         geo       0.84      0.85      0.85      1819
         gpe       0.92      0.94      0.93       731
         nat       0.33      0.17      0.22         6
         org       0.68      0.67      0.67       991
         per       0.73      0.80      0.76       907
         tim       0.85      0.81      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.56      0.55      0.55      5343
weighted avg       0.80      0.81      0.80      5343

2022-12-07 04:54:18,981 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 04:54:19,199 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1462b2ed-eb29-4597-9964-310805dc4608]: finished processing task
2022-12-07 04:54:19,201 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 04:54:20,035 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      0.98      0.98       176
         eve       0.94      0.97      0.96       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.97      0.96      0.96        95
         org       0.97      0.98      0.98      8238
         per       0.98      0.99      0.98      6998
         tim       0.98      0.99      0.99      6773

   micro avg       0.98      0.99      0.98     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.98      0.99      0.98     42624

F1-score: 0.9978819349992382
val 0/1: 
              precision    recall  f1-score   support

         art       0.48      0.22      0.30        45
         eve       0.20      0.31      0.24        13
         geo       0.83      0.90      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.12      0.08      0.10        12
         org       0.74      0.70      0.72      1045
         per       0.77      0.78      0.77       940
         tim       0.85      0.86      0.85       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.62      0.60      0.60      5327
weighted avg       0.82      0.83      0.82      5327

F1-score: 0.9659923183651639
2022-12-07 04:54:21,883 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4fd9d64e-b5ec-4f7a-8208-048bfcae0d68]: train:
              precision    recall  f1-score   support

         art       0.98      0.98      0.98       176
         eve       0.94      0.97      0.96       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.97      0.96      0.96        95
         org       0.97      0.98      0.98      8238
         per       0.98      0.99      0.98      6998
         tim       0.98      0.99      0.99      6773

   micro avg       0.98      0.99      0.98     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.98      0.99      0.98     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.48      0.22      0.30        45
         eve       0.20      0.31      0.24        13
         geo       0.83      0.90      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.12      0.08      0.10        12
         org       0.74      0.70      0.72      1045
         per       0.77      0.78      0.77       940
         tim       0.85      0.86      0.85       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.62      0.60      0.60      5327
weighted avg       0.82      0.83      0.82      5327

2022-12-07 04:54:22,634 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 04:54:22,823 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4fd9d64e-b5ec-4f7a-8208-048bfcae0d68]: finished processing task
2022-12-07 04:54:22,825 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 04:54:23,618 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 04:54:42,835 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670388882 seconds)
2022-12-07 04:54:42,835 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=1462b2ed-eb29-4597-9964-310805dc4608
2022-12-07 04:54:42,835 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1462b2ed-eb29-4597-9964-310805dc4608]: invoking result_received_cb ...
2022-12-07 04:54:43,207 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1462b2ed-eb29-4597-9964-310805dc4608]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 04:54:43,208 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1462b2ed-eb29-4597-9964-310805dc4608]: finished processing client result by scatter_and_gather
2022-12-07 04:54:43,238 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670388882 seconds). SubmitUpdate time: 23.202388286590576 seconds
2022-12-07 04:54:43,284 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1462b2ed-eb29-4597-9964-310805dc4608]: result sent to server for task: name=train, id=1462b2ed-eb29-4597-9964-310805dc4608
2022-12-07 04:54:43,285 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:54:46,685 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670388886 seconds)
2022-12-07 04:54:46,685 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=4fd9d64e-b5ec-4f7a-8208-048bfcae0d68
2022-12-07 04:54:46,686 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4fd9d64e-b5ec-4f7a-8208-048bfcae0d68]: invoking result_received_cb ...
2022-12-07 04:54:46,845 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4fd9d64e-b5ec-4f7a-8208-048bfcae0d68]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 04:54:46,845 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4fd9d64e-b5ec-4f7a-8208-048bfcae0d68]: finished processing client result by scatter_and_gather
2022-12-07 04:54:46,878 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670388886 seconds). SubmitUpdate time: 23.259655475616455 seconds
2022-12-07 04:54:46,882 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:54:46,927 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4fd9d64e-b5ec-4f7a-8208-048bfcae0d68]: result sent to server for task: name=train, id=4fd9d64e-b5ec-4f7a-8208-048bfcae0d68
2022-12-07 04:54:46,928 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:54:48,903 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:54:49,002 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:54:50,912 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:54:51,018 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:54:52,922 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:54:53,028 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:54:54,933 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:54:55,039 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:54:56,943 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 04:54:57,024 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 04:54:57,049 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 04:54:57,523 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 04:54:57,524 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 67
2022-12-07 04:54:57,646 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 04:54:57,646 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 04:54:58,291 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 04:54:58,291 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 67 finished.
2022-12-07 04:54:58,291 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 68 started.
2022-12-07 04:54:58,292 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 04:54:58,950 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=98ab90b7-d9d1-4550-91b5-5fc405875b9b]: assigned task to client site-1: name=train, id=98ab90b7-d9d1-4550-91b5-5fc405875b9b
2022-12-07 04:54:58,951 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=98ab90b7-d9d1-4550-91b5-5fc405875b9b]: sent task assignment to client
2022-12-07 04:54:59,782 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 04:55:00,197 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=ddabb37d-ec5f-47f3-8bf6-cf08fcb86b81]: assigned task to client site-2: name=train, id=ddabb37d-ec5f-47f3-8bf6-cf08fcb86b81
2022-12-07 04:55:00,198 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=ddabb37d-ec5f-47f3-8bf6-cf08fcb86b81]: sent task assignment to client
2022-12-07 04:55:01,006 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 04:55:22,540 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.592668294906616 seconds
2022-12-07 04:55:22,571 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 04:55:22,982 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=98ab90b7-d9d1-4550-91b5-5fc405875b9b
2022-12-07 04:55:22,983 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=98ab90b7-d9d1-4550-91b5-5fc405875b9b]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 04:55:22,983 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=98ab90b7-d9d1-4550-91b5-5fc405875b9b]: Client trainer got task: train
2022-12-07 04:55:23,692 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.637163400650024 seconds
2022-12-07 04:55:23,708 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 04:55:24,133 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=ddabb37d-ec5f-47f3-8bf6-cf08fcb86b81
2022-12-07 04:55:24,133 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ddabb37d-ec5f-47f3-8bf6-cf08fcb86b81]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 04:55:24,133 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ddabb37d-ec5f-47f3-8bf6-cf08fcb86b81]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 04:55:45,143 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=98ab90b7-d9d1-4550-91b5-5fc405875b9b]: Accuracy when validating site-1's model on site-1s data: 0.9655617979650244
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 04:55:46,256 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ddabb37d-ec5f-47f3-8bf6-cf08fcb86b81]: Accuracy when validating site-2's model on site-2s data: 0.9670885567819877
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      0.98      0.98       222
         eve       0.93      0.96      0.94        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.96      0.96      0.96       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.97      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9981058557432808
val 0/1: 
              precision    recall  f1-score   support

         art       0.07      0.05      0.06        19
         eve       0.21      0.25      0.23        16
         geo       0.86      0.87      0.86      1819
         gpe       0.95      0.92      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.69      0.70       991
         per       0.71      0.81      0.76       907
         tim       0.84      0.83      0.83       854

   micro avg       0.81      0.82      0.81      5343
   macro avg       0.54      0.55      0.55      5343
weighted avg       0.81      0.82      0.81      5343

F1-score: 0.9654752785179762
2022-12-07 05:04:27,583 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=98ab90b7-d9d1-4550-91b5-5fc405875b9b]: train:
              precision    recall  f1-score   support

         art       0.98      0.98      0.98       222
         eve       0.93      0.96      0.94        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.96      0.96      0.96       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.97      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.07      0.05      0.06        19
         eve       0.21      0.25      0.23        16
         geo       0.86      0.87      0.86      1819
         gpe       0.95      0.92      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.71      0.69      0.70       991
         per       0.71      0.81      0.76       907
         tim       0.84      0.83      0.83       854

   micro avg       0.81      0.82      0.81      5343
   macro avg       0.54      0.55      0.55      5343
weighted avg       0.81      0.82      0.81      5343

2022-12-07 05:04:28,170 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 05:04:28,622 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=98ab90b7-d9d1-4550-91b5-5fc405875b9b]: finished processing task
2022-12-07 05:04:28,623 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 05:04:29,423 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.94      0.95      0.95       176
         eve       0.88      0.91      0.90       117
         geo       0.98      0.98      0.98     14724
         gpe       0.99      0.98      0.99      5503
         nat       0.93      0.91      0.92        95
         org       0.96      0.96      0.96      8238
         per       0.96      0.97      0.96      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.97      0.97      0.97     42624
   macro avg       0.95      0.96      0.95     42624
weighted avg       0.97      0.97      0.97     42624

F1-score: 0.9959529386905919
val 0/1: 
              precision    recall  f1-score   support

         art       0.50      0.31      0.38        45
         eve       0.25      0.38      0.30        13
         geo       0.85      0.88      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.33      0.08      0.13        12
         org       0.70      0.70      0.70      1045
         per       0.78      0.77      0.77       940
         tim       0.88      0.85      0.86       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.65      0.61      0.62      5327
weighted avg       0.82      0.82      0.82      5327

F1-score: 0.9661665327551591
2022-12-07 05:04:31,502 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ddabb37d-ec5f-47f3-8bf6-cf08fcb86b81]: train:
              precision    recall  f1-score   support

         art       0.94      0.95      0.95       176
         eve       0.88      0.91      0.90       117
         geo       0.98      0.98      0.98     14724
         gpe       0.99      0.98      0.99      5503
         nat       0.93      0.91      0.92        95
         org       0.96      0.96      0.96      8238
         per       0.96      0.97      0.96      6998
         tim       0.97      0.97      0.97      6773

   micro avg       0.97      0.97      0.97     42624
   macro avg       0.95      0.96      0.95     42624
weighted avg       0.97      0.97      0.97     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.50      0.31      0.38        45
         eve       0.25      0.38      0.30        13
         geo       0.85      0.88      0.86      1773
         gpe       0.95      0.93      0.94       640
         nat       0.33      0.08      0.13        12
         org       0.70      0.70      0.70      1045
         per       0.78      0.77      0.77       940
         tim       0.88      0.85      0.86       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.65      0.61      0.62      5327
weighted avg       0.82      0.82      0.82      5327

2022-12-07 05:04:32,288 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 05:04:32,813 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ddabb37d-ec5f-47f3-8bf6-cf08fcb86b81]: finished processing task
2022-12-07 05:04:32,814 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 05:04:33,609 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 05:04:52,165 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670389492 seconds)
2022-12-07 05:04:52,165 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=98ab90b7-d9d1-4550-91b5-5fc405875b9b
2022-12-07 05:04:52,165 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=98ab90b7-d9d1-4550-91b5-5fc405875b9b]: invoking result_received_cb ...
2022-12-07 05:04:52,236 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=98ab90b7-d9d1-4550-91b5-5fc405875b9b]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 05:04:52,237 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=98ab90b7-d9d1-4550-91b5-5fc405875b9b]: finished processing client result by scatter_and_gather
2022-12-07 05:04:52,267 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670389492 seconds). SubmitUpdate time: 22.84441637992859 seconds
2022-12-07 05:04:52,293 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=98ab90b7-d9d1-4550-91b5-5fc405875b9b]: result sent to server for task: name=train, id=98ab90b7-d9d1-4550-91b5-5fc405875b9b
2022-12-07 05:04:52,293 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:04:56,393 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670389496 seconds)
2022-12-07 05:04:56,393 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=ddabb37d-ec5f-47f3-8bf6-cf08fcb86b81
2022-12-07 05:04:56,394 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ddabb37d-ec5f-47f3-8bf6-cf08fcb86b81]: invoking result_received_cb ...
2022-12-07 05:04:56,557 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ddabb37d-ec5f-47f3-8bf6-cf08fcb86b81]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 05:04:56,558 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ddabb37d-ec5f-47f3-8bf6-cf08fcb86b81]: finished processing client result by scatter_and_gather
2022-12-07 05:04:56,591 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670389496 seconds). SubmitUpdate time: 22.981521129608154 seconds
2022-12-07 05:04:56,596 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:04:56,637 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ddabb37d-ec5f-47f3-8bf6-cf08fcb86b81]: result sent to server for task: name=train, id=ddabb37d-ec5f-47f3-8bf6-cf08fcb86b81
2022-12-07 05:04:56,638 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:04:58,605 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:04:58,708 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:05:00,614 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:05:00,730 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:05:02,638 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:05:02,740 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:05:04,649 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:05:04,750 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:05:06,659 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:05:06,740 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 05:05:06,760 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:05:07,239 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 05:05:07,240 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 68
2022-12-07 05:05:07,317 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 05:05:07,318 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 05:05:07,864 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 05:05:07,865 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 68 finished.
2022-12-07 05:05:07,865 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 69 started.
2022-12-07 05:05:07,866 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 05:05:08,667 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=4ba9c2b6-6bdb-4874-8349-8fafa1464ab2]: assigned task to client site-1: name=train, id=4ba9c2b6-6bdb-4874-8349-8fafa1464ab2
2022-12-07 05:05:08,668 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=4ba9c2b6-6bdb-4874-8349-8fafa1464ab2]: sent task assignment to client
2022-12-07 05:05:09,499 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 05:05:09,908 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=1c92caa1-160f-4fd8-ac44-09147fb9a7db]: assigned task to client site-2: name=train, id=1c92caa1-160f-4fd8-ac44-09147fb9a7db
2022-12-07 05:05:09,909 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=1c92caa1-160f-4fd8-ac44-09147fb9a7db]: sent task assignment to client
2022-12-07 05:05:10,715 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 05:05:32,170 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.50499415397644 seconds
2022-12-07 05:05:32,201 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 05:05:32,644 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=4ba9c2b6-6bdb-4874-8349-8fafa1464ab2
2022-12-07 05:05:32,644 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4ba9c2b6-6bdb-4874-8349-8fafa1464ab2]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 05:05:32,645 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4ba9c2b6-6bdb-4874-8349-8fafa1464ab2]: Client trainer got task: train
2022-12-07 05:05:33,388 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.624117374420166 seconds
2022-12-07 05:05:33,405 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 05:05:33,811 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=1c92caa1-160f-4fd8-ac44-09147fb9a7db
2022-12-07 05:05:33,812 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1c92caa1-160f-4fd8-ac44-09147fb9a7db]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 05:05:33,812 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1c92caa1-160f-4fd8-ac44-09147fb9a7db]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 05:05:54,815 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4ba9c2b6-6bdb-4874-8349-8fafa1464ab2]: Accuracy when validating site-1's model on site-1s data: 0.9661584825709579
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 05:05:55,898 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1c92caa1-160f-4fd8-ac44-09147fb9a7db]: Accuracy when validating site-2's model on site-2s data: 0.9677499822420077
2022-12-07 05:14:36,556 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
-------------------------------------------------- save local model: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       222
         eve       0.97      0.98      0.97        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.92      0.94      0.93       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.98      7230
         tim       0.98      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9981252021015817
val 0/1: 
              precision    recall  f1-score   support

         art       0.08      0.05      0.06        19
         eve       0.11      0.12      0.12        16
         geo       0.83      0.88      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.67      0.33      0.44         6
         org       0.70      0.68      0.69       991
         per       0.74      0.79      0.77       907
         tim       0.83      0.82      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.61      0.58      0.59      5343
weighted avg       0.80      0.82      0.81      5343

F1-score: 0.965082602545469
2022-12-07 05:14:37,013 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4ba9c2b6-6bdb-4874-8349-8fafa1464ab2]: train:
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       222
         eve       0.97      0.98      0.97        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.92      0.94      0.93       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.98      7230
         tim       0.98      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.08      0.05      0.06        19
         eve       0.11      0.12      0.12        16
         geo       0.83      0.88      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.67      0.33      0.44         6
         org       0.70      0.68      0.69       991
         per       0.74      0.79      0.77       907
         tim       0.83      0.82      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.61      0.58      0.59      5343
weighted avg       0.80      0.82      0.81      5343

-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 05:14:37,901 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4ba9c2b6-6bdb-4874-8349-8fafa1464ab2]: finished processing task
2022-12-07 05:14:37,902 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 05:14:38,703 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.96      0.97      0.97       176
         eve       0.97      0.97      0.97       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.97      0.95      0.96        95
         org       0.98      0.98      0.98      8238
         per       0.98      0.99      0.99      6998
         tim       0.98      0.99      0.98      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9981006064384691
val 0/1: 
              precision    recall  f1-score   support

         art       0.53      0.22      0.31        45
         eve       0.19      0.31      0.24        13
         geo       0.84      0.89      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.14      0.08      0.11        12
         org       0.74      0.73      0.73      1045
         per       0.78      0.78      0.78       940
         tim       0.86      0.85      0.86       859

   micro avg       0.82      0.83      0.83      5327
   macro avg       0.63      0.60      0.60      5327
weighted avg       0.82      0.83      0.82      5327

F1-score: 0.9669803836885436
2022-12-07 05:14:40,286 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1c92caa1-160f-4fd8-ac44-09147fb9a7db]: train:
              precision    recall  f1-score   support

         art       0.96      0.97      0.97       176
         eve       0.97      0.97      0.97       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.97      0.95      0.96        95
         org       0.98      0.98      0.98      8238
         per       0.98      0.99      0.99      6998
         tim       0.98      0.99      0.98      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.53      0.22      0.31        45
         eve       0.19      0.31      0.24        13
         geo       0.84      0.89      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.14      0.08      0.11        12
         org       0.74      0.73      0.73      1045
         per       0.78      0.78      0.78       940
         tim       0.86      0.85      0.86       859

   micro avg       0.82      0.83      0.83      5327
   macro avg       0.63      0.60      0.60      5327
weighted avg       0.82      0.83      0.82      5327

2022-12-07 05:14:40,766 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 05:14:41,218 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1c92caa1-160f-4fd8-ac44-09147fb9a7db]: finished processing task
2022-12-07 05:14:41,219 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 05:14:41,991 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 05:15:01,532 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670390101 seconds)
2022-12-07 05:15:01,532 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=4ba9c2b6-6bdb-4874-8349-8fafa1464ab2
2022-12-07 05:15:01,533 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4ba9c2b6-6bdb-4874-8349-8fafa1464ab2]: invoking result_received_cb ...
2022-12-07 05:15:01,908 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4ba9c2b6-6bdb-4874-8349-8fafa1464ab2]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 05:15:01,908 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4ba9c2b6-6bdb-4874-8349-8fafa1464ab2]: finished processing client result by scatter_and_gather
2022-12-07 05:15:01,939 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670390101 seconds). SubmitUpdate time: 23.236451387405396 seconds
2022-12-07 05:15:01,957 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4ba9c2b6-6bdb-4874-8349-8fafa1464ab2]: result sent to server for task: name=train, id=4ba9c2b6-6bdb-4874-8349-8fafa1464ab2
2022-12-07 05:15:01,958 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:15:04,871 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670390104 seconds)
2022-12-07 05:15:04,871 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=1c92caa1-160f-4fd8-ac44-09147fb9a7db
2022-12-07 05:15:04,872 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1c92caa1-160f-4fd8-ac44-09147fb9a7db]: invoking result_received_cb ...
2022-12-07 05:15:05,023 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1c92caa1-160f-4fd8-ac44-09147fb9a7db]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 05:15:05,024 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1c92caa1-160f-4fd8-ac44-09147fb9a7db]: finished processing client result by scatter_and_gather
2022-12-07 05:15:05,057 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670390104 seconds). SubmitUpdate time: 23.065929889678955 seconds
2022-12-07 05:15:05,094 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:15:05,097 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1c92caa1-160f-4fd8-ac44-09147fb9a7db]: result sent to server for task: name=train, id=1c92caa1-160f-4fd8-ac44-09147fb9a7db
2022-12-07 05:15:05,098 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:15:07,104 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:15:07,169 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:15:09,115 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:15:09,179 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:15:11,126 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:15:11,205 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:15:13,136 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:15:13,215 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:15:15,146 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:15:15,202 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 05:15:15,226 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:15:15,700 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 05:15:15,701 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 69
2022-12-07 05:15:15,821 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 05:15:15,822 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 05:15:16,481 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 05:15:16,482 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 69 finished.
2022-12-07 05:15:16,482 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 70 started.
2022-12-07 05:15:16,482 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 05:15:17,154 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=3a28d798-d692-4445-8671-250bfba94740]: assigned task to client site-1: name=train, id=3a28d798-d692-4445-8671-250bfba94740
2022-12-07 05:15:17,155 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=3a28d798-d692-4445-8671-250bfba94740]: sent task assignment to client
2022-12-07 05:15:17,995 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 05:15:18,418 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=ef80ca30-8f13-470c-81ea-0d6bb5a8d440]: assigned task to client site-2: name=train, id=ef80ca30-8f13-470c-81ea-0d6bb5a8d440
2022-12-07 05:15:18,419 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=ef80ca30-8f13-470c-81ea-0d6bb5a8d440]: sent task assignment to client
2022-12-07 05:15:19,238 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 05:15:40,661 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.509371995925903 seconds
2022-12-07 05:15:40,693 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 05:15:41,111 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=3a28d798-d692-4445-8671-250bfba94740
2022-12-07 05:15:41,111 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3a28d798-d692-4445-8671-250bfba94740]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 05:15:41,111 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3a28d798-d692-4445-8671-250bfba94740]: Client trainer got task: train
2022-12-07 05:15:42,019 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.77546453475952 seconds
2022-12-07 05:15:42,037 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 05:15:42,454 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=ef80ca30-8f13-470c-81ea-0d6bb5a8d440
2022-12-07 05:15:42,455 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ef80ca30-8f13-470c-81ea-0d6bb5a8d440]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 05:15:42,455 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ef80ca30-8f13-470c-81ea-0d6bb5a8d440]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 05:16:03,296 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3a28d798-d692-4445-8671-250bfba94740]: Accuracy when validating site-1's model on site-1s data: 0.9658983908016471
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 05:16:04,545 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ef80ca30-8f13-470c-81ea-0d6bb5a8d440]: Accuracy when validating site-2's model on site-2s data: 0.9672947366587903
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.97      0.98      0.97       222
         eve       0.91      0.93      0.92        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.93      0.94      0.94       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.99      7230
         tim       0.98      0.99      0.99      6802

   micro avg       0.98      0.99      0.99     43021
   macro avg       0.97      0.97      0.97     43021
weighted avg       0.98      0.99      0.99     43021

F1-score: 0.9980596339522269
val 0/1: 
              precision    recall  f1-score   support

         art       0.09      0.11      0.10        19
         eve       0.10      0.12      0.11        16
         geo       0.84      0.87      0.85      1819
         gpe       0.94      0.95      0.94       731
         nat       0.17      0.17      0.17         6
         org       0.67      0.67      0.67       991
         per       0.73      0.76      0.75       907
         tim       0.85      0.82      0.84       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.55      0.56      0.55      5343
weighted avg       0.80      0.81      0.80      5343

F1-score: 0.9638540649840107
2022-12-07 05:24:46,005 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3a28d798-d692-4445-8671-250bfba94740]: train:
              precision    recall  f1-score   support

         art       0.97      0.98      0.97       222
         eve       0.91      0.93      0.92        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.93      0.94      0.94       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.99      7230
         tim       0.98      0.99      0.99      6802

   micro avg       0.98      0.99      0.99     43021
   macro avg       0.97      0.97      0.97     43021
weighted avg       0.98      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.09      0.11      0.10        19
         eve       0.10      0.12      0.11        16
         geo       0.84      0.87      0.85      1819
         gpe       0.94      0.95      0.94       731
         nat       0.17      0.17      0.17         6
         org       0.67      0.67      0.67       991
         per       0.73      0.76      0.75       907
         tim       0.85      0.82      0.84       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.55      0.56      0.55      5343
weighted avg       0.80      0.81      0.80      5343

2022-12-07 05:24:46,046 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 05:24:46,940 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3a28d798-d692-4445-8671-250bfba94740]: finished processing task
2022-12-07 05:24:46,942 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 05:24:47,753 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.97      0.97      0.97       176
         eve       0.97      0.97      0.97       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.95      0.97      0.96        95
         org       0.98      0.98      0.98      8238
         per       0.99      0.99      0.99      6998
         tim       0.98      0.99      0.98      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9983062801941035
val 0/1: 
              precision    recall  f1-score   support

         art       0.69      0.20      0.31        45
         eve       0.29      0.38      0.33        13
         geo       0.85      0.89      0.87      1773
         gpe       0.96      0.93      0.94       640
         nat       0.33      0.08      0.13        12
         org       0.72      0.74      0.73      1045
         per       0.80      0.78      0.79       940
         tim       0.85      0.86      0.86       859

   micro avg       0.83      0.83      0.83      5327
   macro avg       0.69      0.61      0.62      5327
weighted avg       0.82      0.83      0.83      5327

F1-score: 0.9672655675464414
2022-12-07 05:24:49,679 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ef80ca30-8f13-470c-81ea-0d6bb5a8d440]: train:
              precision    recall  f1-score   support

         art       0.97      0.97      0.97       176
         eve       0.97      0.97      0.97       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.95      0.97      0.96        95
         org       0.98      0.98      0.98      8238
         per       0.99      0.99      0.99      6998
         tim       0.98      0.99      0.98      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.69      0.20      0.31        45
         eve       0.29      0.38      0.33        13
         geo       0.85      0.89      0.87      1773
         gpe       0.96      0.93      0.94       640
         nat       0.33      0.08      0.13        12
         org       0.72      0.74      0.73      1045
         per       0.80      0.78      0.79       940
         tim       0.85      0.86      0.86       859

   micro avg       0.83      0.83      0.83      5327
   macro avg       0.69      0.61      0.62      5327
weighted avg       0.82      0.83      0.83      5327

2022-12-07 05:24:50,589 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 05:24:50,619 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ef80ca30-8f13-470c-81ea-0d6bb5a8d440]: finished processing task
2022-12-07 05:24:50,620 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 05:24:51,423 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 05:25:10,505 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670390710 seconds)
2022-12-07 05:25:10,505 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=3a28d798-d692-4445-8671-250bfba94740
2022-12-07 05:25:10,506 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3a28d798-d692-4445-8671-250bfba94740]: invoking result_received_cb ...
2022-12-07 05:25:10,580 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3a28d798-d692-4445-8671-250bfba94740]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 05:25:10,580 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3a28d798-d692-4445-8671-250bfba94740]: finished processing client result by scatter_and_gather
2022-12-07 05:25:10,611 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670390710 seconds). SubmitUpdate time: 22.85844373703003 seconds
2022-12-07 05:25:10,641 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3a28d798-d692-4445-8671-250bfba94740]: result sent to server for task: name=train, id=3a28d798-d692-4445-8671-250bfba94740
2022-12-07 05:25:10,642 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:25:14,186 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670390714 seconds)
2022-12-07 05:25:14,187 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=ef80ca30-8f13-470c-81ea-0d6bb5a8d440
2022-12-07 05:25:14,187 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ef80ca30-8f13-470c-81ea-0d6bb5a8d440]: invoking result_received_cb ...
2022-12-07 05:25:14,360 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ef80ca30-8f13-470c-81ea-0d6bb5a8d440]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 05:25:14,361 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ef80ca30-8f13-470c-81ea-0d6bb5a8d440]: finished processing client result by scatter_and_gather
2022-12-07 05:25:14,394 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670390714 seconds). SubmitUpdate time: 22.971113681793213 seconds
2022-12-07 05:25:14,402 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:25:14,424 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ef80ca30-8f13-470c-81ea-0d6bb5a8d440]: result sent to server for task: name=train, id=ef80ca30-8f13-470c-81ea-0d6bb5a8d440
2022-12-07 05:25:14,425 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:25:16,412 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:25:16,493 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:25:18,422 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:25:18,503 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:25:20,433 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:25:20,513 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:25:22,443 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:25:22,523 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:25:24,454 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:25:24,531 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 05:25:24,533 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:25:25,030 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 05:25:25,031 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 70
2022-12-07 05:25:25,106 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 05:25:25,106 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 05:25:25,746 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 05:25:25,747 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 70 finished.
2022-12-07 05:25:25,747 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 71 started.
2022-12-07 05:25:25,747 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 05:25:26,462 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=d5184f9e-ba08-47fd-a352-3872c35a1b79]: assigned task to client site-1: name=train, id=d5184f9e-ba08-47fd-a352-3872c35a1b79
2022-12-07 05:25:26,463 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=d5184f9e-ba08-47fd-a352-3872c35a1b79]: sent task assignment to client
2022-12-07 05:25:27,295 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 05:25:27,712 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=e972c28c-230b-4762-9a37-e8250abfaf8f]: assigned task to client site-2: name=train, id=e972c28c-230b-4762-9a37-e8250abfaf8f
2022-12-07 05:25:27,713 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=e972c28c-230b-4762-9a37-e8250abfaf8f]: sent task assignment to client
2022-12-07 05:25:28,536 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 05:25:49,966 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.506490230560303 seconds
2022-12-07 05:25:50,000 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 05:25:50,420 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=d5184f9e-ba08-47fd-a352-3872c35a1b79
2022-12-07 05:25:50,421 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d5184f9e-ba08-47fd-a352-3872c35a1b79]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 05:25:50,421 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d5184f9e-ba08-47fd-a352-3872c35a1b79]: Client trainer got task: train
2022-12-07 05:25:51,239 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.70074152946472 seconds
2022-12-07 05:25:51,257 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 05:25:51,672 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=e972c28c-230b-4762-9a37-e8250abfaf8f
2022-12-07 05:25:51,673 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e972c28c-230b-4762-9a37-e8250abfaf8f]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 05:25:51,673 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e972c28c-230b-4762-9a37-e8250abfaf8f]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 05:26:12,609 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d5184f9e-ba08-47fd-a352-3872c35a1b79]: Accuracy when validating site-1's model on site-1s data: 0.9650138756031816
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 05:26:13,783 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e972c28c-230b-4762-9a37-e8250abfaf8f]: Accuracy when validating site-2's model on site-2s data: 0.9670500754851563
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      0.99      0.99       222
         eve       0.98      0.95      0.96        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.97      0.97      0.97       116
         org       0.98      0.98      0.98      8377
         per       0.99      0.99      0.99      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9980123419243325
val 0/1: 
              precision    recall  f1-score   support

         art       0.10      0.05      0.07        19
         eve       0.10      0.12      0.11        16
         geo       0.85      0.85      0.85      1819
         gpe       0.90      0.94      0.92       731
         nat       0.25      0.17      0.20         6
         org       0.69      0.69      0.69       991
         per       0.72      0.81      0.76       907
         tim       0.86      0.81      0.84       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.56      0.56      0.56      5343
weighted avg       0.80      0.81      0.81      5343

F1-score: 0.9640626496848523
2022-12-07 05:34:55,198 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d5184f9e-ba08-47fd-a352-3872c35a1b79]: train:
              precision    recall  f1-score   support

         art       0.98      0.99      0.99       222
         eve       0.98      0.95      0.96        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.97      0.97      0.97       116
         org       0.98      0.98      0.98      8377
         per       0.99      0.99      0.99      7230
         tim       0.98      0.98      0.98      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.10      0.05      0.07        19
         eve       0.10      0.12      0.11        16
         geo       0.85      0.85      0.85      1819
         gpe       0.90      0.94      0.92       731
         nat       0.25      0.17      0.20         6
         org       0.69      0.69      0.69       991
         per       0.72      0.81      0.76       907
         tim       0.86      0.81      0.84       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.56      0.56      0.56      5343
weighted avg       0.80      0.81      0.81      5343

2022-12-07 05:34:55,546 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 05:34:56,137 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d5184f9e-ba08-47fd-a352-3872c35a1b79]: finished processing task
2022-12-07 05:34:56,138 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 05:34:56,943 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      0.98      0.98       176
         eve       0.97      1.00      0.98       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.96      0.98      0.97        95
         org       0.98      0.98      0.98      8238
         per       0.98      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.98      0.99      0.99     42624
   macro avg       0.98      0.99      0.98     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9981345821755453
val 0/1: 
              precision    recall  f1-score   support

         art       0.48      0.36      0.41        45
         eve       0.17      0.31      0.22        13
         geo       0.86      0.87      0.87      1773
         gpe       0.93      0.94      0.94       640
         nat       0.14      0.08      0.11        12
         org       0.71      0.71      0.71      1045
         per       0.76      0.78      0.77       940
         tim       0.85      0.86      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.61      0.61      0.61      5327
weighted avg       0.81      0.82      0.82      5327

F1-score: 0.9656853012097788
2022-12-07 05:34:58,983 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e972c28c-230b-4762-9a37-e8250abfaf8f]: train:
              precision    recall  f1-score   support

         art       0.98      0.98      0.98       176
         eve       0.97      1.00      0.98       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.96      0.98      0.97        95
         org       0.98      0.98      0.98      8238
         per       0.98      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.98      0.99      0.99     42624
   macro avg       0.98      0.99      0.98     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.48      0.36      0.41        45
         eve       0.17      0.31      0.22        13
         geo       0.86      0.87      0.87      1773
         gpe       0.93      0.94      0.94       640
         nat       0.14      0.08      0.11        12
         org       0.71      0.71      0.71      1045
         per       0.76      0.78      0.77       940
         tim       0.85      0.86      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.61      0.61      0.61      5327
weighted avg       0.81      0.82      0.82      5327

2022-12-07 05:34:59,159 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 05:34:59,905 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e972c28c-230b-4762-9a37-e8250abfaf8f]: finished processing task
2022-12-07 05:34:59,907 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 05:35:00,712 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 05:35:20,036 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670391320 seconds)
2022-12-07 05:35:20,037 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=d5184f9e-ba08-47fd-a352-3872c35a1b79
2022-12-07 05:35:20,037 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=d5184f9e-ba08-47fd-a352-3872c35a1b79]: invoking result_received_cb ...
2022-12-07 05:35:21,466 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=d5184f9e-ba08-47fd-a352-3872c35a1b79]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 05:35:21,467 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=d5184f9e-ba08-47fd-a352-3872c35a1b79]: finished processing client result by scatter_and_gather
2022-12-07 05:35:21,500 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670391320 seconds). SubmitUpdate time: 24.55705165863037 seconds
2022-12-07 05:35:21,520 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d5184f9e-ba08-47fd-a352-3872c35a1b79]: result sent to server for task: name=train, id=d5184f9e-ba08-47fd-a352-3872c35a1b79
2022-12-07 05:35:21,521 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:35:23,588 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670391323 seconds)
2022-12-07 05:35:23,588 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=e972c28c-230b-4762-9a37-e8250abfaf8f
2022-12-07 05:35:23,588 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e972c28c-230b-4762-9a37-e8250abfaf8f]: invoking result_received_cb ...
2022-12-07 05:35:23,790 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e972c28c-230b-4762-9a37-e8250abfaf8f]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 05:35:23,790 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e972c28c-230b-4762-9a37-e8250abfaf8f]: finished processing client result by scatter_and_gather
2022-12-07 05:35:23,824 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670391323 seconds). SubmitUpdate time: 23.112158060073853 seconds
2022-12-07 05:35:23,825 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:35:23,865 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e972c28c-230b-4762-9a37-e8250abfaf8f]: result sent to server for task: name=train, id=e972c28c-230b-4762-9a37-e8250abfaf8f
2022-12-07 05:35:23,865 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:35:25,847 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:35:25,941 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:35:27,857 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:35:27,968 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:35:29,868 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:35:29,978 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:35:31,878 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:35:31,989 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:35:33,888 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:35:33,921 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 05:35:33,921 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 05:35:33,922 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 71
2022-12-07 05:35:33,999 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:35:34,048 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 05:35:34,048 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 05:35:34,905 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 05:35:34,906 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 71 finished.
2022-12-07 05:35:34,906 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 72 started.
2022-12-07 05:35:34,907 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 05:35:35,896 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=a1ed5f6c-4deb-46a4-abbe-46b09b22824c]: assigned task to client site-1: name=train, id=a1ed5f6c-4deb-46a4-abbe-46b09b22824c
2022-12-07 05:35:35,898 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=a1ed5f6c-4deb-46a4-abbe-46b09b22824c]: sent task assignment to client
2022-12-07 05:35:36,763 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 05:35:37,199 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=f805f8df-7b17-4132-a073-28dde3802a2b]: assigned task to client site-2: name=train, id=f805f8df-7b17-4132-a073-28dde3802a2b
2022-12-07 05:35:37,201 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=f805f8df-7b17-4132-a073-28dde3802a2b]: sent task assignment to client
2022-12-07 05:35:38,059 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 05:35:59,621 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.727562189102173 seconds
2022-12-07 05:35:59,659 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 05:36:00,113 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=a1ed5f6c-4deb-46a4-abbe-46b09b22824c
2022-12-07 05:36:00,113 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a1ed5f6c-4deb-46a4-abbe-46b09b22824c]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 05:36:00,114 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a1ed5f6c-4deb-46a4-abbe-46b09b22824c]: Client trainer got task: train
2022-12-07 05:36:00,929 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.92482566833496 seconds
2022-12-07 05:36:00,932 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 05:36:01,405 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=f805f8df-7b17-4132-a073-28dde3802a2b
2022-12-07 05:36:01,406 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f805f8df-7b17-4132-a073-28dde3802a2b]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 05:36:01,406 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f805f8df-7b17-4132-a073-28dde3802a2b]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 05:36:22,338 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a1ed5f6c-4deb-46a4-abbe-46b09b22824c]: Accuracy when validating site-1's model on site-1s data: 0.965198752768382
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 05:36:23,519 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f805f8df-7b17-4132-a073-28dde3802a2b]: Accuracy when validating site-2's model on site-2s data: 0.9668518731036057
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.97      0.98       222
         eve       0.95      0.97      0.96        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.95      0.95      0.95       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9982859922949345
val 0/1: 
              precision    recall  f1-score   support

         art       0.06      0.05      0.06        19
         eve       0.20      0.25      0.22        16
         geo       0.84      0.86      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.40      0.33      0.36         6
         org       0.70      0.67      0.68       991
         per       0.71      0.81      0.76       907
         tim       0.85      0.83      0.84       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.59      0.59      0.59      5343
weighted avg       0.80      0.82      0.81      5343

F1-score: 0.9650364846187696
2022-12-07 05:45:05,306 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a1ed5f6c-4deb-46a4-abbe-46b09b22824c]: train:
              precision    recall  f1-score   support

         art       0.99      0.97      0.98       222
         eve       0.95      0.97      0.96        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.95      0.95      0.95       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.06      0.05      0.06        19
         eve       0.20      0.25      0.22        16
         geo       0.84      0.86      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.40      0.33      0.36         6
         org       0.70      0.67      0.68       991
         per       0.71      0.81      0.76       907
         tim       0.85      0.83      0.84       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.59      0.59      0.59      5343
weighted avg       0.80      0.82      0.81      5343

2022-12-07 05:45:05,988 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 05:45:06,260 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a1ed5f6c-4deb-46a4-abbe-46b09b22824c]: finished processing task
2022-12-07 05:45:06,261 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 05:45:07,084 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.97      0.98       176
         eve       0.98      0.97      0.97       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.96      0.97      0.96        95
         org       0.98      0.98      0.98      8238
         per       0.98      0.99      0.98      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.99808036521462
val 0/1: 
              precision    recall  f1-score   support

         art       0.48      0.27      0.34        45
         eve       0.18      0.31      0.23        13
         geo       0.85      0.88      0.86      1773
         gpe       0.96      0.94      0.95       640
         nat       0.17      0.08      0.11        12
         org       0.71      0.71      0.71      1045
         per       0.76      0.75      0.76       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.62      0.60      0.60      5327
weighted avg       0.81      0.82      0.81      5327

F1-score: 0.9657154048119135
2022-12-07 05:45:08,413 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f805f8df-7b17-4132-a073-28dde3802a2b]: train:
              precision    recall  f1-score   support

         art       0.99      0.97      0.98       176
         eve       0.98      0.97      0.97       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.96      0.97      0.96        95
         org       0.98      0.98      0.98      8238
         per       0.98      0.99      0.98      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.48      0.27      0.34        45
         eve       0.18      0.31      0.23        13
         geo       0.85      0.88      0.86      1773
         gpe       0.96      0.94      0.95       640
         nat       0.17      0.08      0.11        12
         org       0.71      0.71      0.71      1045
         per       0.76      0.75      0.76       940
         tim       0.85      0.85      0.85       859

   micro avg       0.81      0.82      0.82      5327
   macro avg       0.62      0.60      0.60      5327
weighted avg       0.81      0.82      0.81      5327

2022-12-07 05:45:08,590 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 05:45:09,350 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f805f8df-7b17-4132-a073-28dde3802a2b]: finished processing task
2022-12-07 05:45:09,352 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 05:45:10,193 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 05:45:29,851 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670391929 seconds)
2022-12-07 05:45:29,851 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=a1ed5f6c-4deb-46a4-abbe-46b09b22824c
2022-12-07 05:45:29,852 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a1ed5f6c-4deb-46a4-abbe-46b09b22824c]: invoking result_received_cb ...
2022-12-07 05:45:29,920 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a1ed5f6c-4deb-46a4-abbe-46b09b22824c]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 05:45:29,920 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=a1ed5f6c-4deb-46a4-abbe-46b09b22824c]: finished processing client result by scatter_and_gather
2022-12-07 05:45:29,950 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670391929 seconds). SubmitUpdate time: 22.866018772125244 seconds
2022-12-07 05:45:30,001 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=a1ed5f6c-4deb-46a4-abbe-46b09b22824c]: result sent to server for task: name=train, id=a1ed5f6c-4deb-46a4-abbe-46b09b22824c
2022-12-07 05:45:30,002 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:45:33,088 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670391933 seconds)
2022-12-07 05:45:33,088 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=f805f8df-7b17-4132-a073-28dde3802a2b
2022-12-07 05:45:33,089 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f805f8df-7b17-4132-a073-28dde3802a2b]: invoking result_received_cb ...
2022-12-07 05:45:33,258 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f805f8df-7b17-4132-a073-28dde3802a2b]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 05:45:33,258 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f805f8df-7b17-4132-a073-28dde3802a2b]: finished processing client result by scatter_and_gather
2022-12-07 05:45:33,296 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670391933 seconds). SubmitUpdate time: 23.102962493896484 seconds
2022-12-07 05:45:33,313 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:45:33,353 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f805f8df-7b17-4132-a073-28dde3802a2b]: result sent to server for task: name=train, id=f805f8df-7b17-4132-a073-28dde3802a2b
2022-12-07 05:45:33,354 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:45:35,324 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:45:35,428 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:45:37,334 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:45:37,438 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:45:39,344 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:45:39,454 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:45:41,355 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:45:41,465 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:45:43,366 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:45:43,426 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 05:45:43,426 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 05:45:43,427 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 72
2022-12-07 05:45:43,476 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:45:43,503 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 05:45:43,503 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 05:45:44,525 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 05:45:44,526 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 72 finished.
2022-12-07 05:45:44,526 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 73 started.
2022-12-07 05:45:44,527 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 05:45:45,374 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=5d7daad0-14bf-4e8c-95d1-8fa2ebece6ba]: assigned task to client site-1: name=train, id=5d7daad0-14bf-4e8c-95d1-8fa2ebece6ba
2022-12-07 05:45:45,375 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=5d7daad0-14bf-4e8c-95d1-8fa2ebece6ba]: sent task assignment to client
2022-12-07 05:45:46,250 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 05:45:46,687 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=ebb44e13-44fc-4458-90d4-89590e1cf6ab]: assigned task to client site-2: name=train, id=ebb44e13-44fc-4458-90d4-89590e1cf6ab
2022-12-07 05:45:46,688 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=ebb44e13-44fc-4458-90d4-89590e1cf6ab]: sent task assignment to client
2022-12-07 05:45:47,513 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 05:46:09,075 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.704264163970947 seconds
2022-12-07 05:46:09,117 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 05:46:09,555 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=5d7daad0-14bf-4e8c-95d1-8fa2ebece6ba
2022-12-07 05:46:09,555 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5d7daad0-14bf-4e8c-95d1-8fa2ebece6ba]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 05:46:09,555 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5d7daad0-14bf-4e8c-95d1-8fa2ebece6ba]: Client trainer got task: train
2022-12-07 05:46:10,340 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.85878348350525 seconds
2022-12-07 05:46:10,363 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 05:46:10,803 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=ebb44e13-44fc-4458-90d4-89590e1cf6ab
2022-12-07 05:46:10,804 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ebb44e13-44fc-4458-90d4-89590e1cf6ab]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 05:46:10,804 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ebb44e13-44fc-4458-90d4-89590e1cf6ab]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 05:46:31,747 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5d7daad0-14bf-4e8c-95d1-8fa2ebece6ba]: Accuracy when validating site-1's model on site-1s data: 0.9660124062586107
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 05:46:32,898 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ebb44e13-44fc-4458-90d4-89590e1cf6ab]: Accuracy when validating site-2's model on site-2s data: 0.9668503418757578
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      0.98      0.98       222
         eve       0.91      0.91      0.91        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.97      0.97      0.97       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.97      0.97      0.97     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9981643681542934
val 0/1: 
              precision    recall  f1-score   support

         art       0.12      0.11      0.11        19
         eve       0.10      0.12      0.11        16
         geo       0.84      0.86      0.85      1819
         gpe       0.91      0.95      0.93       731
         nat       0.50      0.17      0.25         6
         org       0.71      0.64      0.67       991
         per       0.71      0.81      0.76       907
         tim       0.82      0.82      0.82       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.59      0.56      0.56      5343
weighted avg       0.80      0.81      0.80      5343

F1-score: 0.964558182387249
2022-12-07 05:55:05,557 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5d7daad0-14bf-4e8c-95d1-8fa2ebece6ba]: train:
              precision    recall  f1-score   support

         art       0.98      0.98      0.98       222
         eve       0.91      0.91      0.91        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.97      0.97      0.97       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.97      0.97      0.97     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.12      0.11      0.11        19
         eve       0.10      0.12      0.11        16
         geo       0.84      0.86      0.85      1819
         gpe       0.91      0.95      0.93       731
         nat       0.50      0.17      0.25         6
         org       0.71      0.64      0.67       991
         per       0.71      0.81      0.76       907
         tim       0.82      0.82      0.82       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.59      0.56      0.56      5343
weighted avg       0.80      0.81      0.80      5343

2022-12-07 05:55:06,441 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 05:55:06,712 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5d7daad0-14bf-4e8c-95d1-8fa2ebece6ba]: finished processing task
2022-12-07 05:55:06,714 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 05:55:07,568 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.97      0.97      0.97       176
         eve       0.97      0.97      0.97       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.98      0.98      0.98        95
         org       0.98      0.98      0.98      8238
         per       0.98      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.98      0.99      0.99     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.98      0.99      0.99     42624

F1-score: 0.998042851768373
val 0/1: 
              precision    recall  f1-score   support

         art       0.39      0.29      0.33        45
         eve       0.15      0.31      0.21        13
         geo       0.84      0.90      0.87      1773
         gpe       0.95      0.94      0.95       640
         nat       0.25      0.08      0.12        12
         org       0.73      0.71      0.72      1045
         per       0.78      0.76      0.77       940
         tim       0.85      0.84      0.85       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.62      0.60      0.60      5327
weighted avg       0.82      0.82      0.82      5327

F1-score: 0.9663479185617492
2022-12-07 05:55:19,045 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ebb44e13-44fc-4458-90d4-89590e1cf6ab]: train:
              precision    recall  f1-score   support

         art       0.97      0.97      0.97       176
         eve       0.97      0.97      0.97       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.98      0.98      0.98        95
         org       0.98      0.98      0.98      8238
         per       0.98      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.98      0.99      0.99     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.98      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.39      0.29      0.33        45
         eve       0.15      0.31      0.21        13
         geo       0.84      0.90      0.87      1773
         gpe       0.95      0.94      0.95       640
         nat       0.25      0.08      0.12        12
         org       0.73      0.71      0.72      1045
         per       0.78      0.76      0.77       940
         tim       0.85      0.84      0.85       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.62      0.60      0.60      5327
weighted avg       0.82      0.82      0.82      5327

2022-12-07 05:55:19,919 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 05:55:20,242 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ebb44e13-44fc-4458-90d4-89590e1cf6ab]: finished processing task
2022-12-07 05:55:20,244 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 05:55:21,061 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 05:55:30,409 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670392530 seconds)
2022-12-07 05:55:30,409 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=5d7daad0-14bf-4e8c-95d1-8fa2ebece6ba
2022-12-07 05:55:30,409 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5d7daad0-14bf-4e8c-95d1-8fa2ebece6ba]: invoking result_received_cb ...
2022-12-07 05:55:30,591 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5d7daad0-14bf-4e8c-95d1-8fa2ebece6ba]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 05:55:30,591 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5d7daad0-14bf-4e8c-95d1-8fa2ebece6ba]: finished processing client result by scatter_and_gather
2022-12-07 05:55:30,627 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670392530 seconds). SubmitUpdate time: 23.058451652526855 seconds
2022-12-07 05:55:30,661 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5d7daad0-14bf-4e8c-95d1-8fa2ebece6ba]: result sent to server for task: name=train, id=5d7daad0-14bf-4e8c-95d1-8fa2ebece6ba
2022-12-07 05:55:30,663 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:55:32,742 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:55:34,751 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:55:36,761 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:55:38,771 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:55:43,906 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670392543 seconds)
2022-12-07 05:55:43,906 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=ebb44e13-44fc-4458-90d4-89590e1cf6ab
2022-12-07 05:55:43,907 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ebb44e13-44fc-4458-90d4-89590e1cf6ab]: invoking result_received_cb ...
2022-12-07 05:55:44,111 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ebb44e13-44fc-4458-90d4-89590e1cf6ab]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 05:55:44,111 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ebb44e13-44fc-4458-90d4-89590e1cf6ab]: finished processing client result by scatter_and_gather
2022-12-07 05:55:44,115 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:55:44,149 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670392543 seconds). SubmitUpdate time: 23.087366342544556 seconds
2022-12-07 05:55:44,172 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ebb44e13-44fc-4458-90d4-89590e1cf6ab]: result sent to server for task: name=train, id=ebb44e13-44fc-4458-90d4-89590e1cf6ab
2022-12-07 05:55:44,173 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:55:46,151 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:55:46,248 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:55:48,162 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:55:48,259 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:55:50,172 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:55:50,269 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:55:52,183 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:55:52,279 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:55:54,193 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 05:55:54,243 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 05:55:54,243 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 05:55:54,244 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 73
2022-12-07 05:55:54,289 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 05:55:54,367 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 05:55:54,368 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 05:55:55,014 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 05:55:55,015 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 73 finished.
2022-12-07 05:55:55,015 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 74 started.
2022-12-07 05:55:55,016 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 05:55:56,201 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=5340a927-1e3c-43ab-a561-975ffc83911b]: assigned task to client site-1: name=train, id=5340a927-1e3c-43ab-a561-975ffc83911b
2022-12-07 05:55:56,203 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=5340a927-1e3c-43ab-a561-975ffc83911b]: sent task assignment to client
2022-12-07 05:55:57,092 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 05:55:57,522 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=366285f2-8bda-40c0-a70e-133b4f7223e3]: assigned task to client site-2: name=train, id=366285f2-8bda-40c0-a70e-133b4f7223e3
2022-12-07 05:55:57,524 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=366285f2-8bda-40c0-a70e-133b4f7223e3]: sent task assignment to client
2022-12-07 05:55:58,368 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 05:56:19,805 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.60674214363098 seconds
2022-12-07 05:56:19,836 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 05:56:20,257 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=5340a927-1e3c-43ab-a561-975ffc83911b
2022-12-07 05:56:20,258 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5340a927-1e3c-43ab-a561-975ffc83911b]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 05:56:20,258 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5340a927-1e3c-43ab-a561-975ffc83911b]: Client trainer got task: train
2022-12-07 05:56:21,123 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.828593730926514 seconds
2022-12-07 05:56:21,146 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 05:56:21,571 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=366285f2-8bda-40c0-a70e-133b4f7223e3
2022-12-07 05:56:21,572 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=366285f2-8bda-40c0-a70e-133b4f7223e3]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 05:56:21,572 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=366285f2-8bda-40c0-a70e-133b4f7223e3]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 05:56:42,411 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5340a927-1e3c-43ab-a561-975ffc83911b]: Accuracy when validating site-1's model on site-1s data: 0.9656925143581202
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 05:56:43,712 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=366285f2-8bda-40c0-a70e-133b4f7223e3]: Accuracy when validating site-2's model on site-2s data: 0.9669779500321376
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       1.00      0.98      0.99       222
         eve       0.92      0.93      0.92        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.94      0.97      0.95       116
         org       0.98      0.98      0.98      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.97      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9983919401011829
val 0/1: 
              precision    recall  f1-score   support

         art       0.09      0.11      0.10        19
         eve       0.13      0.19      0.15        16
         geo       0.84      0.85      0.85      1819
         gpe       0.92      0.94      0.93       731
         nat       0.25      0.17      0.20         6
         org       0.72      0.65      0.68       991
         per       0.71      0.81      0.76       907
         tim       0.83      0.83      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.56      0.57      0.56      5343
weighted avg       0.80      0.81      0.80      5343

F1-score: 0.9643525716272034
2022-12-07 06:05:25,028 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5340a927-1e3c-43ab-a561-975ffc83911b]: train:
              precision    recall  f1-score   support

         art       1.00      0.98      0.99       222
         eve       0.92      0.93      0.92        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.94      0.97      0.95       116
         org       0.98      0.98      0.98      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.97      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.09      0.11      0.10        19
         eve       0.13      0.19      0.15        16
         geo       0.84      0.85      0.85      1819
         gpe       0.92      0.94      0.93       731
         nat       0.25      0.17      0.20         6
         org       0.72      0.65      0.68       991
         per       0.71      0.81      0.76       907
         tim       0.83      0.83      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.56      0.57      0.56      5343
weighted avg       0.80      0.81      0.80      5343

2022-12-07 06:05:25,395 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 06:05:25,972 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5340a927-1e3c-43ab-a561-975ffc83911b]: finished processing task
2022-12-07 06:05:25,974 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 06:05:26,837 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.96      0.97      0.96       176
         eve       0.96      0.97      0.96       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.97      0.97      0.97        95
         org       0.98      0.98      0.98      8238
         per       0.98      0.99      0.98      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.98      0.99      0.99     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.98      0.99      0.99     42624

F1-score: 0.9979941266912647
val 0/1: 
              precision    recall  f1-score   support

         art       0.73      0.24      0.37        45
         eve       0.19      0.31      0.24        13
         geo       0.84      0.89      0.86      1773
         gpe       0.92      0.93      0.93       640
         nat       0.33      0.08      0.13        12
         org       0.71      0.74      0.73      1045
         per       0.79      0.75      0.77       940
         tim       0.84      0.85      0.84       859

   micro avg       0.81      0.83      0.82      5327
   macro avg       0.67      0.60      0.61      5327
weighted avg       0.81      0.83      0.82      5327

F1-score: 0.9657208855852677
2022-12-07 06:05:30,605 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=366285f2-8bda-40c0-a70e-133b4f7223e3]: train:
              precision    recall  f1-score   support

         art       0.96      0.97      0.96       176
         eve       0.96      0.97      0.96       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.97      0.97      0.97        95
         org       0.98      0.98      0.98      8238
         per       0.98      0.99      0.98      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.98      0.99      0.99     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.98      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.73      0.24      0.37        45
         eve       0.19      0.31      0.24        13
         geo       0.84      0.89      0.86      1773
         gpe       0.92      0.93      0.93       640
         nat       0.33      0.08      0.13        12
         org       0.71      0.74      0.73      1045
         per       0.79      0.75      0.77       940
         tim       0.84      0.85      0.84       859

   micro avg       0.81      0.83      0.82      5327
   macro avg       0.67      0.60      0.61      5327
weighted avg       0.81      0.83      0.82      5327

2022-12-07 06:05:31,490 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 06:05:31,690 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=366285f2-8bda-40c0-a70e-133b4f7223e3]: finished processing task
2022-12-07 06:05:31,692 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 06:05:32,519 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 06:05:49,601 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670393149 seconds)
2022-12-07 06:05:49,602 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=5340a927-1e3c-43ab-a561-975ffc83911b
2022-12-07 06:05:49,602 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5340a927-1e3c-43ab-a561-975ffc83911b]: invoking result_received_cb ...
2022-12-07 06:05:49,668 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5340a927-1e3c-43ab-a561-975ffc83911b]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 06:05:49,668 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5340a927-1e3c-43ab-a561-975ffc83911b]: finished processing client result by scatter_and_gather
2022-12-07 06:05:49,699 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670393149 seconds). SubmitUpdate time: 22.86135196685791 seconds
2022-12-07 06:05:49,744 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5340a927-1e3c-43ab-a561-975ffc83911b]: result sent to server for task: name=train, id=5340a927-1e3c-43ab-a561-975ffc83911b
2022-12-07 06:05:49,744 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:05:51,811 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:05:55,397 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670393155 seconds)
2022-12-07 06:05:55,397 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=366285f2-8bda-40c0-a70e-133b4f7223e3
2022-12-07 06:05:55,398 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=366285f2-8bda-40c0-a70e-133b4f7223e3]: invoking result_received_cb ...
2022-12-07 06:05:55,553 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=366285f2-8bda-40c0-a70e-133b4f7223e3]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 06:05:55,554 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=366285f2-8bda-40c0-a70e-133b4f7223e3]: finished processing client result by scatter_and_gather
2022-12-07 06:05:55,558 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:05:55,589 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670393155 seconds). SubmitUpdate time: 23.06967306137085 seconds
2022-12-07 06:05:55,650 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=366285f2-8bda-40c0-a70e-133b4f7223e3]: result sent to server for task: name=train, id=366285f2-8bda-40c0-a70e-133b4f7223e3
2022-12-07 06:05:55,651 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:05:57,597 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:05:57,725 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:05:59,607 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:05:59,742 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:06:01,636 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:06:01,753 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:06:03,645 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:06:03,763 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:06:05,655 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:06:05,734 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 06:06:05,773 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:06:06,234 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 06:06:06,235 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 74
2022-12-07 06:06:06,310 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 06:06:06,311 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 06:06:07,198 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 06:06:07,198 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 74 finished.
2022-12-07 06:06:07,198 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 75 started.
2022-12-07 06:06:07,199 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 06:06:07,663 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=39e1d67b-0b29-4932-8a35-54c5c8597036]: assigned task to client site-1: name=train, id=39e1d67b-0b29-4932-8a35-54c5c8597036
2022-12-07 06:06:07,664 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=39e1d67b-0b29-4932-8a35-54c5c8597036]: sent task assignment to client
2022-12-07 06:06:08,520 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 06:06:08,955 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=979a13d4-c179-4f04-8d54-d5d36b3c67be]: assigned task to client site-2: name=train, id=979a13d4-c179-4f04-8d54-d5d36b3c67be
2022-12-07 06:06:08,956 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=979a13d4-c179-4f04-8d54-d5d36b3c67be]: sent task assignment to client
2022-12-07 06:06:09,793 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 06:06:31,350 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.6902859210968 seconds
2022-12-07 06:06:31,372 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 06:06:31,825 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=39e1d67b-0b29-4932-8a35-54c5c8597036
2022-12-07 06:06:31,825 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=39e1d67b-0b29-4932-8a35-54c5c8597036]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 06:06:31,826 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=39e1d67b-0b29-4932-8a35-54c5c8597036]: Client trainer got task: train
2022-12-07 06:06:32,612 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.83305811882019 seconds
2022-12-07 06:06:32,647 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 06:06:33,065 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=979a13d4-c179-4f04-8d54-d5d36b3c67be
2022-12-07 06:06:33,066 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=979a13d4-c179-4f04-8d54-d5d36b3c67be]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 06:06:33,066 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=979a13d4-c179-4f04-8d54-d5d36b3c67be]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 06:06:54,051 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=39e1d67b-0b29-4932-8a35-54c5c8597036]: Accuracy when validating site-1's model on site-1s data: 0.9646733877712582
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 06:06:55,230 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=979a13d4-c179-4f04-8d54-d5d36b3c67be]: Accuracy when validating site-2's model on site-2s data: 0.9666240994607238
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      0.98      0.98       222
         eve       0.93      0.98      0.95        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.94      0.93      0.94       116
         org       0.98      0.98      0.98      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.97      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9984512359629073
val 0/1: 
              precision    recall  f1-score   support

         art       0.21      0.16      0.18        19
         eve       0.09      0.12      0.10        16
         geo       0.84      0.85      0.85      1819
         gpe       0.92      0.94      0.93       731
         nat       0.33      0.17      0.22         6
         org       0.69      0.68      0.69       991
         per       0.72      0.79      0.75       907
         tim       0.86      0.83      0.84       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.58      0.57      0.57      5343
weighted avg       0.80      0.81      0.81      5343

F1-score: 0.9642447718503595
2022-12-07 06:15:36,949 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=39e1d67b-0b29-4932-8a35-54c5c8597036]: train:
              precision    recall  f1-score   support

         art       0.98      0.98      0.98       222
         eve       0.93      0.98      0.95        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.94      0.93      0.94       116
         org       0.98      0.98      0.98      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.97      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.21      0.16      0.18        19
         eve       0.09      0.12      0.10        16
         geo       0.84      0.85      0.85      1819
         gpe       0.92      0.94      0.93       731
         nat       0.33      0.17      0.22         6
         org       0.69      0.68      0.69       991
         per       0.72      0.79      0.75       907
         tim       0.86      0.83      0.84       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.58      0.57      0.57      5343
weighted avg       0.80      0.81      0.81      5343

-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 06:15:37,892 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=39e1d67b-0b29-4932-8a35-54c5c8597036]: finished processing task
2022-12-07 06:15:37,893 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 06:15:38,071 - SimulatorServer - INFO - getting AuxCommunicate request
2022-12-07 06:15:38,765 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.97      0.98      0.97       176
         eve       0.97      0.98      0.97       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.97      0.96      0.96        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9984011516667712
val 0/1: 
              precision    recall  f1-score   support

         art       0.57      0.29      0.38        45
         eve       0.17      0.31      0.22        13
         geo       0.85      0.88      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.74      0.71      0.72      1045
         per       0.76      0.79      0.77       940
         tim       0.86      0.85      0.85       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.63      0.60      0.61      5327
weighted avg       0.82      0.82      0.82      5327

F1-score: 0.9672010160914908
2022-12-07 06:15:42,467 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=979a13d4-c179-4f04-8d54-d5d36b3c67be]: train:
              precision    recall  f1-score   support

         art       0.97      0.98      0.97       176
         eve       0.97      0.98      0.97       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.97      0.96      0.96        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.57      0.29      0.38        45
         eve       0.17      0.31      0.22        13
         geo       0.85      0.88      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.74      0.71      0.72      1045
         per       0.76      0.79      0.77       940
         tim       0.86      0.85      0.85       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.63      0.60      0.61      5327
weighted avg       0.82      0.82      0.82      5327

2022-12-07 06:15:42,995 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 06:15:43,550 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=979a13d4-c179-4f04-8d54-d5d36b3c67be]: finished processing task
2022-12-07 06:15:43,551 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 06:15:44,385 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 06:16:01,662 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670393761 seconds)
2022-12-07 06:16:01,662 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=39e1d67b-0b29-4932-8a35-54c5c8597036
2022-12-07 06:16:01,663 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=39e1d67b-0b29-4932-8a35-54c5c8597036]: invoking result_received_cb ...
2022-12-07 06:16:01,746 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=39e1d67b-0b29-4932-8a35-54c5c8597036]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 06:16:01,746 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=39e1d67b-0b29-4932-8a35-54c5c8597036]: finished processing client result by scatter_and_gather
2022-12-07 06:16:01,782 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670393761 seconds). SubmitUpdate time: 23.01742148399353 seconds
2022-12-07 06:16:01,833 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=39e1d67b-0b29-4932-8a35-54c5c8597036]: result sent to server for task: name=train, id=39e1d67b-0b29-4932-8a35-54c5c8597036
2022-12-07 06:16:01,834 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:16:03,915 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:16:07,173 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670393767 seconds)
2022-12-07 06:16:07,173 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=979a13d4-c179-4f04-8d54-d5d36b3c67be
2022-12-07 06:16:07,173 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=979a13d4-c179-4f04-8d54-d5d36b3c67be]: invoking result_received_cb ...
2022-12-07 06:16:07,359 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=979a13d4-c179-4f04-8d54-d5d36b3c67be]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 06:16:07,360 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=979a13d4-c179-4f04-8d54-d5d36b3c67be]: finished processing client result by scatter_and_gather
2022-12-07 06:16:07,364 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:16:07,395 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670393767 seconds). SubmitUpdate time: 23.010292053222656 seconds
2022-12-07 06:16:07,453 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=979a13d4-c179-4f04-8d54-d5d36b3c67be]: result sent to server for task: name=train, id=979a13d4-c179-4f04-8d54-d5d36b3c67be
2022-12-07 06:16:07,454 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:16:09,399 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:16:09,530 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:16:11,409 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:16:11,547 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:16:13,420 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:16:13,559 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:16:15,429 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:16:15,570 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:16:17,440 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:16:17,510 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 06:16:17,580 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:16:18,010 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 06:16:18,011 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 75
2022-12-07 06:16:18,149 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 06:16:18,149 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 06:16:18,787 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 06:16:18,788 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 75 finished.
2022-12-07 06:16:18,788 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 76 started.
2022-12-07 06:16:18,789 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 06:16:19,467 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=dde61591-fbe9-4acd-8315-60408cf345c3]: assigned task to client site-1: name=train, id=dde61591-fbe9-4acd-8315-60408cf345c3
2022-12-07 06:16:19,468 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=dde61591-fbe9-4acd-8315-60408cf345c3]: sent task assignment to client
2022-12-07 06:16:20,325 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 06:16:20,758 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=67db7300-f158-4ddc-a62a-27de79120d85]: assigned task to client site-2: name=train, id=67db7300-f158-4ddc-a62a-27de79120d85
2022-12-07 06:16:20,760 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=67db7300-f158-4ddc-a62a-27de79120d85]: sent task assignment to client
2022-12-07 06:16:21,586 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 06:16:43,088 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.64202046394348 seconds
2022-12-07 06:16:43,141 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 06:16:43,584 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=dde61591-fbe9-4acd-8315-60408cf345c3
2022-12-07 06:16:43,584 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dde61591-fbe9-4acd-8315-60408cf345c3]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 06:16:43,584 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dde61591-fbe9-4acd-8315-60408cf345c3]: Client trainer got task: train
2022-12-07 06:16:44,358 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.773731470108032 seconds
2022-12-07 06:16:44,366 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 06:16:44,800 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=67db7300-f158-4ddc-a62a-27de79120d85
2022-12-07 06:16:44,801 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=67db7300-f158-4ddc-a62a-27de79120d85]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 06:16:44,801 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=67db7300-f158-4ddc-a62a-27de79120d85]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 06:17:05,805 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dde61591-fbe9-4acd-8315-60408cf345c3]: Accuracy when validating site-1's model on site-1s data: 0.9654283423501065
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 06:17:06,966 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=67db7300-f158-4ddc-a62a-27de79120d85]: Accuracy when validating site-2's model on site-2s data: 0.967423258115233
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      0.96      0.97       222
         eve       0.93      0.97      0.95        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.95      0.96      0.95       116
         org       0.98      0.99      0.98      8377
         per       0.99      0.99      0.99      7230
         tim       0.98      0.99      0.98      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.97      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9982664495617454
val 0/1: 
              precision    recall  f1-score   support

         art       0.10      0.11      0.10        19
         eve       0.10      0.12      0.11        16
         geo       0.84      0.86      0.85      1819
         gpe       0.94      0.95      0.94       731
         nat       0.22      0.33      0.27         6
         org       0.71      0.67      0.69       991
         per       0.72      0.80      0.76       907
         tim       0.85      0.81      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.56      0.58      0.57      5343
weighted avg       0.81      0.81      0.81      5343

F1-score: 0.9645910696198995
2022-12-07 06:25:47,357 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dde61591-fbe9-4acd-8315-60408cf345c3]: train:
              precision    recall  f1-score   support

         art       0.98      0.96      0.97       222
         eve       0.93      0.97      0.95        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.95      0.96      0.95       116
         org       0.98      0.99      0.98      8377
         per       0.99      0.99      0.99      7230
         tim       0.98      0.99      0.98      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.97      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.10      0.11      0.10        19
         eve       0.10      0.12      0.11        16
         geo       0.84      0.86      0.85      1819
         gpe       0.94      0.95      0.94       731
         nat       0.22      0.33      0.27         6
         org       0.71      0.67      0.69       991
         per       0.72      0.80      0.76       907
         tim       0.85      0.81      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.56      0.58      0.57      5343
weighted avg       0.81      0.81      0.81      5343

2022-12-07 06:25:47,534 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 06:25:48,300 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dde61591-fbe9-4acd-8315-60408cf345c3]: finished processing task
2022-12-07 06:25:48,301 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 06:25:49,135 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.97      0.98      0.97       176
         eve       0.94      0.94      0.94       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.95      0.96      0.95        95
         org       0.98      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9986238453369315
val 0/1: 
              precision    recall  f1-score   support

         art       0.54      0.16      0.24        45
         eve       0.25      0.38      0.30        13
         geo       0.83      0.89      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.10      0.08      0.09        12
         org       0.71      0.72      0.72      1045
         per       0.78      0.77      0.77       940
         tim       0.86      0.86      0.86       859

   micro avg       0.81      0.83      0.82      5327
   macro avg       0.63      0.60      0.60      5327
weighted avg       0.81      0.83      0.82      5327

F1-score: 0.9663336993041973
2022-12-07 06:25:54,750 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=67db7300-f158-4ddc-a62a-27de79120d85]: train:
              precision    recall  f1-score   support

         art       0.97      0.98      0.97       176
         eve       0.94      0.94      0.94       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.95      0.96      0.95        95
         org       0.98      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.54      0.16      0.24        45
         eve       0.25      0.38      0.30        13
         geo       0.83      0.89      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.10      0.08      0.09        12
         org       0.71      0.72      0.72      1045
         per       0.78      0.77      0.77       940
         tim       0.86      0.86      0.86       859

   micro avg       0.81      0.83      0.82      5327
   macro avg       0.63      0.60      0.60      5327
weighted avg       0.81      0.83      0.82      5327

2022-12-07 06:25:55,750 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 06:25:55,946 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=67db7300-f158-4ddc-a62a-27de79120d85]: finished processing task
2022-12-07 06:25:55,947 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 06:25:56,769 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 06:26:11,939 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670394371 seconds)
2022-12-07 06:26:11,939 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=dde61591-fbe9-4acd-8315-60408cf345c3
2022-12-07 06:26:11,940 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=dde61591-fbe9-4acd-8315-60408cf345c3]: invoking result_received_cb ...
2022-12-07 06:26:12,013 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=dde61591-fbe9-4acd-8315-60408cf345c3]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 06:26:12,013 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=dde61591-fbe9-4acd-8315-60408cf345c3]: finished processing client result by scatter_and_gather
2022-12-07 06:26:12,046 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670394371 seconds). SubmitUpdate time: 22.91070532798767 seconds
2022-12-07 06:26:12,111 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dde61591-fbe9-4acd-8315-60408cf345c3]: result sent to server for task: name=train, id=dde61591-fbe9-4acd-8315-60408cf345c3
2022-12-07 06:26:12,111 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:26:14,191 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:26:16,202 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:26:19,643 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670394379 seconds)
2022-12-07 06:26:19,643 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=67db7300-f158-4ddc-a62a-27de79120d85
2022-12-07 06:26:19,644 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=67db7300-f158-4ddc-a62a-27de79120d85]: invoking result_received_cb ...
2022-12-07 06:26:19,801 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=67db7300-f158-4ddc-a62a-27de79120d85]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 06:26:19,801 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=67db7300-f158-4ddc-a62a-27de79120d85]: finished processing client result by scatter_and_gather
2022-12-07 06:26:19,805 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:26:19,833 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670394379 seconds). SubmitUpdate time: 23.064568281173706 seconds
2022-12-07 06:26:19,890 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=67db7300-f158-4ddc-a62a-27de79120d85]: result sent to server for task: name=train, id=67db7300-f158-4ddc-a62a-27de79120d85
2022-12-07 06:26:19,891 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:26:21,847 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:26:21,970 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:26:23,857 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:26:23,980 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:26:25,868 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:26:25,990 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:26:27,878 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:26:27,999 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:26:29,888 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:26:29,973 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 06:26:30,009 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:26:30,473 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 06:26:30,474 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 76
2022-12-07 06:26:30,550 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 06:26:30,550 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 06:26:31,199 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 06:26:31,200 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 76 finished.
2022-12-07 06:26:31,200 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 77 started.
2022-12-07 06:26:31,201 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 06:26:31,896 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=4bd3b213-ef92-41fd-af90-62daffc575ba]: assigned task to client site-1: name=train, id=4bd3b213-ef92-41fd-af90-62daffc575ba
2022-12-07 06:26:31,897 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=4bd3b213-ef92-41fd-af90-62daffc575ba]: sent task assignment to client
2022-12-07 06:26:32,772 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 06:26:33,208 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=e5e0723f-5e66-40d1-8557-8778f515b2f0]: assigned task to client site-2: name=train, id=e5e0723f-5e66-40d1-8557-8778f515b2f0
2022-12-07 06:26:33,210 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=e5e0723f-5e66-40d1-8557-8778f515b2f0]: sent task assignment to client
2022-12-07 06:26:34,053 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 06:26:55,572 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.67857575416565 seconds
2022-12-07 06:26:55,612 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 06:26:56,053 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=4bd3b213-ef92-41fd-af90-62daffc575ba
2022-12-07 06:26:56,054 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4bd3b213-ef92-41fd-af90-62daffc575ba]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 06:26:56,054 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4bd3b213-ef92-41fd-af90-62daffc575ba]: Client trainer got task: train
2022-12-07 06:26:56,812 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.79848003387451 seconds
2022-12-07 06:26:56,835 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 06:26:57,263 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=e5e0723f-5e66-40d1-8557-8778f515b2f0
2022-12-07 06:26:57,264 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e5e0723f-5e66-40d1-8557-8778f515b2f0]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 06:26:57,264 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e5e0723f-5e66-40d1-8557-8778f515b2f0]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 06:27:18,239 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4bd3b213-ef92-41fd-af90-62daffc575ba]: Accuracy when validating site-1's model on site-1s data: 0.9655765587107814
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 06:27:19,383 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e5e0723f-5e66-40d1-8557-8778f515b2f0]: Accuracy when validating site-2's model on site-2s data: 0.9672070459411788
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.98      0.98       222
         eve       0.97      0.99      0.98        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.96      0.95      0.96       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.99      0.98     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.998818164275254
val 0/1: 
              precision    recall  f1-score   support

         art       0.09      0.11      0.10        19
         eve       0.08      0.12      0.10        16
         geo       0.85      0.85      0.85      1819
         gpe       0.92      0.94      0.93       731
         nat       0.33      0.17      0.22         6
         org       0.70      0.70      0.70       991
         per       0.73      0.80      0.76       907
         tim       0.84      0.82      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.57      0.56      0.56      5343
weighted avg       0.81      0.82      0.81      5343

F1-score: 0.965256686133311
2022-12-07 06:36:01,810 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4bd3b213-ef92-41fd-af90-62daffc575ba]: train:
              precision    recall  f1-score   support

         art       0.99      0.98      0.98       222
         eve       0.97      0.99      0.98        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.96      0.95      0.96       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.99      0.98     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.09      0.11      0.10        19
         eve       0.08      0.12      0.10        16
         geo       0.85      0.85      0.85      1819
         gpe       0.92      0.94      0.93       731
         nat       0.33      0.17      0.22         6
         org       0.70      0.70      0.70       991
         per       0.73      0.80      0.76       907
         tim       0.84      0.82      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.57      0.56      0.56      5343
weighted avg       0.81      0.82      0.81      5343

2022-12-07 06:36:02,161 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 06:36:02,904 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4bd3b213-ef92-41fd-af90-62daffc575ba]: finished processing task
2022-12-07 06:36:02,905 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 06:36:03,759 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.97      0.98       176
         eve       0.98      0.98      0.98       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      0.99      1.00      5503
         nat       0.97      0.97      0.97        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.98      0.99     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9986186009872767
val 0/1: 
              precision    recall  f1-score   support

         art       0.52      0.27      0.35        45
         eve       0.26      0.38      0.31        13
         geo       0.85      0.88      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.33      0.08      0.13        12
         org       0.73      0.70      0.71      1045
         per       0.77      0.76      0.77       940
         tim       0.84      0.86      0.85       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.66      0.61      0.62      5327
weighted avg       0.82      0.82      0.82      5327

F1-score: 0.9660742845234462
2022-12-07 06:36:06,200 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e5e0723f-5e66-40d1-8557-8778f515b2f0]: train:
              precision    recall  f1-score   support

         art       0.99      0.97      0.98       176
         eve       0.98      0.98      0.98       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      0.99      1.00      5503
         nat       0.97      0.97      0.97        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.98      0.99     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.52      0.27      0.35        45
         eve       0.26      0.38      0.31        13
         geo       0.85      0.88      0.86      1773
         gpe       0.95      0.94      0.94       640
         nat       0.33      0.08      0.13        12
         org       0.73      0.70      0.71      1045
         per       0.77      0.76      0.77       940
         tim       0.84      0.86      0.85       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.66      0.61      0.62      5327
weighted avg       0.82      0.82      0.82      5327

-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 06:36:07,138 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e5e0723f-5e66-40d1-8557-8778f515b2f0]: finished processing task
2022-12-07 06:36:07,139 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 06:36:07,314 - SimulatorServer - INFO - getting AuxCommunicate request
2022-12-07 06:36:07,967 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 06:36:26,521 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670394986 seconds)
2022-12-07 06:36:26,521 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=4bd3b213-ef92-41fd-af90-62daffc575ba
2022-12-07 06:36:26,521 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4bd3b213-ef92-41fd-af90-62daffc575ba]: invoking result_received_cb ...
2022-12-07 06:36:26,619 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4bd3b213-ef92-41fd-af90-62daffc575ba]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 06:36:26,619 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4bd3b213-ef92-41fd-af90-62daffc575ba]: finished processing client result by scatter_and_gather
2022-12-07 06:36:26,656 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670394986 seconds). SubmitUpdate time: 22.89684009552002 seconds
2022-12-07 06:36:26,715 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4bd3b213-ef92-41fd-af90-62daffc575ba]: result sent to server for task: name=train, id=4bd3b213-ef92-41fd-af90-62daffc575ba
2022-12-07 06:36:26,715 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:36:30,957 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670394990 seconds)
2022-12-07 06:36:30,957 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=e5e0723f-5e66-40d1-8557-8778f515b2f0
2022-12-07 06:36:30,958 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e5e0723f-5e66-40d1-8557-8778f515b2f0]: invoking result_received_cb ...
2022-12-07 06:36:31,152 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e5e0723f-5e66-40d1-8557-8778f515b2f0]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 06:36:31,152 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e5e0723f-5e66-40d1-8557-8778f515b2f0]: finished processing client result by scatter_and_gather
2022-12-07 06:36:31,189 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670394990 seconds). SubmitUpdate time: 23.221919536590576 seconds
2022-12-07 06:36:31,196 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:36:31,234 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e5e0723f-5e66-40d1-8557-8778f515b2f0]: result sent to server for task: name=train, id=e5e0723f-5e66-40d1-8557-8778f515b2f0
2022-12-07 06:36:31,234 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:36:33,214 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:36:33,328 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:36:35,224 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:36:35,338 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:36:37,234 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:36:37,349 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:36:39,245 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:36:39,359 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:36:41,255 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:36:41,280 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 06:36:41,281 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 06:36:41,282 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 77
2022-12-07 06:36:41,370 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:36:41,414 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 06:36:41,414 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 06:36:42,421 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 06:36:42,421 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 77 finished.
2022-12-07 06:36:42,421 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 78 started.
2022-12-07 06:36:42,422 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 06:36:43,263 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=0e6e9444-6725-4e76-bbbd-87deb3599163]: assigned task to client site-1: name=train, id=0e6e9444-6725-4e76-bbbd-87deb3599163
2022-12-07 06:36:43,264 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=0e6e9444-6725-4e76-bbbd-87deb3599163]: sent task assignment to client
2022-12-07 06:36:44,124 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 06:36:44,558 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=e92dc20a-487e-415e-a2fc-b793cb1ce6b9]: assigned task to client site-2: name=train, id=e92dc20a-487e-415e-a2fc-b793cb1ce6b9
2022-12-07 06:36:44,560 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=e92dc20a-487e-415e-a2fc-b793cb1ce6b9]: sent task assignment to client
2022-12-07 06:36:45,410 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 06:37:07,039 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.778470277786255 seconds
2022-12-07 06:37:07,082 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 06:37:07,521 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=0e6e9444-6725-4e76-bbbd-87deb3599163
2022-12-07 06:37:07,522 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0e6e9444-6725-4e76-bbbd-87deb3599163]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 06:37:07,522 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0e6e9444-6725-4e76-bbbd-87deb3599163]: Client trainer got task: train
2022-12-07 06:37:08,308 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.93290901184082 seconds
2022-12-07 06:37:08,330 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 06:37:08,765 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=e92dc20a-487e-415e-a2fc-b793cb1ce6b9
2022-12-07 06:37:08,766 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e92dc20a-487e-415e-a2fc-b793cb1ce6b9]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 06:37:08,766 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e92dc20a-487e-415e-a2fc-b793cb1ce6b9]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 06:37:29,797 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0e6e9444-6725-4e76-bbbd-87deb3599163]: Accuracy when validating site-1's model on site-1s data: 0.9659890581969292
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 06:37:30,949 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e92dc20a-487e-415e-a2fc-b793cb1ce6b9]: Accuracy when validating site-2's model on site-2s data: 0.9670439452912609
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.96      0.98      0.97       176
         eve       0.93      0.93      0.93       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.95      0.94      0.94        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.97      0.97      0.97     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9986673637423188
val 0/1: 
              precision    recall  f1-score   support

         art       0.52      0.36      0.42        45
         eve       0.13      0.31      0.19        13
         geo       0.85      0.89      0.87      1773
         gpe       0.94      0.94      0.94       640
         nat       0.08      0.08      0.08        12
         org       0.73      0.72      0.73      1045
         per       0.78      0.77      0.77       940
         tim       0.87      0.86      0.86       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.61      0.62      0.61      5327
weighted avg       0.82      0.83      0.82      5327

F1-score: 0.9666178669955107
2022-12-07 06:46:11,297 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e92dc20a-487e-415e-a2fc-b793cb1ce6b9]: train:
              precision    recall  f1-score   support

         art       0.96      0.98      0.97       176
         eve       0.93      0.93      0.93       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.95      0.94      0.94        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.97      0.97      0.97     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.52      0.36      0.42        45
         eve       0.13      0.31      0.19        13
         geo       0.85      0.89      0.87      1773
         gpe       0.94      0.94      0.94       640
         nat       0.08      0.08      0.08        12
         org       0.73      0.72      0.73      1045
         per       0.78      0.77      0.77       940
         tim       0.87      0.86      0.86       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.61      0.62      0.61      5327
weighted avg       0.82      0.83      0.82      5327

2022-12-07 06:46:11,656 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 06:46:12,228 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e92dc20a-487e-415e-a2fc-b793cb1ce6b9]: finished processing task
2022-12-07 06:46:12,229 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 06:46:13,072 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 06:46:35,931 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670395595 seconds)
2022-12-07 06:46:35,932 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=e92dc20a-487e-415e-a2fc-b793cb1ce6b9
2022-12-07 06:46:35,932 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e92dc20a-487e-415e-a2fc-b793cb1ce6b9]: invoking result_received_cb ...
2022-12-07 06:46:36,037 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e92dc20a-487e-415e-a2fc-b793cb1ce6b9]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 06:46:36,037 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e92dc20a-487e-415e-a2fc-b793cb1ce6b9]: finished processing client result by scatter_and_gather
2022-12-07 06:46:36,075 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670395595 seconds). SubmitUpdate time: 23.002618074417114 seconds
2022-12-07 06:46:36,095 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e92dc20a-487e-415e-a2fc-b793cb1ce6b9]: result sent to server for task: name=train, id=e92dc20a-487e-415e-a2fc-b793cb1ce6b9
2022-12-07 06:46:36,095 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:46:38,164 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:46:40,173 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:46:42,183 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:46:44,193 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:46:46,203 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:46:48,211 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:46:50,220 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:46:52,227 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:46:54,237 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:46:56,247 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:46:58,256 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:00,265 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:02,273 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:04,282 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:06,290 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:08,297 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:10,305 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:12,313 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:14,320 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:16,328 - ClientTaskWorker - INFO - Finished one task run for client: site-2
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      0.98      0.98       222
         eve       0.96      0.97      0.96        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.94      0.97      0.96       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.99      0.98     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9988106049193204
val 0/1: 
              precision    recall  f1-score   support

         art       0.08      0.11      0.09        19
         eve       0.15      0.19      0.17        16
         geo       0.83      0.87      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.14      0.17      0.15         6
         org       0.71      0.67      0.69       991
         per       0.73      0.79      0.76       907
         tim       0.85      0.82      0.84       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.55      0.57      0.56      5343
weighted avg       0.80      0.82      0.81      5343

F1-score: 0.9647138720505574
2022-12-07 06:47:18,259 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0e6e9444-6725-4e76-bbbd-87deb3599163]: train:
              precision    recall  f1-score   support

         art       0.98      0.98      0.98       222
         eve       0.96      0.97      0.96        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.94      0.97      0.96       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.99      0.98     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.08      0.11      0.09        19
         eve       0.15      0.19      0.17        16
         geo       0.83      0.87      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.14      0.17      0.15         6
         org       0.71      0.67      0.69       991
         per       0.73      0.79      0.76       907
         tim       0.85      0.82      0.84       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.55      0.57      0.56      5343
weighted avg       0.80      0.82      0.81      5343

2022-12-07 06:47:18,338 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:18,438 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 06:47:19,475 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0e6e9444-6725-4e76-bbbd-87deb3599163]: finished processing task
2022-12-07 06:47:19,477 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 06:47:20,348 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:20,378 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 06:47:22,357 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:24,365 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:26,374 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:28,382 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:30,392 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:32,399 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:34,408 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:36,415 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:38,425 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:43,275 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670395663 seconds)
2022-12-07 06:47:43,275 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=0e6e9444-6725-4e76-bbbd-87deb3599163
2022-12-07 06:47:43,275 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0e6e9444-6725-4e76-bbbd-87deb3599163]: invoking result_received_cb ...
2022-12-07 06:47:43,451 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0e6e9444-6725-4e76-bbbd-87deb3599163]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 06:47:43,452 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=0e6e9444-6725-4e76-bbbd-87deb3599163]: finished processing client result by scatter_and_gather
2022-12-07 06:47:43,455 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:43,484 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670395663 seconds). SubmitUpdate time: 23.10568356513977 seconds
2022-12-07 06:47:43,520 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=0e6e9444-6725-4e76-bbbd-87deb3599163]: result sent to server for task: name=train, id=0e6e9444-6725-4e76-bbbd-87deb3599163
2022-12-07 06:47:43,521 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:47:45,485 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:45,579 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:47:47,494 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:47,606 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:47:49,503 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:49,616 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:47:51,511 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:51,627 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:47:53,521 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:47:53,619 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 06:47:53,620 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 06:47:53,621 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 78
2022-12-07 06:47:53,645 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:47:53,696 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 06:47:53,697 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 06:47:54,700 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 06:47:54,700 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 78 finished.
2022-12-07 06:47:54,701 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 79 started.
2022-12-07 06:47:54,702 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 06:47:55,528 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=59b0561e-0daf-4f09-8009-172e181b31e4]: assigned task to client site-2: name=train, id=59b0561e-0daf-4f09-8009-172e181b31e4
2022-12-07 06:47:55,528 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=59b0561e-0daf-4f09-8009-172e181b31e4]: sent task assignment to client
2022-12-07 06:47:56,381 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 06:47:56,812 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=11033215-45f4-4076-82a1-beadcc62b141]: assigned task to client site-1: name=train, id=11033215-45f4-4076-82a1-beadcc62b141
2022-12-07 06:47:56,813 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=11033215-45f4-4076-82a1-beadcc62b141]: sent task assignment to client
2022-12-07 06:47:57,648 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 06:48:19,193 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.666908502578735 seconds
2022-12-07 06:48:19,231 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 06:48:19,652 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=59b0561e-0daf-4f09-8009-172e181b31e4
2022-12-07 06:48:19,652 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=59b0561e-0daf-4f09-8009-172e181b31e4]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 06:48:19,652 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=59b0561e-0daf-4f09-8009-172e181b31e4]: Client trainer got task: train
2022-12-07 06:48:20,412 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.761794805526733 seconds
2022-12-07 06:48:20,448 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 06:48:20,864 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=11033215-45f4-4076-82a1-beadcc62b141
2022-12-07 06:48:20,864 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=11033215-45f4-4076-82a1-beadcc62b141]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 06:48:20,864 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=11033215-45f4-4076-82a1-beadcc62b141]: Client trainer got task: train
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 06:48:41,730 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=59b0561e-0daf-4f09-8009-172e181b31e4]: Accuracy when validating site-2's model on site-2s data: 0.9670933739441352
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 06:48:43,088 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=11033215-45f4-4076-82a1-beadcc62b141]: Accuracy when validating site-1's model on site-1s data: 0.9655769483964858
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.97      0.98      0.98       222
         eve       0.95      0.98      0.96        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      0.99      0.99      5584
         nat       0.95      0.96      0.95       116
         org       0.98      0.98      0.98      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.998501827652817
val 0/1: 
              precision    recall  f1-score   support

         art       0.05      0.05      0.05        19
         eve       0.09      0.12      0.11        16
         geo       0.84      0.87      0.85      1819
         gpe       0.93      0.94      0.94       731
         nat       0.25      0.17      0.20         6
         org       0.72      0.66      0.69       991
         per       0.72      0.79      0.75       907
         tim       0.84      0.82      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.55      0.55      0.55      5343
weighted avg       0.80      0.81      0.81      5343

F1-score: 0.9646554333531216
2022-12-07 06:57:21,530 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=11033215-45f4-4076-82a1-beadcc62b141]: train:
              precision    recall  f1-score   support

         art       0.97      0.98      0.98       222
         eve       0.95      0.98      0.96        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      0.99      0.99      5584
         nat       0.95      0.96      0.95       116
         org       0.98      0.98      0.98      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.05      0.05      0.05        19
         eve       0.09      0.12      0.11        16
         geo       0.84      0.87      0.85      1819
         gpe       0.93      0.94      0.94       731
         nat       0.25      0.17      0.20         6
         org       0.72      0.66      0.69       991
         per       0.72      0.79      0.75       907
         tim       0.84      0.82      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.55      0.55      0.55      5343
weighted avg       0.80      0.81      0.81      5343

2022-12-07 06:57:21,977 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 06:57:22,721 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=11033215-45f4-4076-82a1-beadcc62b141]: finished processing task
2022-12-07 06:57:22,723 - FederatedClient - INFO - Starting to push execute result.
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.98      0.99       176
         eve       0.98      0.97      0.98       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.99      0.98      0.98        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9987906760600678
val 0/1: 
              precision    recall  f1-score   support

         art       0.53      0.22      0.31        45
         eve       0.16      0.31      0.21        13
         geo       0.83      0.89      0.86      1773
         gpe       0.96      0.94      0.95       640
         nat       0.25      0.08      0.12        12
         org       0.72      0.73      0.73      1045
         per       0.78      0.75      0.77       940
         tim       0.86      0.86      0.86       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.64      0.60      0.60      5327
weighted avg       0.82      0.83      0.82      5327

F1-score: 0.9661566405160702
2022-12-07 06:57:23,515 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=59b0561e-0daf-4f09-8009-172e181b31e4]: train:
              precision    recall  f1-score   support

         art       0.99      0.98      0.99       176
         eve       0.98      0.97      0.98       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      0.99      0.99      5503
         nat       0.99      0.98      0.98        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.53      0.22      0.31        45
         eve       0.16      0.31      0.21        13
         geo       0.83      0.89      0.86      1773
         gpe       0.96      0.94      0.95       640
         nat       0.25      0.08      0.12        12
         org       0.72      0.73      0.73      1045
         per       0.78      0.75      0.77       940
         tim       0.86      0.86      0.86       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.64      0.60      0.60      5327
weighted avg       0.82      0.83      0.82      5327

2022-12-07 06:57:23,583 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 06:57:23,696 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 06:57:24,398 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=59b0561e-0daf-4f09-8009-172e181b31e4]: finished processing task
2022-12-07 06:57:24,399 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 06:57:25,214 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 06:57:46,336 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670396266 seconds)
2022-12-07 06:57:46,337 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=11033215-45f4-4076-82a1-beadcc62b141
2022-12-07 06:57:46,337 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=11033215-45f4-4076-82a1-beadcc62b141]: invoking result_received_cb ...
2022-12-07 06:57:46,409 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=11033215-45f4-4076-82a1-beadcc62b141]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 06:57:46,409 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=11033215-45f4-4076-82a1-beadcc62b141]: finished processing client result by scatter_and_gather
2022-12-07 06:57:46,461 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670396266 seconds). SubmitUpdate time: 22.878539562225342 seconds
2022-12-07 06:57:46,505 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=11033215-45f4-4076-82a1-beadcc62b141]: result sent to server for task: name=train, id=11033215-45f4-4076-82a1-beadcc62b141
2022-12-07 06:57:46,506 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:57:49,574 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670396269 seconds)
2022-12-07 06:57:49,574 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=59b0561e-0daf-4f09-8009-172e181b31e4
2022-12-07 06:57:49,575 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=59b0561e-0daf-4f09-8009-172e181b31e4]: invoking result_received_cb ...
2022-12-07 06:57:49,730 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=59b0561e-0daf-4f09-8009-172e181b31e4]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 06:57:49,731 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=59b0561e-0daf-4f09-8009-172e181b31e4]: finished processing client result by scatter_and_gather
2022-12-07 06:57:49,768 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670396269 seconds). SubmitUpdate time: 24.554682731628418 seconds
2022-12-07 06:57:49,773 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:57:49,829 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=59b0561e-0daf-4f09-8009-172e181b31e4]: result sent to server for task: name=train, id=59b0561e-0daf-4f09-8009-172e181b31e4
2022-12-07 06:57:49,829 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:57:51,783 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:57:51,906 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:57:53,794 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:57:53,916 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:57:55,804 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:57:55,927 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:57:57,813 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:57:57,937 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:57:59,823 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 06:57:59,893 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 06:57:59,893 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 06:57:59,894 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 79
2022-12-07 06:57:59,948 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 06:58:00,017 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 06:58:00,017 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 06:58:00,648 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 06:58:00,648 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 79 finished.
2022-12-07 06:58:00,649 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 80 started.
2022-12-07 06:58:00,649 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 06:58:01,832 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=aaf13798-7d21-45cd-aa50-d26d9fd4ea2f]: assigned task to client site-1: name=train, id=aaf13798-7d21-45cd-aa50-d26d9fd4ea2f
2022-12-07 06:58:01,833 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=aaf13798-7d21-45cd-aa50-d26d9fd4ea2f]: sent task assignment to client
2022-12-07 06:58:02,724 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 06:58:03,161 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=2c3b1f96-2356-4ec4-b9b0-40c7d2e4d90c]: assigned task to client site-2: name=train, id=2c3b1f96-2356-4ec4-b9b0-40c7d2e4d90c
2022-12-07 06:58:03,162 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=2c3b1f96-2356-4ec4-b9b0-40c7d2e4d90c]: sent task assignment to client
2022-12-07 06:58:03,999 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 06:58:25,480 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.65073251724243 seconds
2022-12-07 06:58:25,534 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 06:58:25,968 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=aaf13798-7d21-45cd-aa50-d26d9fd4ea2f
2022-12-07 06:58:25,969 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=aaf13798-7d21-45cd-aa50-d26d9fd4ea2f]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 06:58:25,969 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=aaf13798-7d21-45cd-aa50-d26d9fd4ea2f]: Client trainer got task: train
2022-12-07 06:58:26,785 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.830764055252075 seconds
2022-12-07 06:58:26,808 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 06:58:27,230 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=2c3b1f96-2356-4ec4-b9b0-40c7d2e4d90c
2022-12-07 06:58:27,231 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2c3b1f96-2356-4ec4-b9b0-40c7d2e4d90c]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 06:58:27,231 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2c3b1f96-2356-4ec4-b9b0-40c7d2e4d90c]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 06:58:48,133 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=aaf13798-7d21-45cd-aa50-d26d9fd4ea2f]: Accuracy when validating site-1's model on site-1s data: 0.9655443928224594
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 06:58:49,313 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2c3b1f96-2356-4ec4-b9b0-40c7d2e4d90c]: Accuracy when validating site-2's model on site-2s data: 0.9671396066647229
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      0.99      0.98       176
         eve       0.99      0.99      0.99       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      0.99      1.00      5503
         nat       0.98      0.99      0.98        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9989745664990772
val 0/1: 
              precision    recall  f1-score   support

         art       0.50      0.22      0.31        45
         eve       0.19      0.31      0.24        13
         geo       0.84      0.89      0.87      1773
         gpe       0.94      0.94      0.94       640
         nat       0.10      0.08      0.09        12
         org       0.73      0.71      0.72      1045
         per       0.77      0.77      0.77       940
         tim       0.86      0.85      0.86       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.62      0.60      0.60      5327
weighted avg       0.82      0.83      0.82      5327

F1-score: 0.9666948706155014
2022-12-07 07:07:27,112 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2c3b1f96-2356-4ec4-b9b0-40c7d2e4d90c]: train:
              precision    recall  f1-score   support

         art       0.98      0.99      0.98       176
         eve       0.99      0.99      0.99       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      0.99      1.00      5503
         nat       0.98      0.99      0.98        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.50      0.22      0.31        45
         eve       0.19      0.31      0.24        13
         geo       0.84      0.89      0.87      1773
         gpe       0.94      0.94      0.94       640
         nat       0.10      0.08      0.09        12
         org       0.73      0.71      0.72      1045
         per       0.77      0.77      0.77       940
         tim       0.86      0.85      0.86       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.62      0.60      0.60      5327
weighted avg       0.82      0.83      0.82      5327

2022-12-07 07:07:27,160 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 07:07:27,996 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2c3b1f96-2356-4ec4-b9b0-40c7d2e4d90c]: finished processing task
2022-12-07 07:07:27,998 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 07:07:28,808 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       1.00      0.98      0.99       222
         eve       0.96      0.96      0.96        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.98      0.97      0.98       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.99      0.98      0.99     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9989382781074668
val 0/1: 
              precision    recall  f1-score   support

         art       0.07      0.11      0.08        19
         eve       0.11      0.19      0.14        16
         geo       0.83      0.87      0.85      1819
         gpe       0.93      0.94      0.94       731
         nat       0.11      0.17      0.13         6
         org       0.72      0.66      0.69       991
         per       0.72      0.82      0.77       907
         tim       0.84      0.83      0.84       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.54      0.57      0.55      5343
weighted avg       0.80      0.82      0.81      5343

F1-score: 0.9648602787012194
2022-12-07 07:07:31,155 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=aaf13798-7d21-45cd-aa50-d26d9fd4ea2f]: train:
              precision    recall  f1-score   support

         art       1.00      0.98      0.99       222
         eve       0.96      0.96      0.96        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.98      0.97      0.98       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.99      0.98      0.99     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.07      0.11      0.08        19
         eve       0.11      0.19      0.14        16
         geo       0.83      0.87      0.85      1819
         gpe       0.93      0.94      0.94       731
         nat       0.11      0.17      0.13         6
         org       0.72      0.66      0.69       991
         per       0.72      0.82      0.77       907
         tim       0.84      0.83      0.84       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.54      0.57      0.55      5343
weighted avg       0.80      0.82      0.81      5343

2022-12-07 07:07:31,405 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 07:07:32,090 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=aaf13798-7d21-45cd-aa50-d26d9fd4ea2f]: finished processing task
2022-12-07 07:07:32,092 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 07:07:32,931 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 07:07:51,605 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670396871 seconds)
2022-12-07 07:07:51,605 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=2c3b1f96-2356-4ec4-b9b0-40c7d2e4d90c
2022-12-07 07:07:51,606 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2c3b1f96-2356-4ec4-b9b0-40c7d2e4d90c]: invoking result_received_cb ...
2022-12-07 07:07:51,705 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2c3b1f96-2356-4ec4-b9b0-40c7d2e4d90c]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 07:07:51,706 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2c3b1f96-2356-4ec4-b9b0-40c7d2e4d90c]: finished processing client result by scatter_and_gather
2022-12-07 07:07:51,742 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670396871 seconds). SubmitUpdate time: 22.934263467788696 seconds
2022-12-07 07:07:51,784 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2c3b1f96-2356-4ec4-b9b0-40c7d2e4d90c]: result sent to server for task: name=train, id=2c3b1f96-2356-4ec4-b9b0-40c7d2e4d90c
2022-12-07 07:07:51,785 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:07:55,727 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670396875 seconds)
2022-12-07 07:07:55,727 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=aaf13798-7d21-45cd-aa50-d26d9fd4ea2f
2022-12-07 07:07:55,728 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=aaf13798-7d21-45cd-aa50-d26d9fd4ea2f]: invoking result_received_cb ...
2022-12-07 07:07:55,884 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=aaf13798-7d21-45cd-aa50-d26d9fd4ea2f]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 07:07:55,884 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=aaf13798-7d21-45cd-aa50-d26d9fd4ea2f]: finished processing client result by scatter_and_gather
2022-12-07 07:07:55,922 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670396875 seconds). SubmitUpdate time: 22.99049973487854 seconds
2022-12-07 07:07:55,926 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:07:55,979 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=aaf13798-7d21-45cd-aa50-d26d9fd4ea2f]: result sent to server for task: name=train, id=aaf13798-7d21-45cd-aa50-d26d9fd4ea2f
2022-12-07 07:07:55,980 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:07:57,943 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:07:58,051 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:07:59,953 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:08:00,061 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:08:01,964 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:08:02,077 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:08:03,974 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:08:04,087 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:08:05,985 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:08:06,068 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 07:08:06,097 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:08:06,568 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 07:08:06,569 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 80
2022-12-07 07:08:06,644 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 07:08:06,645 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 07:08:07,277 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 07:08:07,278 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 80 finished.
2022-12-07 07:08:07,278 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 81 started.
2022-12-07 07:08:07,278 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 07:08:07,991 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=521f914c-77bc-47f1-b0d7-5118492161ab]: assigned task to client site-2: name=train, id=521f914c-77bc-47f1-b0d7-5118492161ab
2022-12-07 07:08:07,993 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=521f914c-77bc-47f1-b0d7-5118492161ab]: sent task assignment to client
2022-12-07 07:08:08,861 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 07:08:09,289 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=e05217c7-cee1-40e3-8652-30d5ce6114bd]: assigned task to client site-1: name=train, id=e05217c7-cee1-40e3-8652-30d5ce6114bd
2022-12-07 07:08:09,290 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=e05217c7-cee1-40e3-8652-30d5ce6114bd]: sent task assignment to client
2022-12-07 07:08:10,136 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 07:08:31,618 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.62935519218445 seconds
2022-12-07 07:08:31,658 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 07:08:32,079 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=521f914c-77bc-47f1-b0d7-5118492161ab
2022-12-07 07:08:32,080 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=521f914c-77bc-47f1-b0d7-5118492161ab]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 07:08:32,080 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=521f914c-77bc-47f1-b0d7-5118492161ab]: Client trainer got task: train
2022-12-07 07:08:32,879 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.775858640670776 seconds
2022-12-07 07:08:32,898 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 07:08:33,324 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=e05217c7-cee1-40e3-8652-30d5ce6114bd
2022-12-07 07:08:33,325 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e05217c7-cee1-40e3-8652-30d5ce6114bd]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 07:08:33,325 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e05217c7-cee1-40e3-8652-30d5ce6114bd]: Client trainer got task: train
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 07:08:54,151 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=521f914c-77bc-47f1-b0d7-5118492161ab]: Accuracy when validating site-2's model on site-2s data: 0.9673929705644465
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 07:08:55,510 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e05217c7-cee1-40e3-8652-30d5ce6114bd]: Accuracy when validating site-1's model on site-1s data: 0.9659368139648298
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       1.00      0.98      0.99       222
         eve       0.92      0.98      0.95        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.95      0.97      0.96       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9983133250831538
val 0/1: 
              precision    recall  f1-score   support

         art       0.15      0.16      0.15        19
         eve       0.10      0.12      0.11        16
         geo       0.82      0.86      0.84      1819
         gpe       0.93      0.94      0.93       731
         nat       0.33      0.17      0.22         6
         org       0.69      0.67      0.68       991
         per       0.73      0.77      0.75       907
         tim       0.84      0.82      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.57      0.56      0.56      5343
weighted avg       0.79      0.81      0.80      5343

F1-score: 0.9633106191423334
2022-12-07 07:17:36,328 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e05217c7-cee1-40e3-8652-30d5ce6114bd]: train:
              precision    recall  f1-score   support

         art       1.00      0.98      0.99       222
         eve       0.92      0.98      0.95        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.95      0.97      0.96       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.15      0.16      0.15        19
         eve       0.10      0.12      0.11        16
         geo       0.82      0.86      0.84      1819
         gpe       0.93      0.94      0.93       731
         nat       0.33      0.17      0.22         6
         org       0.69      0.67      0.68       991
         per       0.73      0.77      0.75       907
         tim       0.84      0.82      0.83       854

   micro avg       0.79      0.81      0.80      5343
   macro avg       0.57      0.56      0.56      5343
weighted avg       0.79      0.81      0.80      5343

2022-12-07 07:17:36,733 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 07:17:37,554 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e05217c7-cee1-40e3-8652-30d5ce6114bd]: finished processing task
2022-12-07 07:17:37,555 - FederatedClient - INFO - Starting to push execute result.
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      0.98      0.98       176
         eve       0.97      0.97      0.97       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      0.99      1.00      5503
         nat       0.96      0.95      0.95        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9987342984974169
val 0/1: 
              precision    recall  f1-score   support

         art       0.53      0.38      0.44        45
         eve       0.14      0.31      0.20        13
         geo       0.86      0.88      0.87      1773
         gpe       0.96      0.94      0.95       640
         nat       0.14      0.08      0.11        12
         org       0.73      0.70      0.72      1045
         per       0.74      0.80      0.77       940
         tim       0.85      0.85      0.85       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.62      0.62      0.61      5327
weighted avg       0.82      0.82      0.82      5327

F1-score: 0.9667335306337146
2022-12-07 07:17:37,586 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=521f914c-77bc-47f1-b0d7-5118492161ab]: train:
              precision    recall  f1-score   support

         art       0.98      0.98      0.98       176
         eve       0.97      0.97      0.97       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      0.99      1.00      5503
         nat       0.96      0.95      0.95        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.53      0.38      0.44        45
         eve       0.14      0.31      0.20        13
         geo       0.86      0.88      0.87      1773
         gpe       0.96      0.94      0.95       640
         nat       0.14      0.08      0.11        12
         org       0.73      0.70      0.72      1045
         per       0.74      0.80      0.77       940
         tim       0.85      0.85      0.85       859

   micro avg       0.82      0.82      0.82      5327
   macro avg       0.62      0.62      0.61      5327
weighted avg       0.82      0.82      0.82      5327

2022-12-07 07:17:38,412 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 07:17:38,486 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=521f914c-77bc-47f1-b0d7-5118492161ab]: finished processing task
2022-12-07 07:17:38,488 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 07:17:38,560 - SimulatorServer - INFO - getting AuxCommunicate request
2022-12-07 07:17:39,317 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 07:18:01,367 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670397481 seconds)
2022-12-07 07:18:01,367 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=e05217c7-cee1-40e3-8652-30d5ce6114bd
2022-12-07 07:18:01,368 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e05217c7-cee1-40e3-8652-30d5ce6114bd]: invoking result_received_cb ...
2022-12-07 07:18:01,440 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e05217c7-cee1-40e3-8652-30d5ce6114bd]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 07:18:01,440 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e05217c7-cee1-40e3-8652-30d5ce6114bd]: finished processing client result by scatter_and_gather
2022-12-07 07:18:01,473 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670397481 seconds). SubmitUpdate time: 23.06160855293274 seconds
2022-12-07 07:18:01,502 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e05217c7-cee1-40e3-8652-30d5ce6114bd]: result sent to server for task: name=train, id=e05217c7-cee1-40e3-8652-30d5ce6114bd
2022-12-07 07:18:01,502 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:18:04,570 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670397484 seconds)
2022-12-07 07:18:04,570 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=521f914c-77bc-47f1-b0d7-5118492161ab
2022-12-07 07:18:04,570 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=521f914c-77bc-47f1-b0d7-5118492161ab]: invoking result_received_cb ...
2022-12-07 07:18:04,743 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=521f914c-77bc-47f1-b0d7-5118492161ab]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 07:18:04,744 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=521f914c-77bc-47f1-b0d7-5118492161ab]: finished processing client result by scatter_and_gather
2022-12-07 07:18:04,780 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670397484 seconds). SubmitUpdate time: 25.462918996810913 seconds
2022-12-07 07:18:04,790 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:18:04,825 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=521f914c-77bc-47f1-b0d7-5118492161ab]: result sent to server for task: name=train, id=521f914c-77bc-47f1-b0d7-5118492161ab
2022-12-07 07:18:04,826 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:18:06,800 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:18:06,906 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:18:08,809 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:18:08,920 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:18:10,816 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:18:10,926 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:18:12,826 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:18:12,936 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:18:14,835 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:18:14,905 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 07:18:14,946 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:18:15,405 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 07:18:15,405 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 81
2022-12-07 07:18:15,526 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 07:18:15,526 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 07:18:16,166 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 07:18:16,167 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 81 finished.
2022-12-07 07:18:16,167 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 82 started.
2022-12-07 07:18:16,167 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 07:18:16,843 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=ef4f3375-a8f4-442b-9359-4005fa0b5481]: assigned task to client site-1: name=train, id=ef4f3375-a8f4-442b-9359-4005fa0b5481
2022-12-07 07:18:16,844 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=ef4f3375-a8f4-442b-9359-4005fa0b5481]: sent task assignment to client
2022-12-07 07:18:17,723 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 07:18:18,170 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=49717a69-9811-497f-bbec-0e818b61a32d]: assigned task to client site-2: name=train, id=49717a69-9811-497f-bbec-0e818b61a32d
2022-12-07 07:18:18,172 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=49717a69-9811-497f-bbec-0e818b61a32d]: sent task assignment to client
2022-12-07 07:18:19,011 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 07:18:40,727 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.8864905834198 seconds
2022-12-07 07:18:40,745 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 07:18:41,169 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=ef4f3375-a8f4-442b-9359-4005fa0b5481
2022-12-07 07:18:41,170 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ef4f3375-a8f4-442b-9359-4005fa0b5481]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 07:18:41,170 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ef4f3375-a8f4-442b-9359-4005fa0b5481]: Client trainer got task: train
2022-12-07 07:18:41,889 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.938915014266968 seconds
2022-12-07 07:18:41,897 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 07:18:42,327 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=49717a69-9811-497f-bbec-0e818b61a32d
2022-12-07 07:18:42,327 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=49717a69-9811-497f-bbec-0e818b61a32d]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 07:18:42,327 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=49717a69-9811-497f-bbec-0e818b61a32d]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 07:19:03,368 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ef4f3375-a8f4-442b-9359-4005fa0b5481]: Accuracy when validating site-1's model on site-1s data: 0.9650847929140284
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 07:19:04,409 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=49717a69-9811-497f-bbec-0e818b61a32d]: Accuracy when validating site-2's model on site-2s data: 0.9669062102812556
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      0.99      0.99       176
         eve       0.97      0.96      0.97       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      0.99      0.99      5503
         nat       0.95      0.95      0.95        95
         org       0.98      0.98      0.98      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9982919276688927
val 0/1: 
              precision    recall  f1-score   support

         art       0.53      0.22      0.31        45
         eve       0.18      0.31      0.23        13
         geo       0.84      0.89      0.86      1773
         gpe       0.96      0.93      0.95       640
         nat       0.33      0.08      0.13        12
         org       0.73      0.71      0.72      1045
         per       0.77      0.77      0.77       940
         tim       0.85      0.86      0.86       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.65      0.60      0.60      5327
weighted avg       0.82      0.83      0.82      5327

F1-score: 0.9667242778367353
2022-12-07 07:27:44,882 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=49717a69-9811-497f-bbec-0e818b61a32d]: train:
              precision    recall  f1-score   support

         art       0.98      0.99      0.99       176
         eve       0.97      0.96      0.97       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      0.99      0.99      5503
         nat       0.95      0.95      0.95        95
         org       0.98      0.98      0.98      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.98      0.98     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.53      0.22      0.31        45
         eve       0.18      0.31      0.23        13
         geo       0.84      0.89      0.86      1773
         gpe       0.96      0.93      0.95       640
         nat       0.33      0.08      0.13        12
         org       0.73      0.71      0.72      1045
         per       0.77      0.77      0.77       940
         tim       0.85      0.86      0.86       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.65      0.60      0.60      5327
weighted avg       0.82      0.83      0.82      5327

2022-12-07 07:27:45,242 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 07:27:45,663 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=49717a69-9811-497f-bbec-0e818b61a32d]: finished processing task
2022-12-07 07:27:45,664 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 07:27:46,476 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      0.98      0.98       222
         eve       0.88      0.92      0.90        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      0.99      0.99      5584
         nat       0.95      0.97      0.96       116
         org       0.98      0.99      0.98      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.97      0.98      0.97     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9986321170600133
val 0/1: 
              precision    recall  f1-score   support

         art       0.08      0.11      0.09        19
         eve       0.13      0.19      0.15        16
         geo       0.84      0.87      0.86      1819
         gpe       0.94      0.94      0.94       731
         nat       0.33      0.17      0.22         6
         org       0.69      0.69      0.69       991
         per       0.73      0.78      0.75       907
         tim       0.85      0.84      0.84       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.57      0.57      0.57      5343
weighted avg       0.81      0.82      0.81      5343

F1-score: 0.9650147588816275
2022-12-07 07:27:50,514 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ef4f3375-a8f4-442b-9359-4005fa0b5481]: train:
              precision    recall  f1-score   support

         art       0.98      0.98      0.98       222
         eve       0.88      0.92      0.90        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      0.99      0.99      5584
         nat       0.95      0.97      0.96       116
         org       0.98      0.99      0.98      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.97      0.98      0.97     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.08      0.11      0.09        19
         eve       0.13      0.19      0.15        16
         geo       0.84      0.87      0.86      1819
         gpe       0.94      0.94      0.94       731
         nat       0.33      0.17      0.22         6
         org       0.69      0.69      0.69       991
         per       0.73      0.78      0.75       907
         tim       0.85      0.84      0.84       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.57      0.57      0.57      5343
weighted avg       0.81      0.82      0.81      5343

2022-12-07 07:27:51,067 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 07:27:51,576 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ef4f3375-a8f4-442b-9359-4005fa0b5481]: finished processing task
2022-12-07 07:27:51,578 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 07:27:52,397 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 07:28:09,254 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670398089 seconds)
2022-12-07 07:28:09,254 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=49717a69-9811-497f-bbec-0e818b61a32d
2022-12-07 07:28:09,255 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=49717a69-9811-497f-bbec-0e818b61a32d]: invoking result_received_cb ...
2022-12-07 07:28:09,349 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=49717a69-9811-497f-bbec-0e818b61a32d]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 07:28:09,349 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=49717a69-9811-497f-bbec-0e818b61a32d]: finished processing client result by scatter_and_gather
2022-12-07 07:28:09,375 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670398089 seconds). SubmitUpdate time: 22.89929962158203 seconds
2022-12-07 07:28:09,397 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=49717a69-9811-497f-bbec-0e818b61a32d]: result sent to server for task: name=train, id=49717a69-9811-497f-bbec-0e818b61a32d
2022-12-07 07:28:09,398 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:28:11,461 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:28:15,209 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670398095 seconds)
2022-12-07 07:28:15,209 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=ef4f3375-a8f4-442b-9359-4005fa0b5481
2022-12-07 07:28:15,210 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ef4f3375-a8f4-442b-9359-4005fa0b5481]: invoking result_received_cb ...
2022-12-07 07:28:15,390 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ef4f3375-a8f4-442b-9359-4005fa0b5481]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 07:28:15,390 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ef4f3375-a8f4-442b-9359-4005fa0b5481]: finished processing client result by scatter_and_gather
2022-12-07 07:28:15,393 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:28:15,427 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670398095 seconds). SubmitUpdate time: 23.030218839645386 seconds
2022-12-07 07:28:15,482 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ef4f3375-a8f4-442b-9359-4005fa0b5481]: result sent to server for task: name=train, id=ef4f3375-a8f4-442b-9359-4005fa0b5481
2022-12-07 07:28:15,483 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:28:17,426 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:28:17,564 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:28:19,435 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:28:19,571 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:28:21,445 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:28:21,581 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:28:23,454 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:28:23,622 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:28:25,464 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:28:25,557 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 07:28:25,631 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:28:26,057 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 07:28:26,058 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 82
2022-12-07 07:28:26,142 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 07:28:26,143 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 07:28:26,889 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 07:28:26,890 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 82 finished.
2022-12-07 07:28:26,890 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 83 started.
2022-12-07 07:28:26,890 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 07:28:27,471 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=7b039f43-6043-447e-b1e5-f032c9c46154]: assigned task to client site-2: name=train, id=7b039f43-6043-447e-b1e5-f032c9c46154
2022-12-07 07:28:27,472 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=7b039f43-6043-447e-b1e5-f032c9c46154]: sent task assignment to client
2022-12-07 07:28:28,378 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 07:28:28,804 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=c07e8f83-502e-4963-9290-251948862bf3]: assigned task to client site-1: name=train, id=c07e8f83-502e-4963-9290-251948862bf3
2022-12-07 07:28:28,805 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=c07e8f83-502e-4963-9290-251948862bf3]: sent task assignment to client
2022-12-07 07:28:29,640 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 07:28:51,251 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.7822904586792 seconds
2022-12-07 07:28:51,290 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 07:28:51,730 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=7b039f43-6043-447e-b1e5-f032c9c46154
2022-12-07 07:28:51,731 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7b039f43-6043-447e-b1e5-f032c9c46154]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 07:28:51,731 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7b039f43-6043-447e-b1e5-f032c9c46154]: Client trainer got task: train
2022-12-07 07:28:52,625 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.990524530410767 seconds
2022-12-07 07:28:52,659 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 07:28:53,106 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=c07e8f83-502e-4963-9290-251948862bf3
2022-12-07 07:28:53,107 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c07e8f83-502e-4963-9290-251948862bf3]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 07:28:53,107 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c07e8f83-502e-4963-9290-251948862bf3]: Client trainer got task: train
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 07:29:13,794 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7b039f43-6043-447e-b1e5-f032c9c46154]: Accuracy when validating site-2's model on site-2s data: 0.9670131421039746
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 07:29:15,327 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c07e8f83-502e-4963-9290-251948862bf3]: Accuracy when validating site-1's model on site-1s data: 0.9660661310899663
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       176
         eve       0.97      0.97      0.97       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      1.00      1.00      5503
         nat       0.97      0.97      0.97        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9987830149202062
val 0/1: 
              precision    recall  f1-score   support

         art       0.53      0.20      0.29        45
         eve       0.21      0.38      0.27        13
         geo       0.84      0.90      0.87      1773
         gpe       0.96      0.94      0.95       640
         nat       0.25      0.08      0.12        12
         org       0.73      0.72      0.73      1045
         per       0.78      0.78      0.78       940
         tim       0.85      0.86      0.85       859

   micro avg       0.82      0.83      0.83      5327
   macro avg       0.64      0.61      0.61      5327
weighted avg       0.82      0.83      0.82      5327

F1-score: 0.9668590177966891
2022-12-07 07:37:57,560 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7b039f43-6043-447e-b1e5-f032c9c46154]: train:
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       176
         eve       0.97      0.97      0.97       117
         geo       0.99      0.99      0.99     14724
         gpe       0.99      1.00      1.00      5503
         nat       0.97      0.97      0.97        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.53      0.20      0.29        45
         eve       0.21      0.38      0.27        13
         geo       0.84      0.90      0.87      1773
         gpe       0.96      0.94      0.95       640
         nat       0.25      0.08      0.12        12
         org       0.73      0.72      0.73      1045
         per       0.78      0.78      0.78       940
         tim       0.85      0.86      0.85       859

   micro avg       0.82      0.83      0.83      5327
   macro avg       0.64      0.61      0.61      5327
weighted avg       0.82      0.83      0.82      5327

2022-12-07 07:37:57,738 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 07:37:58,855 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7b039f43-6043-447e-b1e5-f032c9c46154]: finished processing task
2022-12-07 07:37:58,856 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 07:37:59,698 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      1.00      0.99       222
         eve       0.96      0.96      0.96        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.96      0.97      0.96       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9987050568442618
val 0/1: 
              precision    recall  f1-score   support

         art       0.12      0.26      0.17        19
         eve       0.17      0.25      0.20        16
         geo       0.84      0.87      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.12      0.17      0.14         6
         org       0.70      0.66      0.68       991
         per       0.74      0.79      0.76       907
         tim       0.84      0.83      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.56      0.60      0.57      5343
weighted avg       0.80      0.82      0.81      5343

F1-score: 0.9645921672635533
2022-12-07 07:38:03,175 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c07e8f83-502e-4963-9290-251948862bf3]: train:
              precision    recall  f1-score   support

         art       0.98      1.00      0.99       222
         eve       0.96      0.96      0.96        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.96      0.97      0.96       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.12      0.26      0.17        19
         eve       0.17      0.25      0.20        16
         geo       0.84      0.87      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.12      0.17      0.14         6
         org       0.70      0.66      0.68       991
         per       0.74      0.79      0.76       907
         tim       0.84      0.83      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.56      0.60      0.57      5343
weighted avg       0.80      0.82      0.81      5343

2022-12-07 07:38:03,208 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 07:38:04,111 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c07e8f83-502e-4963-9290-251948862bf3]: finished processing task
2022-12-07 07:38:04,112 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 07:38:04,954 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 07:38:22,449 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670398702 seconds)
2022-12-07 07:38:22,449 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=7b039f43-6043-447e-b1e5-f032c9c46154
2022-12-07 07:38:22,449 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7b039f43-6043-447e-b1e5-f032c9c46154]: invoking result_received_cb ...
2022-12-07 07:38:22,544 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7b039f43-6043-447e-b1e5-f032c9c46154]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 07:38:22,544 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7b039f43-6043-447e-b1e5-f032c9c46154]: finished processing client result by scatter_and_gather
2022-12-07 07:38:22,577 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670398702 seconds). SubmitUpdate time: 22.878753900527954 seconds
2022-12-07 07:38:22,633 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7b039f43-6043-447e-b1e5-f032c9c46154]: result sent to server for task: name=train, id=7b039f43-6043-447e-b1e5-f032c9c46154
2022-12-07 07:38:22,633 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:38:24,711 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:38:28,010 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670398708 seconds)
2022-12-07 07:38:28,010 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=c07e8f83-502e-4963-9290-251948862bf3
2022-12-07 07:38:28,010 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c07e8f83-502e-4963-9290-251948862bf3]: invoking result_received_cb ...
2022-12-07 07:38:28,200 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c07e8f83-502e-4963-9290-251948862bf3]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 07:38:28,200 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=c07e8f83-502e-4963-9290-251948862bf3]: finished processing client result by scatter_and_gather
2022-12-07 07:38:28,205 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:38:28,247 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670398708 seconds). SubmitUpdate time: 23.293346405029297 seconds
2022-12-07 07:38:28,273 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=c07e8f83-502e-4963-9290-251948862bf3]: result sent to server for task: name=train, id=c07e8f83-502e-4963-9290-251948862bf3
2022-12-07 07:38:28,274 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:38:30,239 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:38:30,358 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:38:32,249 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:38:32,369 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:38:34,259 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:38:34,379 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:38:36,268 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:38:36,390 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:38:38,279 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:38:38,355 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 07:38:38,355 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 07:38:38,356 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 83
2022-12-07 07:38:38,400 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:38:38,487 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 07:38:38,488 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 07:38:39,557 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 07:38:39,558 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 83 finished.
2022-12-07 07:38:39,558 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 84 started.
2022-12-07 07:38:39,559 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 07:38:40,287 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=1d086bda-f05e-4e9b-825b-c6c5160b299a]: assigned task to client site-2: name=train, id=1d086bda-f05e-4e9b-825b-c6c5160b299a
2022-12-07 07:38:40,288 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=1d086bda-f05e-4e9b-825b-c6c5160b299a]: sent task assignment to client
2022-12-07 07:38:41,145 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 07:38:41,568 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=db8aec47-40cf-4f97-8cfc-9f15e8382350]: assigned task to client site-1: name=train, id=db8aec47-40cf-4f97-8cfc-9f15e8382350
2022-12-07 07:38:41,570 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=db8aec47-40cf-4f97-8cfc-9f15e8382350]: sent task assignment to client
2022-12-07 07:38:42,390 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 07:39:03,874 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.589864492416382 seconds
2022-12-07 07:39:03,912 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 07:39:04,362 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=1d086bda-f05e-4e9b-825b-c6c5160b299a
2022-12-07 07:39:04,362 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1d086bda-f05e-4e9b-825b-c6c5160b299a]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 07:39:04,363 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1d086bda-f05e-4e9b-825b-c6c5160b299a]: Client trainer got task: train
2022-12-07 07:39:05,054 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.64851474761963 seconds
2022-12-07 07:39:05,086 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 07:39:05,504 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=db8aec47-40cf-4f97-8cfc-9f15e8382350
2022-12-07 07:39:05,504 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=db8aec47-40cf-4f97-8cfc-9f15e8382350]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 07:39:05,504 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=db8aec47-40cf-4f97-8cfc-9f15e8382350]: Client trainer got task: train
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 07:39:26,439 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1d086bda-f05e-4e9b-825b-c6c5160b299a]: Accuracy when validating site-2's model on site-2s data: 0.9671625569476866
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 07:39:27,684 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=db8aec47-40cf-4f97-8cfc-9f15e8382350]: Accuracy when validating site-1's model on site-1s data: 0.9652432895289247
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.97      1.00      0.99       176
         eve       0.97      0.95      0.96       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.97      0.98      0.97        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.999006332567007
val 0/1: 
              precision    recall  f1-score   support

         art       0.56      0.20      0.30        45
         eve       0.25      0.38      0.30        13
         geo       0.85      0.88      0.86      1773
         gpe       0.96      0.94      0.95       640
         nat       0.25      0.08      0.12        12
         org       0.71      0.73      0.72      1045
         per       0.77      0.77      0.77       940
         tim       0.86      0.85      0.86       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.65      0.61      0.61      5327
weighted avg       0.82      0.83      0.82      5327

F1-score: 0.9667801929179553
2022-12-07 07:48:10,923 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1d086bda-f05e-4e9b-825b-c6c5160b299a]: train:
              precision    recall  f1-score   support

         art       0.97      1.00      0.99       176
         eve       0.97      0.95      0.96       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.97      0.98      0.97        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.56      0.20      0.30        45
         eve       0.25      0.38      0.30        13
         geo       0.85      0.88      0.86      1773
         gpe       0.96      0.94      0.95       640
         nat       0.25      0.08      0.12        12
         org       0.71      0.73      0.72      1045
         per       0.77      0.77      0.77       940
         tim       0.86      0.85      0.86       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.65      0.61      0.61      5327
weighted avg       0.82      0.83      0.82      5327

2022-12-07 07:48:11,264 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 07:48:11,853 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1d086bda-f05e-4e9b-825b-c6c5160b299a]: finished processing task
2022-12-07 07:48:11,854 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 07:48:12,667 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.96      0.96      0.96       222
         eve       0.95      0.98      0.96        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.92      0.95      0.94       116
         org       0.97      0.97      0.97      8377
         per       0.98      0.98      0.98      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.98      0.98      0.98     43021
   macro avg       0.97      0.98      0.97     43021
weighted avg       0.98      0.98      0.98     43021

F1-score: 0.9976725166795554
val 0/1: 
              precision    recall  f1-score   support

         art       0.14      0.11      0.12        19
         eve       0.20      0.19      0.19        16
         geo       0.85      0.87      0.86      1819
         gpe       0.94      0.94      0.94       731
         nat       1.00      0.17      0.29         6
         org       0.71      0.69      0.70       991
         per       0.73      0.80      0.76       907
         tim       0.86      0.82      0.84       854

   micro avg       0.81      0.82      0.82      5343
   macro avg       0.68      0.57      0.59      5343
weighted avg       0.81      0.82      0.82      5343

F1-score: 0.9658061111061887
2022-12-07 07:48:23,610 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=db8aec47-40cf-4f97-8cfc-9f15e8382350]: train:
              precision    recall  f1-score   support

         art       0.96      0.96      0.96       222
         eve       0.95      0.98      0.96        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.92      0.95      0.94       116
         org       0.97      0.97      0.97      8377
         per       0.98      0.98      0.98      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.98      0.98      0.98     43021
   macro avg       0.97      0.98      0.97     43021
weighted avg       0.98      0.98      0.98     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.14      0.11      0.12        19
         eve       0.20      0.19      0.19        16
         geo       0.85      0.87      0.86      1819
         gpe       0.94      0.94      0.94       731
         nat       1.00      0.17      0.29         6
         org       0.71      0.69      0.70       991
         per       0.73      0.80      0.76       907
         tim       0.86      0.82      0.84       854

   micro avg       0.81      0.82      0.82      5343
   macro avg       0.68      0.57      0.59      5343
weighted avg       0.81      0.82      0.82      5343

2022-12-07 07:48:24,439 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 07:48:24,538 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=db8aec47-40cf-4f97-8cfc-9f15e8382350]: finished processing task
2022-12-07 07:48:24,539 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 07:48:25,366 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 07:48:35,510 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670399315 seconds)
2022-12-07 07:48:35,510 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=1d086bda-f05e-4e9b-825b-c6c5160b299a
2022-12-07 07:48:35,510 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1d086bda-f05e-4e9b-825b-c6c5160b299a]: invoking result_received_cb ...
2022-12-07 07:48:35,577 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1d086bda-f05e-4e9b-825b-c6c5160b299a]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 07:48:35,577 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=1d086bda-f05e-4e9b-825b-c6c5160b299a]: finished processing client result by scatter_and_gather
2022-12-07 07:48:35,611 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670399315 seconds). SubmitUpdate time: 22.94400906562805 seconds
2022-12-07 07:48:35,671 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=1d086bda-f05e-4e9b-825b-c6c5160b299a]: result sent to server for task: name=train, id=1d086bda-f05e-4e9b-825b-c6c5160b299a
2022-12-07 07:48:35,672 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:48:37,747 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:48:39,757 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:48:41,768 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:48:43,778 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:48:48,489 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670399328 seconds)
2022-12-07 07:48:48,489 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=db8aec47-40cf-4f97-8cfc-9f15e8382350
2022-12-07 07:48:48,490 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=db8aec47-40cf-4f97-8cfc-9f15e8382350]: invoking result_received_cb ...
2022-12-07 07:48:48,648 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=db8aec47-40cf-4f97-8cfc-9f15e8382350]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 07:48:48,649 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=db8aec47-40cf-4f97-8cfc-9f15e8382350]: finished processing client result by scatter_and_gather
2022-12-07 07:48:48,653 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:48:48,679 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670399328 seconds). SubmitUpdate time: 23.312426328659058 seconds
2022-12-07 07:48:48,710 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=db8aec47-40cf-4f97-8cfc-9f15e8382350]: result sent to server for task: name=train, id=db8aec47-40cf-4f97-8cfc-9f15e8382350
2022-12-07 07:48:48,710 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:48:50,685 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:48:50,770 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:48:52,693 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:48:52,779 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:48:54,704 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:48:54,787 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:48:56,713 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:48:56,796 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:48:58,724 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:48:58,805 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:48:58,825 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 07:48:59,325 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 07:48:59,326 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 84
2022-12-07 07:48:59,393 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 07:48:59,394 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 07:49:00,233 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 07:49:00,233 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 84 finished.
2022-12-07 07:49:00,233 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 85 started.
2022-12-07 07:49:00,234 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 07:49:00,732 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=74851bab-865c-44fc-adbd-f7ce43c03e34]: assigned task to client site-2: name=train, id=74851bab-865c-44fc-adbd-f7ce43c03e34
2022-12-07 07:49:00,734 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=74851bab-865c-44fc-adbd-f7ce43c03e34]: sent task assignment to client
2022-12-07 07:49:01,602 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 07:49:02,032 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=3a20d403-967e-43e2-ba50-eab1567d5c7f]: assigned task to client site-1: name=train, id=3a20d403-967e-43e2-ba50-eab1567d5c7f
2022-12-07 07:49:02,034 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=3a20d403-967e-43e2-ba50-eab1567d5c7f]: sent task assignment to client
2022-12-07 07:49:02,871 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 07:49:24,486 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.755972623825073 seconds
2022-12-07 07:49:24,535 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 07:49:24,956 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=74851bab-865c-44fc-adbd-f7ce43c03e34
2022-12-07 07:49:24,957 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=74851bab-865c-44fc-adbd-f7ce43c03e34]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 07:49:24,957 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=74851bab-865c-44fc-adbd-f7ce43c03e34]: Client trainer got task: train
2022-12-07 07:49:25,704 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.894416093826294 seconds
2022-12-07 07:49:25,742 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 07:49:26,161 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=3a20d403-967e-43e2-ba50-eab1567d5c7f
2022-12-07 07:49:26,161 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3a20d403-967e-43e2-ba50-eab1567d5c7f]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 07:49:26,161 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3a20d403-967e-43e2-ba50-eab1567d5c7f]: Client trainer got task: train
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 07:49:47,064 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=74851bab-865c-44fc-adbd-f7ce43c03e34]: Accuracy when validating site-2's model on site-2s data: 0.9677615569041487
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 07:50:01,061 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3a20d403-967e-43e2-ba50-eab1567d5c7f]: Accuracy when validating site-1's model on site-1s data: 0.9664865206314392
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      0.98      0.98       176
         eve       0.98      0.99      0.99       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      0.99      0.99      5503
         nat       0.97      0.98      0.97        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9988697672979666
val 0/1: 
              precision    recall  f1-score   support

         art       0.47      0.16      0.23        45
         eve       0.17      0.31      0.22        13
         geo       0.84      0.90      0.87      1773
         gpe       0.94      0.94      0.94       640
         nat       0.25      0.08      0.12        12
         org       0.73      0.71      0.72      1045
         per       0.77      0.77      0.77       940
         tim       0.85      0.85      0.85       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.63      0.59      0.59      5327
weighted avg       0.81      0.83      0.82      5327

F1-score: 0.9670441633525646
2022-12-07 07:58:32,174 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=74851bab-865c-44fc-adbd-f7ce43c03e34]: train:
              precision    recall  f1-score   support

         art       0.98      0.98      0.98       176
         eve       0.98      0.99      0.99       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      0.99      0.99      5503
         nat       0.97      0.98      0.97        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.47      0.16      0.23        45
         eve       0.17      0.31      0.22        13
         geo       0.84      0.90      0.87      1773
         gpe       0.94      0.94      0.94       640
         nat       0.25      0.08      0.12        12
         org       0.73      0.71      0.72      1045
         per       0.77      0.77      0.77       940
         tim       0.85      0.85      0.85       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.63      0.59      0.59      5327
weighted avg       0.81      0.83      0.82      5327

2022-12-07 07:58:32,868 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 07:58:33,368 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=74851bab-865c-44fc-adbd-f7ce43c03e34]: finished processing task
2022-12-07 07:58:33,369 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 07:58:34,207 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 07:58:57,005 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670399937 seconds)
2022-12-07 07:58:57,006 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=74851bab-865c-44fc-adbd-f7ce43c03e34
2022-12-07 07:58:57,006 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=74851bab-865c-44fc-adbd-f7ce43c03e34]: invoking result_received_cb ...
2022-12-07 07:58:57,103 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=74851bab-865c-44fc-adbd-f7ce43c03e34]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 07:58:57,103 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=74851bab-865c-44fc-adbd-f7ce43c03e34]: finished processing client result by scatter_and_gather
2022-12-07 07:58:57,139 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670399937 seconds). SubmitUpdate time: 22.931257009506226 seconds
2022-12-07 07:58:57,193 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=74851bab-865c-44fc-adbd-f7ce43c03e34]: result sent to server for task: name=train, id=74851bab-865c-44fc-adbd-f7ce43c03e34
2022-12-07 07:58:57,194 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:58:59,274 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:01,285 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:03,295 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:05,305 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:07,316 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:09,327 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:11,338 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:13,348 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:15,356 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:17,366 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:19,376 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:21,387 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:23,397 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:25,407 - ClientTaskWorker - INFO - Finished one task run for client: site-2
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       222
         eve       0.96      0.98      0.97        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.96      0.96      0.96       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9982863164247071
val 0/1: 
              precision    recall  f1-score   support

         art       0.12      0.16      0.14        19
         eve       0.19      0.31      0.24        16
         geo       0.85      0.88      0.86      1819
         gpe       0.94      0.94      0.94       731
         nat       0.50      0.17      0.25         6
         org       0.73      0.68      0.71       991
         per       0.72      0.80      0.76       907
         tim       0.85      0.82      0.84       854

   micro avg       0.81      0.82      0.82      5343
   macro avg       0.61      0.59      0.59      5343
weighted avg       0.81      0.82      0.82      5343

F1-score: 0.9662308436481734
2022-12-07 07:59:27,296 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3a20d403-967e-43e2-ba50-eab1567d5c7f]: train:
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       222
         eve       0.96      0.98      0.97        96
         geo       0.99      0.99      0.99     14594
         gpe       0.99      0.99      0.99      5584
         nat       0.96      0.96      0.96       116
         org       0.98      0.98      0.98      8377
         per       0.98      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.12      0.16      0.14        19
         eve       0.19      0.31      0.24        16
         geo       0.85      0.88      0.86      1819
         gpe       0.94      0.94      0.94       731
         nat       0.50      0.17      0.25         6
         org       0.73      0.68      0.71       991
         per       0.72      0.80      0.76       907
         tim       0.85      0.82      0.84       854

   micro avg       0.81      0.82      0.82      5343
   macro avg       0.61      0.59      0.59      5343
weighted avg       0.81      0.82      0.82      5343

2022-12-07 07:59:27,418 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:28,142 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 07:59:28,233 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3a20d403-967e-43e2-ba50-eab1567d5c7f]: finished processing task
2022-12-07 07:59:28,234 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 07:59:29,063 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 07:59:29,426 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:31,435 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:33,446 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:35,456 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:37,467 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:39,477 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:41,488 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:43,498 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:45,509 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:47,519 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:51,794 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670399991 seconds)
2022-12-07 07:59:51,794 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=3a20d403-967e-43e2-ba50-eab1567d5c7f
2022-12-07 07:59:51,795 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3a20d403-967e-43e2-ba50-eab1567d5c7f]: invoking result_received_cb ...
2022-12-07 07:59:51,983 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3a20d403-967e-43e2-ba50-eab1567d5c7f]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 07:59:51,983 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=3a20d403-967e-43e2-ba50-eab1567d5c7f]: finished processing client result by scatter_and_gather
2022-12-07 07:59:51,988 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:52,018 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670399991 seconds). SubmitUpdate time: 22.955071449279785 seconds
2022-12-07 07:59:52,074 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=3a20d403-967e-43e2-ba50-eab1567d5c7f]: result sent to server for task: name=train, id=3a20d403-967e-43e2-ba50-eab1567d5c7f
2022-12-07 07:59:52,075 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:59:54,021 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:54,159 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:59:56,031 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:56,169 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 07:59:58,041 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 07:59:58,180 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:00:00,051 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:00:00,190 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:00:02,060 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:00:02,144 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 08:00:02,199 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:00:02,642 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 08:00:02,643 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 85
2022-12-07 08:00:02,784 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 08:00:02,784 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 08:00:03,422 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 08:00:03,423 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 85 finished.
2022-12-07 08:00:03,423 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 86 started.
2022-12-07 08:00:03,424 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 08:00:04,067 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=46b05588-9749-452c-8603-0c380163cd93]: assigned task to client site-2: name=train, id=46b05588-9749-452c-8603-0c380163cd93
2022-12-07 08:00:04,068 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=46b05588-9749-452c-8603-0c380163cd93]: sent task assignment to client
2022-12-07 08:00:04,908 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 08:00:05,325 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=b8284de3-c0a3-4c4d-bf3a-fb1e12fba8f7]: assigned task to client site-1: name=train, id=b8284de3-c0a3-4c4d-bf3a-fb1e12fba8f7
2022-12-07 08:00:05,326 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=b8284de3-c0a3-4c4d-bf3a-fb1e12fba8f7]: sent task assignment to client
2022-12-07 08:00:06,150 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 08:00:27,588 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.523603916168213 seconds
2022-12-07 08:00:27,624 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 08:00:28,062 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=46b05588-9749-452c-8603-0c380163cd93
2022-12-07 08:00:28,063 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=46b05588-9749-452c-8603-0c380163cd93]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 08:00:28,063 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=46b05588-9749-452c-8603-0c380163cd93]: Client trainer got task: train
2022-12-07 08:00:28,889 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.68462562561035 seconds
2022-12-07 08:00:28,927 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 08:00:29,337 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=b8284de3-c0a3-4c4d-bf3a-fb1e12fba8f7
2022-12-07 08:00:29,337 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b8284de3-c0a3-4c4d-bf3a-fb1e12fba8f7]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 08:00:29,337 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b8284de3-c0a3-4c4d-bf3a-fb1e12fba8f7]: Client trainer got task: train
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 08:00:50,015 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=46b05588-9749-452c-8603-0c380163cd93]: Accuracy when validating site-2's model on site-2s data: 0.967623236045132
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 08:00:51,525 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b8284de3-c0a3-4c4d-bf3a-fb1e12fba8f7]: Accuracy when validating site-1's model on site-1s data: 0.9661714943107484
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       222
         eve       0.94      0.96      0.95        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.97      0.95      0.96       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9990186895523393
val 0/1: 
              precision    recall  f1-score   support

         art       0.07      0.05      0.06        19
         eve       0.11      0.12      0.12        16
         geo       0.84      0.87      0.86      1819
         gpe       0.93      0.93      0.93       731
         nat       0.12      0.17      0.14         6
         org       0.71      0.68      0.69       991
         per       0.72      0.80      0.76       907
         tim       0.85      0.83      0.84       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.54      0.56      0.55      5343
weighted avg       0.80      0.82      0.81      5343

F1-score: 0.9645826556817207
2022-12-07 08:09:34,581 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b8284de3-c0a3-4c4d-bf3a-fb1e12fba8f7]: train:
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       222
         eve       0.94      0.96      0.95        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.97      0.95      0.96       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.07      0.05      0.06        19
         eve       0.11      0.12      0.12        16
         geo       0.84      0.87      0.86      1819
         gpe       0.93      0.93      0.93       731
         nat       0.12      0.17      0.14         6
         org       0.71      0.68      0.69       991
         per       0.72      0.80      0.76       907
         tim       0.85      0.83      0.84       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.54      0.56      0.55      5343
weighted avg       0.80      0.82      0.81      5343

-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.96      0.96      0.96       176
         eve       0.98      0.98      0.98       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.98      0.99      0.98        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9988848785974466
val 0/1: 
              precision    recall  f1-score   support

         art       0.40      0.27      0.32        45
         eve       0.21      0.31      0.25        13
         geo       0.86      0.89      0.87      1773
         gpe       0.96      0.93      0.95       640
         nat       0.20      0.08      0.12        12
         org       0.71      0.71      0.71      1045
         per       0.76      0.77      0.77       940
         tim       0.85      0.86      0.86       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.62      0.60      0.61      5327
weighted avg       0.82      0.83      0.82      5327

F1-score: 0.9666327552782816
2022-12-07 08:09:35,329 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=46b05588-9749-452c-8603-0c380163cd93]: train:
              precision    recall  f1-score   support

         art       0.96      0.96      0.96       176
         eve       0.98      0.98      0.98       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.98      0.99      0.98        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.40      0.27      0.32        45
         eve       0.21      0.31      0.25        13
         geo       0.86      0.89      0.87      1773
         gpe       0.96      0.93      0.95       640
         nat       0.20      0.08      0.12        12
         org       0.71      0.71      0.71      1045
         per       0.76      0.77      0.77       940
         tim       0.85      0.86      0.86       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.62      0.60      0.61      5327
weighted avg       0.82      0.83      0.82      5327

2022-12-07 08:09:35,522 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 08:09:35,535 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b8284de3-c0a3-4c4d-bf3a-fb1e12fba8f7]: finished processing task
2022-12-07 08:09:35,536 - FederatedClient - INFO - Starting to push execute result.
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 08:09:36,280 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=46b05588-9749-452c-8603-0c380163cd93]: finished processing task
2022-12-07 08:09:36,283 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 08:09:36,285 - SimulatorServer - INFO - getting AuxCommunicate request
2022-12-07 08:09:36,376 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 08:09:37,101 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 08:09:59,252 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670400599 seconds)
2022-12-07 08:09:59,252 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=b8284de3-c0a3-4c4d-bf3a-fb1e12fba8f7
2022-12-07 08:09:59,253 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b8284de3-c0a3-4c4d-bf3a-fb1e12fba8f7]: invoking result_received_cb ...
2022-12-07 08:09:59,320 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b8284de3-c0a3-4c4d-bf3a-fb1e12fba8f7]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 08:09:59,321 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=b8284de3-c0a3-4c4d-bf3a-fb1e12fba8f7]: finished processing client result by scatter_and_gather
2022-12-07 08:09:59,356 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670400599 seconds). SubmitUpdate time: 22.979918718338013 seconds
2022-12-07 08:09:59,398 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=b8284de3-c0a3-4c4d-bf3a-fb1e12fba8f7]: result sent to server for task: name=train, id=b8284de3-c0a3-4c4d-bf3a-fb1e12fba8f7
2022-12-07 08:09:59,398 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:10:02,426 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670400602 seconds)
2022-12-07 08:10:02,427 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=46b05588-9749-452c-8603-0c380163cd93
2022-12-07 08:10:02,427 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=46b05588-9749-452c-8603-0c380163cd93]: invoking result_received_cb ...
2022-12-07 08:10:02,608 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=46b05588-9749-452c-8603-0c380163cd93]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 08:10:02,608 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=46b05588-9749-452c-8603-0c380163cd93]: finished processing client result by scatter_and_gather
2022-12-07 08:10:02,651 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670400602 seconds). SubmitUpdate time: 25.550391674041748 seconds
2022-12-07 08:10:02,654 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:10:02,692 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=46b05588-9749-452c-8603-0c380163cd93]: result sent to server for task: name=train, id=46b05588-9749-452c-8603-0c380163cd93
2022-12-07 08:10:02,693 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:10:04,670 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:10:04,778 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:10:06,680 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:10:06,788 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:10:08,690 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:10:08,798 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:10:10,701 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:10:10,809 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:10:12,711 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:10:12,765 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 08:10:12,819 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:10:13,264 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 08:10:13,265 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 86
2022-12-07 08:10:13,340 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 08:10:13,341 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 08:10:14,197 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 08:10:14,197 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 86 finished.
2022-12-07 08:10:14,198 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 87 started.
2022-12-07 08:10:14,198 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 08:10:14,720 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=103c9c73-6e59-4bb0-8c63-01fd456c3b8a]: assigned task to client site-1: name=train, id=103c9c73-6e59-4bb0-8c63-01fd456c3b8a
2022-12-07 08:10:14,721 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=103c9c73-6e59-4bb0-8c63-01fd456c3b8a]: sent task assignment to client
2022-12-07 08:10:15,572 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 08:10:15,992 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=77dc56c4-882b-4940-9a7f-395ae3d5934e]: assigned task to client site-2: name=train, id=77dc56c4-882b-4940-9a7f-395ae3d5934e
2022-12-07 08:10:15,993 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=77dc56c4-882b-4940-9a7f-395ae3d5934e]: sent task assignment to client
2022-12-07 08:10:16,812 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 08:10:38,373 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.6561918258667 seconds
2022-12-07 08:10:38,413 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 08:10:38,839 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=103c9c73-6e59-4bb0-8c63-01fd456c3b8a
2022-12-07 08:10:38,840 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=103c9c73-6e59-4bb0-8c63-01fd456c3b8a]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 08:10:38,840 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=103c9c73-6e59-4bb0-8c63-01fd456c3b8a]: Client trainer got task: train
2022-12-07 08:10:39,537 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.71380376815796 seconds
2022-12-07 08:10:39,555 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 08:10:40,016 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=77dc56c4-882b-4940-9a7f-395ae3d5934e
2022-12-07 08:10:40,017 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=77dc56c4-882b-4940-9a7f-395ae3d5934e]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 08:10:40,017 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=77dc56c4-882b-4940-9a7f-395ae3d5934e]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 08:11:01,024 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=103c9c73-6e59-4bb0-8c63-01fd456c3b8a]: Accuracy when validating site-1's model on site-1s data: 0.9652239464538324
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 08:11:02,102 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=77dc56c4-882b-4940-9a7f-395ae3d5934e]: Accuracy when validating site-2's model on site-2s data: 0.9669914959766426
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      1.00      0.99       222
         eve       0.98      0.99      0.98        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.92      0.95      0.94       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.99      0.98     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9990494856128409
val 0/1: 
              precision    recall  f1-score   support

         art       0.12      0.11      0.11        19
         eve       0.11      0.12      0.12        16
         geo       0.85      0.86      0.86      1819
         gpe       0.92      0.94      0.93       731
         nat       0.33      0.17      0.22         6
         org       0.71      0.69      0.70       991
         per       0.72      0.80      0.76       907
         tim       0.85      0.83      0.84       854

   micro avg       0.81      0.82      0.81      5343
   macro avg       0.58      0.56      0.57      5343
weighted avg       0.81      0.82      0.81      5343

F1-score: 0.9650504867991209
2022-12-07 08:19:44,663 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=103c9c73-6e59-4bb0-8c63-01fd456c3b8a]: train:
              precision    recall  f1-score   support

         art       0.98      1.00      0.99       222
         eve       0.98      0.99      0.98        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.92      0.95      0.94       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.99      0.98     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.12      0.11      0.11        19
         eve       0.11      0.12      0.12        16
         geo       0.85      0.86      0.86      1819
         gpe       0.92      0.94      0.93       731
         nat       0.33      0.17      0.22         6
         org       0.71      0.69      0.70       991
         per       0.72      0.80      0.76       907
         tim       0.85      0.83      0.84       854

   micro avg       0.81      0.82      0.81      5343
   macro avg       0.58      0.56      0.57      5343
weighted avg       0.81      0.82      0.81      5343

2022-12-07 08:19:44,988 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 08:19:45,887 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=103c9c73-6e59-4bb0-8c63-01fd456c3b8a]: finished processing task
2022-12-07 08:19:45,888 - FederatedClient - INFO - Starting to push execute result.
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       176
         eve       0.97      0.97      0.97       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.95      0.98      0.96        95
         org       0.99      0.99      0.99      8238
         per       0.99      1.00      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9989987011735573
val 0/1: 
              precision    recall  f1-score   support

         art       0.52      0.24      0.33        45
         eve       0.21      0.31      0.25        13
         geo       0.84      0.90      0.87      1773
         gpe       0.96      0.94      0.95       640
         nat       0.33      0.08      0.13        12
         org       0.72      0.72      0.72      1045
         per       0.76      0.77      0.77       940
         tim       0.83      0.86      0.85       859

   micro avg       0.81      0.83      0.82      5327
   macro avg       0.65      0.60      0.61      5327
weighted avg       0.81      0.83      0.82      5327

F1-score: 0.9664715021637882
2022-12-07 08:19:46,061 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=77dc56c4-882b-4940-9a7f-395ae3d5934e]: train:
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       176
         eve       0.97      0.97      0.97       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.95      0.98      0.96        95
         org       0.99      0.99      0.99      8238
         per       0.99      1.00      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.52      0.24      0.33        45
         eve       0.21      0.31      0.25        13
         geo       0.84      0.90      0.87      1773
         gpe       0.96      0.94      0.95       640
         nat       0.33      0.08      0.13        12
         org       0.72      0.72      0.72      1045
         per       0.76      0.77      0.77       940
         tim       0.83      0.86      0.85       859

   micro avg       0.81      0.83      0.82      5327
   macro avg       0.65      0.60      0.61      5327
weighted avg       0.81      0.83      0.82      5327

2022-12-07 08:19:46,746 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 08:19:46,893 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 08:19:46,942 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=77dc56c4-882b-4940-9a7f-395ae3d5934e]: finished processing task
2022-12-07 08:19:46,943 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 08:19:47,764 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 08:20:10,518 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670401210 seconds)
2022-12-07 08:20:10,518 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=103c9c73-6e59-4bb0-8c63-01fd456c3b8a
2022-12-07 08:20:10,519 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=103c9c73-6e59-4bb0-8c63-01fd456c3b8a]: invoking result_received_cb ...
2022-12-07 08:20:10,614 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=103c9c73-6e59-4bb0-8c63-01fd456c3b8a]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 08:20:10,614 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=103c9c73-6e59-4bb0-8c63-01fd456c3b8a]: finished processing client result by scatter_and_gather
2022-12-07 08:20:10,651 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670401210 seconds). SubmitUpdate time: 23.904661178588867 seconds
2022-12-07 08:20:10,672 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=103c9c73-6e59-4bb0-8c63-01fd456c3b8a]: result sent to server for task: name=train, id=103c9c73-6e59-4bb0-8c63-01fd456c3b8a
2022-12-07 08:20:10,672 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:20:12,667 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670401212 seconds)
2022-12-07 08:20:12,668 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=77dc56c4-882b-4940-9a7f-395ae3d5934e
2022-12-07 08:20:12,668 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=77dc56c4-882b-4940-9a7f-395ae3d5934e]: invoking result_received_cb ...
2022-12-07 08:20:12,863 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=77dc56c4-882b-4940-9a7f-395ae3d5934e]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 08:20:12,864 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=77dc56c4-882b-4940-9a7f-395ae3d5934e]: finished processing client result by scatter_and_gather
2022-12-07 08:20:12,901 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670401212 seconds). SubmitUpdate time: 25.137149333953857 seconds
2022-12-07 08:20:12,903 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:20:12,935 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=77dc56c4-882b-4940-9a7f-395ae3d5934e]: result sent to server for task: name=train, id=77dc56c4-882b-4940-9a7f-395ae3d5934e
2022-12-07 08:20:12,936 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:20:14,913 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:20:15,024 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:20:16,924 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:20:17,042 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:20:18,947 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:20:19,051 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:20:20,958 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:20:21,061 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:20:22,969 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:20:23,003 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 08:20:23,071 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:20:23,503 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 08:20:23,504 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 87
2022-12-07 08:20:23,629 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 08:20:23,629 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 08:20:24,487 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 08:20:24,488 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 87 finished.
2022-12-07 08:20:24,488 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 88 started.
2022-12-07 08:20:24,488 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 08:20:24,977 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=ad3da6e3-7bdc-4af2-be00-756115e6edfa]: assigned task to client site-1: name=train, id=ad3da6e3-7bdc-4af2-be00-756115e6edfa
2022-12-07 08:20:24,978 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=ad3da6e3-7bdc-4af2-be00-756115e6edfa]: sent task assignment to client
2022-12-07 08:20:25,839 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 08:20:26,260 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=e52cfcc2-f4e9-4766-87b9-03fb96507ff3]: assigned task to client site-2: name=train, id=e52cfcc2-f4e9-4766-87b9-03fb96507ff3
2022-12-07 08:20:26,262 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=e52cfcc2-f4e9-4766-87b9-03fb96507ff3]: sent task assignment to client
2022-12-07 08:20:27,089 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 08:20:48,590 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.615488529205322 seconds
2022-12-07 08:20:48,600 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 08:20:49,079 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=ad3da6e3-7bdc-4af2-be00-756115e6edfa
2022-12-07 08:20:49,080 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ad3da6e3-7bdc-4af2-be00-756115e6edfa]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 08:20:49,080 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ad3da6e3-7bdc-4af2-be00-756115e6edfa]: Client trainer got task: train
2022-12-07 08:20:49,843 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.76668119430542 seconds
2022-12-07 08:20:49,876 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 08:20:50,285 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=e52cfcc2-f4e9-4766-87b9-03fb96507ff3
2022-12-07 08:20:50,285 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e52cfcc2-f4e9-4766-87b9-03fb96507ff3]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 08:20:50,285 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e52cfcc2-f4e9-4766-87b9-03fb96507ff3]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 08:21:11,319 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ad3da6e3-7bdc-4af2-be00-756115e6edfa]: Accuracy when validating site-1's model on site-1s data: 0.9655258200397425
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 08:21:12,402 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e52cfcc2-f4e9-4766-87b9-03fb96507ff3]: Accuracy when validating site-2's model on site-2s data: 0.9667186398479453
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
-------------------------------------------------- save local model: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      0.97      0.98       222
         eve       0.98      1.00      0.99        96
         geo       0.99      1.00      1.00     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.93      0.97      0.95       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.99      0.99     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9990135470068805
val 0/1: 
              precision    recall  f1-score   support

         art       0.09      0.11      0.10        19
         eve       0.19      0.25      0.22        16
         geo       0.84      0.87      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.50      0.33      0.40         6
         org       0.71      0.69      0.70       991
         per       0.72      0.80      0.76       907
         tim       0.83      0.83      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.60      0.60      0.60      5343
weighted avg       0.80      0.82      0.81      5343

F1-score: 0.9655518155271313
2022-12-07 08:29:54,923 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ad3da6e3-7bdc-4af2-be00-756115e6edfa]: train:
              precision    recall  f1-score   support

         art       0.98      0.97      0.98       222
         eve       0.98      1.00      0.99        96
         geo       0.99      1.00      1.00     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.93      0.97      0.95       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.99      0.99     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.09      0.11      0.10        19
         eve       0.19      0.25      0.22        16
         geo       0.84      0.87      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.50      0.33      0.40         6
         org       0.71      0.69      0.70       991
         per       0.72      0.80      0.76       907
         tim       0.83      0.83      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.60      0.60      0.60      5343
weighted avg       0.80      0.82      0.81      5343

2022-12-07 08:29:55,193 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 08:29:56,114 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ad3da6e3-7bdc-4af2-be00-756115e6edfa]: finished processing task
2022-12-07 08:29:56,115 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 08:29:56,941 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.98      0.99       176
         eve       0.98      0.97      0.98       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.98      0.99      0.98        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9989225260649597
val 0/1: 
              precision    recall  f1-score   support

         art       0.45      0.22      0.30        45
         eve       0.17      0.31      0.22        13
         geo       0.85      0.90      0.87      1773
         gpe       0.96      0.94      0.95       640
         nat       0.25      0.08      0.12        12
         org       0.73      0.71      0.72      1045
         per       0.75      0.78      0.77       940
         tim       0.85      0.86      0.85       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.63      0.60      0.60      5327
weighted avg       0.82      0.83      0.82      5327

F1-score: 0.9667469114604451
2022-12-07 08:29:59,523 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e52cfcc2-f4e9-4766-87b9-03fb96507ff3]: train:
              precision    recall  f1-score   support

         art       0.99      0.98      0.99       176
         eve       0.98      0.97      0.98       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.98      0.99      0.98        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.45      0.22      0.30        45
         eve       0.17      0.31      0.22        13
         geo       0.85      0.90      0.87      1773
         gpe       0.96      0.94      0.95       640
         nat       0.25      0.08      0.12        12
         org       0.73      0.71      0.72      1045
         per       0.75      0.78      0.77       940
         tim       0.85      0.86      0.85       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.63      0.60      0.60      5327
weighted avg       0.82      0.83      0.82      5327

2022-12-07 08:30:00,219 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 08:30:00,452 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e52cfcc2-f4e9-4766-87b9-03fb96507ff3]: finished processing task
2022-12-07 08:30:00,453 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 08:30:01,316 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 08:30:19,652 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670401819 seconds)
2022-12-07 08:30:19,652 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=ad3da6e3-7bdc-4af2-be00-756115e6edfa
2022-12-07 08:30:19,652 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ad3da6e3-7bdc-4af2-be00-756115e6edfa]: invoking result_received_cb ...
2022-12-07 08:30:19,723 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ad3da6e3-7bdc-4af2-be00-756115e6edfa]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 08:30:19,723 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ad3da6e3-7bdc-4af2-be00-756115e6edfa]: finished processing client result by scatter_and_gather
2022-12-07 08:30:19,757 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670401819 seconds). SubmitUpdate time: 22.815785884857178 seconds
2022-12-07 08:30:19,812 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ad3da6e3-7bdc-4af2-be00-756115e6edfa]: result sent to server for task: name=train, id=ad3da6e3-7bdc-4af2-be00-756115e6edfa
2022-12-07 08:30:19,812 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:30:24,132 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670401824 seconds)
2022-12-07 08:30:24,132 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=e52cfcc2-f4e9-4766-87b9-03fb96507ff3
2022-12-07 08:30:24,133 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e52cfcc2-f4e9-4766-87b9-03fb96507ff3]: invoking result_received_cb ...
2022-12-07 08:30:24,299 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e52cfcc2-f4e9-4766-87b9-03fb96507ff3]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 08:30:24,299 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e52cfcc2-f4e9-4766-87b9-03fb96507ff3]: finished processing client result by scatter_and_gather
2022-12-07 08:30:24,337 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670401824 seconds). SubmitUpdate time: 23.02117419242859 seconds
2022-12-07 08:30:24,340 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:30:24,372 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e52cfcc2-f4e9-4766-87b9-03fb96507ff3]: result sent to server for task: name=train, id=e52cfcc2-f4e9-4766-87b9-03fb96507ff3
2022-12-07 08:30:24,373 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:30:26,350 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:30:26,452 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:30:28,361 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:30:28,461 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:30:30,371 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:30:30,485 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:30:32,381 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:30:32,495 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:30:34,398 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:30:34,470 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 08:30:34,505 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:30:34,969 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 08:30:34,970 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 88
2022-12-07 08:30:35,047 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 08:30:35,047 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 08:30:35,887 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 08:30:35,888 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 88 finished.
2022-12-07 08:30:35,888 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 89 started.
2022-12-07 08:30:35,889 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 08:30:36,406 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=d421ce97-5a53-4404-ae32-f3f68e841b02]: assigned task to client site-1: name=train, id=d421ce97-5a53-4404-ae32-f3f68e841b02
2022-12-07 08:30:36,407 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=d421ce97-5a53-4404-ae32-f3f68e841b02]: sent task assignment to client
2022-12-07 08:30:37,283 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 08:30:37,713 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=f459d098-0cd4-45e2-b7de-800e73d2d977]: assigned task to client site-2: name=train, id=f459d098-0cd4-45e2-b7de-800e73d2d977
2022-12-07 08:30:37,714 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=f459d098-0cd4-45e2-b7de-800e73d2d977]: sent task assignment to client
2022-12-07 08:30:38,538 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 08:31:00,101 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.697222232818604 seconds
2022-12-07 08:31:00,140 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 08:31:00,571 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=d421ce97-5a53-4404-ae32-f3f68e841b02
2022-12-07 08:31:00,571 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d421ce97-5a53-4404-ae32-f3f68e841b02]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 08:31:00,572 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d421ce97-5a53-4404-ae32-f3f68e841b02]: Client trainer got task: train
2022-12-07 08:31:01,259 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.749053955078125 seconds
2022-12-07 08:31:01,278 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 08:31:01,721 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=f459d098-0cd4-45e2-b7de-800e73d2d977
2022-12-07 08:31:01,721 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f459d098-0cd4-45e2-b7de-800e73d2d977]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 08:31:01,722 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f459d098-0cd4-45e2-b7de-800e73d2d977]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 08:31:22,818 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d421ce97-5a53-4404-ae32-f3f68e841b02]: Accuracy when validating site-1's model on site-1s data: 0.965807160416574
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 08:31:23,871 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f459d098-0cd4-45e2-b7de-800e73d2d977]: Accuracy when validating site-2's model on site-2s data: 0.9672681046741982
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       222
         eve       1.00      1.00      1.00        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.93      0.94      0.94       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.99      0.99     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9987656624442216
val 0/1: 
              precision    recall  f1-score   support

         art       0.09      0.11      0.10        19
         eve       0.14      0.19      0.16        16
         geo       0.86      0.85      0.86      1819
         gpe       0.94      0.94      0.94       731
         nat       0.50      0.17      0.25         6
         org       0.70      0.69      0.69       991
         per       0.72      0.81      0.76       907
         tim       0.85      0.82      0.84       854

   micro avg       0.81      0.82      0.81      5343
   macro avg       0.60      0.57      0.57      5343
weighted avg       0.81      0.82      0.81      5343

F1-score: 0.9652102799856729
2022-12-07 08:40:01,629 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d421ce97-5a53-4404-ae32-f3f68e841b02]: train:
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       222
         eve       1.00      1.00      1.00        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.93      0.94      0.94       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.99      0.99     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.09      0.11      0.10        19
         eve       0.14      0.19      0.16        16
         geo       0.86      0.85      0.86      1819
         gpe       0.94      0.94      0.94       731
         nat       0.50      0.17      0.25         6
         org       0.70      0.69      0.69       991
         per       0.72      0.81      0.76       907
         tim       0.85      0.82      0.84       854

   micro avg       0.81      0.82      0.81      5343
   macro avg       0.60      0.57      0.57      5343
weighted avg       0.81      0.82      0.81      5343

2022-12-07 08:40:02,475 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 08:40:02,564 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d421ce97-5a53-4404-ae32-f3f68e841b02]: finished processing task
2022-12-07 08:40:02,565 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 08:40:03,379 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       1.00      0.99      1.00       176
         eve       0.96      0.98      0.97       117
         geo       0.99      1.00      0.99     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.98      0.98      0.98        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9990224667245005
val 0/1: 
              precision    recall  f1-score   support

         art       0.48      0.24      0.32        45
         eve       0.14      0.23      0.17        13
         geo       0.84      0.90      0.87      1773
         gpe       0.96      0.94      0.95       640
         nat       0.17      0.08      0.11        12
         org       0.71      0.73      0.72      1045
         per       0.77      0.76      0.77       940
         tim       0.87      0.86      0.87       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.62      0.59      0.60      5327
weighted avg       0.82      0.83      0.82      5327

F1-score: 0.9669633124240771
2022-12-07 08:40:11,762 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f459d098-0cd4-45e2-b7de-800e73d2d977]: train:
              precision    recall  f1-score   support

         art       1.00      0.99      1.00       176
         eve       0.96      0.98      0.97       117
         geo       0.99      1.00      0.99     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.98      0.98      0.98        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.48      0.24      0.32        45
         eve       0.14      0.23      0.17        13
         geo       0.84      0.90      0.87      1773
         gpe       0.96      0.94      0.95       640
         nat       0.17      0.08      0.11        12
         org       0.71      0.73      0.72      1045
         per       0.77      0.76      0.77       940
         tim       0.87      0.86      0.87       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.62      0.59      0.60      5327
weighted avg       0.82      0.83      0.82      5327

2022-12-07 08:40:12,631 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 08:40:12,811 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f459d098-0cd4-45e2-b7de-800e73d2d977]: finished processing task
2022-12-07 08:40:12,812 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 08:40:13,634 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 08:40:26,410 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670402426 seconds)
2022-12-07 08:40:26,410 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=d421ce97-5a53-4404-ae32-f3f68e841b02
2022-12-07 08:40:26,411 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=d421ce97-5a53-4404-ae32-f3f68e841b02]: invoking result_received_cb ...
2022-12-07 08:40:26,504 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=d421ce97-5a53-4404-ae32-f3f68e841b02]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 08:40:26,505 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=d421ce97-5a53-4404-ae32-f3f68e841b02]: finished processing client result by scatter_and_gather
2022-12-07 08:40:26,541 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670402426 seconds). SubmitUpdate time: 23.161595582962036 seconds
2022-12-07 08:40:26,591 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=d421ce97-5a53-4404-ae32-f3f68e841b02]: result sent to server for task: name=train, id=d421ce97-5a53-4404-ae32-f3f68e841b02
2022-12-07 08:40:26,591 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:40:28,654 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:40:30,663 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:40:32,674 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:40:36,412 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670402436 seconds)
2022-12-07 08:40:36,412 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=f459d098-0cd4-45e2-b7de-800e73d2d977
2022-12-07 08:40:36,413 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f459d098-0cd4-45e2-b7de-800e73d2d977]: invoking result_received_cb ...
2022-12-07 08:40:36,621 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f459d098-0cd4-45e2-b7de-800e73d2d977]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 08:40:36,621 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f459d098-0cd4-45e2-b7de-800e73d2d977]: finished processing client result by scatter_and_gather
2022-12-07 08:40:36,625 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:40:36,657 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670402436 seconds). SubmitUpdate time: 23.022871732711792 seconds
2022-12-07 08:40:36,703 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f459d098-0cd4-45e2-b7de-800e73d2d977]: result sent to server for task: name=train, id=f459d098-0cd4-45e2-b7de-800e73d2d977
2022-12-07 08:40:36,704 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:40:38,658 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:40:38,768 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:40:40,681 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:40:40,778 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:40:42,689 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:40:42,789 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:40:44,700 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:40:44,799 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:40:46,722 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:40:46,776 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 08:40:46,809 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:40:47,275 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 08:40:47,276 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 89
2022-12-07 08:40:47,409 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 08:40:47,409 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 08:40:48,194 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 08:40:48,194 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 89 finished.
2022-12-07 08:40:48,194 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 90 started.
2022-12-07 08:40:48,195 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 08:40:48,729 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=19d76db0-e0c8-474d-8ade-6430f7dc08b9]: assigned task to client site-1: name=train, id=19d76db0-e0c8-474d-8ade-6430f7dc08b9
2022-12-07 08:40:48,730 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=19d76db0-e0c8-474d-8ade-6430f7dc08b9]: sent task assignment to client
2022-12-07 08:40:49,588 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 08:40:50,011 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=2aa3fc30-1b83-4a8d-85c1-3e5d96e57f6e]: assigned task to client site-2: name=train, id=2aa3fc30-1b83-4a8d-85c1-3e5d96e57f6e
2022-12-07 08:40:50,026 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=2aa3fc30-1b83-4a8d-85c1-3e5d96e57f6e]: sent task assignment to client
2022-12-07 08:40:50,847 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 08:41:12,365 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.638838052749634 seconds
2022-12-07 08:41:12,375 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 08:41:12,773 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=19d76db0-e0c8-474d-8ade-6430f7dc08b9
2022-12-07 08:41:12,774 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=19d76db0-e0c8-474d-8ade-6430f7dc08b9]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 08:41:12,774 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=19d76db0-e0c8-474d-8ade-6430f7dc08b9]: Client trainer got task: train
2022-12-07 08:41:13,550 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.7357816696167 seconds
2022-12-07 08:41:13,568 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 08:41:13,974 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=2aa3fc30-1b83-4a8d-85c1-3e5d96e57f6e
2022-12-07 08:41:13,974 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2aa3fc30-1b83-4a8d-85c1-3e5d96e57f6e]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 08:41:13,974 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2aa3fc30-1b83-4a8d-85c1-3e5d96e57f6e]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 08:41:34,965 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=19d76db0-e0c8-474d-8ade-6430f7dc08b9]: Accuracy when validating site-1's model on site-1s data: 0.9657513627632981
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 08:41:36,102 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2aa3fc30-1b83-4a8d-85c1-3e5d96e57f6e]: Accuracy when validating site-2's model on site-2s data: 0.9676936273527734
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       1.00      0.99      0.99       222
         eve       0.97      0.97      0.97        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.95      0.97      0.96       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.99      0.98     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9989370802717413
val 0/1: 
              precision    recall  f1-score   support

         art       0.05      0.05      0.05        19
         eve       0.11      0.12      0.12        16
         geo       0.84      0.87      0.85      1819
         gpe       0.95      0.93      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.72      0.65      0.68       991
         per       0.72      0.80      0.76       907
         tim       0.83      0.81      0.82       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.53      0.53      0.53      5343
weighted avg       0.80      0.81      0.81      5343

F1-score: 0.9641126180999091
2022-12-07 08:50:18,445 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=19d76db0-e0c8-474d-8ade-6430f7dc08b9]: train:
              precision    recall  f1-score   support

         art       1.00      0.99      0.99       222
         eve       0.97      0.97      0.97        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.95      0.97      0.96       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.99      0.98     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.05      0.05      0.05        19
         eve       0.11      0.12      0.12        16
         geo       0.84      0.87      0.85      1819
         gpe       0.95      0.93      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.72      0.65      0.68       991
         per       0.72      0.80      0.76       907
         tim       0.83      0.81      0.82       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.53      0.53      0.53      5343
weighted avg       0.80      0.81      0.81      5343

2022-12-07 08:50:18,972 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 08:50:19,363 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=19d76db0-e0c8-474d-8ade-6430f7dc08b9]: finished processing task
2022-12-07 08:50:19,364 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 08:50:20,205 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.98      0.99       176
         eve       0.97      0.99      0.98       117
         geo       0.99      1.00      1.00     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.99      0.98      0.98        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9990917419979234
val 0/1: 
              precision    recall  f1-score   support

         art       0.38      0.22      0.28        45
         eve       0.16      0.31      0.21        13
         geo       0.85      0.88      0.86      1773
         gpe       0.96      0.94      0.95       640
         nat       0.33      0.08      0.13        12
         org       0.70      0.72      0.71      1045
         per       0.78      0.78      0.78       940
         tim       0.85      0.86      0.85       859

   micro avg       0.81      0.83      0.82      5327
   macro avg       0.63      0.60      0.60      5327
weighted avg       0.81      0.83      0.82      5327

F1-score: 0.9662292372322694
2022-12-07 08:50:21,496 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2aa3fc30-1b83-4a8d-85c1-3e5d96e57f6e]: train:
              precision    recall  f1-score   support

         art       0.99      0.98      0.99       176
         eve       0.97      0.99      0.98       117
         geo       0.99      1.00      1.00     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.99      0.98      0.98        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.38      0.22      0.28        45
         eve       0.16      0.31      0.21        13
         geo       0.85      0.88      0.86      1773
         gpe       0.96      0.94      0.95       640
         nat       0.33      0.08      0.13        12
         org       0.70      0.72      0.71      1045
         per       0.78      0.78      0.78       940
         tim       0.85      0.86      0.85       859

   micro avg       0.81      0.83      0.82      5327
   macro avg       0.63      0.60      0.60      5327
weighted avg       0.81      0.83      0.82      5327

2022-12-07 08:50:22,153 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 08:50:22,637 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2aa3fc30-1b83-4a8d-85c1-3e5d96e57f6e]: finished processing task
2022-12-07 08:50:22,638 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 08:50:23,460 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 08:50:42,935 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670403042 seconds)
2022-12-07 08:50:42,935 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=19d76db0-e0c8-474d-8ade-6430f7dc08b9
2022-12-07 08:50:42,936 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=19d76db0-e0c8-474d-8ade-6430f7dc08b9]: invoking result_received_cb ...
2022-12-07 08:50:43,007 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=19d76db0-e0c8-474d-8ade-6430f7dc08b9]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 08:50:43,008 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=19d76db0-e0c8-474d-8ade-6430f7dc08b9]: finished processing client result by scatter_and_gather
2022-12-07 08:50:43,044 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670403042 seconds). SubmitUpdate time: 22.83914065361023 seconds
2022-12-07 08:50:43,099 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=19d76db0-e0c8-474d-8ade-6430f7dc08b9]: result sent to server for task: name=train, id=19d76db0-e0c8-474d-8ade-6430f7dc08b9
2022-12-07 08:50:43,099 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:50:46,315 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670403046 seconds)
2022-12-07 08:50:46,315 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=2aa3fc30-1b83-4a8d-85c1-3e5d96e57f6e
2022-12-07 08:50:46,315 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2aa3fc30-1b83-4a8d-85c1-3e5d96e57f6e]: invoking result_received_cb ...
2022-12-07 08:50:46,474 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2aa3fc30-1b83-4a8d-85c1-3e5d96e57f6e]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 08:50:46,474 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=2aa3fc30-1b83-4a8d-85c1-3e5d96e57f6e]: finished processing client result by scatter_and_gather
2022-12-07 08:50:46,513 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670403046 seconds). SubmitUpdate time: 23.052953481674194 seconds
2022-12-07 08:50:46,538 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:50:46,578 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=2aa3fc30-1b83-4a8d-85c1-3e5d96e57f6e]: result sent to server for task: name=train, id=2aa3fc30-1b83-4a8d-85c1-3e5d96e57f6e
2022-12-07 08:50:46,578 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:50:48,548 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:50:48,652 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:50:50,573 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:50:50,662 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:50:52,583 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:50:52,672 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:50:54,594 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:50:54,683 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:50:56,604 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 08:50:56,653 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 08:50:56,693 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 08:50:57,152 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 08:50:57,153 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 90
2022-12-07 08:50:57,230 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 08:50:57,231 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 08:50:58,012 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 08:50:58,013 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 90 finished.
2022-12-07 08:50:58,013 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 91 started.
2022-12-07 08:50:58,013 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 08:50:58,612 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=8fe2ddd3-14c5-4aee-a31b-b8302521f214]: assigned task to client site-1: name=train, id=8fe2ddd3-14c5-4aee-a31b-b8302521f214
2022-12-07 08:50:58,613 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=8fe2ddd3-14c5-4aee-a31b-b8302521f214]: sent task assignment to client
2022-12-07 08:50:59,460 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 08:50:59,908 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=7df51ee3-bc7e-4c7c-8b40-9cbf0a4922cd]: assigned task to client site-2: name=train, id=7df51ee3-bc7e-4c7c-8b40-9cbf0a4922cd
2022-12-07 08:50:59,910 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=7df51ee3-bc7e-4c7c-8b40-9cbf0a4922cd]: sent task assignment to client
2022-12-07 08:51:00,732 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 08:51:22,409 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.799756288528442 seconds
2022-12-07 08:51:22,413 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 08:51:22,889 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=8fe2ddd3-14c5-4aee-a31b-b8302521f214
2022-12-07 08:51:22,889 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8fe2ddd3-14c5-4aee-a31b-b8302521f214]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 08:51:22,889 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8fe2ddd3-14c5-4aee-a31b-b8302521f214]: Client trainer got task: train
2022-12-07 08:51:23,462 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.763829469680786 seconds
2022-12-07 08:51:23,481 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 08:51:23,896 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=7df51ee3-bc7e-4c7c-8b40-9cbf0a4922cd
2022-12-07 08:51:23,896 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7df51ee3-bc7e-4c7c-8b40-9cbf0a4922cd]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 08:51:23,896 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7df51ee3-bc7e-4c7c-8b40-9cbf0a4922cd]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 08:51:45,089 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8fe2ddd3-14c5-4aee-a31b-b8302521f214]: Accuracy when validating site-1's model on site-1s data: 0.9654330466892386
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 08:51:46,143 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7df51ee3-bc7e-4c7c-8b40-9cbf0a4922cd]: Accuracy when validating site-2's model on site-2s data: 0.967814305209928
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       1.00      1.00      1.00       222
         eve       0.97      0.98      0.97        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.95      0.97      0.96       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      1.00      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.99      0.99      0.99     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9991349087735186
val 0/1: 
              precision    recall  f1-score   support

         art       0.06      0.05      0.05        19
         eve       0.17      0.19      0.18        16
         geo       0.83      0.88      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.33      0.17      0.22         6
         org       0.72      0.68      0.70       991
         per       0.73      0.79      0.76       907
         tim       0.85      0.82      0.83       854

   micro avg       0.81      0.82      0.81      5343
   macro avg       0.58      0.56      0.57      5343
weighted avg       0.81      0.82      0.81      5343

F1-score: 0.9647577883987339
2022-12-07 09:00:28,669 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8fe2ddd3-14c5-4aee-a31b-b8302521f214]: train:
              precision    recall  f1-score   support

         art       1.00      1.00      1.00       222
         eve       0.97      0.98      0.97        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.95      0.97      0.96       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      1.00      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.99      0.99      0.99     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.06      0.05      0.05        19
         eve       0.17      0.19      0.18        16
         geo       0.83      0.88      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.33      0.17      0.22         6
         org       0.72      0.68      0.70       991
         per       0.73      0.79      0.76       907
         tim       0.85      0.82      0.83       854

   micro avg       0.81      0.82      0.81      5343
   macro avg       0.58      0.56      0.57      5343
weighted avg       0.81      0.82      0.81      5343

2022-12-07 09:00:28,846 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 09:00:29,606 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8fe2ddd3-14c5-4aee-a31b-b8302521f214]: finished processing task
2022-12-07 09:00:29,608 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 09:00:30,458 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      0.99      0.99       176
         eve       0.98      0.97      0.98       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.98      0.99      0.98        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.998936862694663
val 0/1: 
              precision    recall  f1-score   support

         art       0.54      0.31      0.39        45
         eve       0.20      0.31      0.24        13
         geo       0.85      0.89      0.87      1773
         gpe       0.95      0.94      0.95       640
         nat       0.12      0.08      0.10        12
         org       0.71      0.76      0.73      1045
         per       0.77      0.74      0.76       940
         tim       0.83      0.86      0.85       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.62      0.61      0.61      5327
weighted avg       0.82      0.83      0.82      5327

F1-score: 0.966184164767115
2022-12-07 09:00:32,787 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7df51ee3-bc7e-4c7c-8b40-9cbf0a4922cd]: train:
              precision    recall  f1-score   support

         art       0.98      0.99      0.99       176
         eve       0.98      0.97      0.98       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.98      0.99      0.98        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.54      0.31      0.39        45
         eve       0.20      0.31      0.24        13
         geo       0.85      0.89      0.87      1773
         gpe       0.95      0.94      0.95       640
         nat       0.12      0.08      0.10        12
         org       0.71      0.76      0.73      1045
         per       0.77      0.74      0.76       940
         tim       0.83      0.86      0.85       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.62      0.61      0.61      5327
weighted avg       0.82      0.83      0.82      5327

2022-12-07 09:00:32,837 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 09:00:33,716 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7df51ee3-bc7e-4c7c-8b40-9cbf0a4922cd]: finished processing task
2022-12-07 09:00:33,717 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 09:00:34,542 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 09:00:53,222 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670403653 seconds)
2022-12-07 09:00:53,222 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=8fe2ddd3-14c5-4aee-a31b-b8302521f214
2022-12-07 09:00:53,223 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=8fe2ddd3-14c5-4aee-a31b-b8302521f214]: invoking result_received_cb ...
2022-12-07 09:00:53,326 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=8fe2ddd3-14c5-4aee-a31b-b8302521f214]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 09:00:53,326 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=8fe2ddd3-14c5-4aee-a31b-b8302521f214]: finished processing client result by scatter_and_gather
2022-12-07 09:00:53,361 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670403653 seconds). SubmitUpdate time: 22.902536630630493 seconds
2022-12-07 09:00:53,418 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=8fe2ddd3-14c5-4aee-a31b-b8302521f214]: result sent to server for task: name=train, id=8fe2ddd3-14c5-4aee-a31b-b8302521f214
2022-12-07 09:00:53,418 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:00:57,309 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670403657 seconds)
2022-12-07 09:00:57,309 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=7df51ee3-bc7e-4c7c-8b40-9cbf0a4922cd
2022-12-07 09:00:57,309 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7df51ee3-bc7e-4c7c-8b40-9cbf0a4922cd]: invoking result_received_cb ...
2022-12-07 09:00:57,499 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7df51ee3-bc7e-4c7c-8b40-9cbf0a4922cd]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 09:00:57,499 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=7df51ee3-bc7e-4c7c-8b40-9cbf0a4922cd]: finished processing client result by scatter_and_gather
2022-12-07 09:00:57,538 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670403657 seconds). SubmitUpdate time: 22.996248960494995 seconds
2022-12-07 09:00:57,540 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:00:57,599 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=7df51ee3-bc7e-4c7c-8b40-9cbf0a4922cd]: result sent to server for task: name=train, id=7df51ee3-bc7e-4c7c-8b40-9cbf0a4922cd
2022-12-07 09:00:57,600 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:00:59,550 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:00:59,672 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:01:01,561 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:01:01,683 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:01:03,571 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:01:03,693 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:01:05,581 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:01:05,704 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:01:07,597 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:01:07,657 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 09:01:07,714 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:01:08,156 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 09:01:08,157 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 91
2022-12-07 09:01:08,295 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 09:01:08,296 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 09:01:09,082 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 09:01:09,082 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 91 finished.
2022-12-07 09:01:09,082 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 92 started.
2022-12-07 09:01:09,083 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 09:01:09,604 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=f69ea66d-44b9-4566-bd46-eb1d6d295300]: assigned task to client site-1: name=train, id=f69ea66d-44b9-4566-bd46-eb1d6d295300
2022-12-07 09:01:09,605 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=f69ea66d-44b9-4566-bd46-eb1d6d295300]: sent task assignment to client
2022-12-07 09:01:10,447 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 09:01:10,867 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=18041662-3dc2-4745-84bc-7d0fd61369d3]: assigned task to client site-2: name=train, id=18041662-3dc2-4745-84bc-7d0fd61369d3
2022-12-07 09:01:10,868 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=18041662-3dc2-4745-84bc-7d0fd61369d3]: sent task assignment to client
2022-12-07 09:01:11,705 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 09:01:33,148 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.54702115058899 seconds
2022-12-07 09:01:33,179 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 09:01:33,604 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=f69ea66d-44b9-4566-bd46-eb1d6d295300
2022-12-07 09:01:33,605 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f69ea66d-44b9-4566-bd46-eb1d6d295300]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 09:01:33,605 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f69ea66d-44b9-4566-bd46-eb1d6d295300]: Client trainer got task: train
2022-12-07 09:01:34,518 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.79929757118225 seconds
2022-12-07 09:01:34,535 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 09:01:34,939 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=18041662-3dc2-4745-84bc-7d0fd61369d3
2022-12-07 09:01:34,954 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=18041662-3dc2-4745-84bc-7d0fd61369d3]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 09:01:34,954 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=18041662-3dc2-4745-84bc-7d0fd61369d3]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 09:01:55,822 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f69ea66d-44b9-4566-bd46-eb1d6d295300]: Accuracy when validating site-1's model on site-1s data: 0.9655572681494173
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 09:01:57,048 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=18041662-3dc2-4745-84bc-7d0fd61369d3]: Accuracy when validating site-2's model on site-2s data: 0.9673425355787633
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       1.00      1.00      1.00       222
         eve       0.96      0.95      0.95        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.97      0.98      0.98       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.99      0.99      0.99     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9989052478143313
val 0/1: 
              precision    recall  f1-score   support

         art       0.11      0.11      0.11        19
         eve       0.10      0.12      0.11        16
         geo       0.84      0.86      0.85      1819
         gpe       0.94      0.95      0.94       731
         nat       0.14      0.17      0.15         6
         org       0.70      0.68      0.69       991
         per       0.74      0.82      0.78       907
         tim       0.84      0.83      0.84       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.55      0.57      0.56      5343
weighted avg       0.81      0.82      0.81      5343

F1-score: 0.9652856554554521
2022-12-07 09:10:38,921 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f69ea66d-44b9-4566-bd46-eb1d6d295300]: train:
              precision    recall  f1-score   support

         art       1.00      1.00      1.00       222
         eve       0.96      0.95      0.95        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.97      0.98      0.98       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.99      0.99      0.99     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.11      0.11      0.11        19
         eve       0.10      0.12      0.11        16
         geo       0.84      0.86      0.85      1819
         gpe       0.94      0.95      0.94       731
         nat       0.14      0.17      0.15         6
         org       0.70      0.68      0.69       991
         per       0.74      0.82      0.78       907
         tim       0.84      0.83      0.84       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.55      0.57      0.56      5343
weighted avg       0.81      0.82      0.81      5343

2022-12-07 09:10:39,761 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 09:10:39,868 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f69ea66d-44b9-4566-bd46-eb1d6d295300]: finished processing task
2022-12-07 09:10:39,869 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 09:10:40,688 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      0.99      0.99       176
         eve       0.97      0.96      0.97       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.96      0.98      0.97        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9988216688355086
val 0/1: 
              precision    recall  f1-score   support

         art       0.45      0.20      0.28        45
         eve       0.12      0.23      0.16        13
         geo       0.85      0.89      0.87      1773
         gpe       0.96      0.93      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.72      0.75      0.74      1045
         per       0.78      0.75      0.76       940
         tim       0.85      0.85      0.85       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.61      0.59      0.59      5327
weighted avg       0.82      0.83      0.82      5327

F1-score: 0.9665692362089094
2022-12-07 09:10:43,216 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=18041662-3dc2-4745-84bc-7d0fd61369d3]: train:
              precision    recall  f1-score   support

         art       0.98      0.99      0.99       176
         eve       0.97      0.96      0.97       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.96      0.98      0.97        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.45      0.20      0.28        45
         eve       0.12      0.23      0.16        13
         geo       0.85      0.89      0.87      1773
         gpe       0.96      0.93      0.94       640
         nat       0.17      0.08      0.11        12
         org       0.72      0.75      0.74      1045
         per       0.78      0.75      0.76       940
         tim       0.85      0.85      0.85       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.61      0.59      0.59      5327
weighted avg       0.82      0.83      0.82      5327

2022-12-07 09:10:43,393 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 09:10:44,162 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=18041662-3dc2-4745-84bc-7d0fd61369d3]: finished processing task
2022-12-07 09:10:44,163 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 09:10:44,973 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 09:11:03,459 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670404263 seconds)
2022-12-07 09:11:03,459 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=f69ea66d-44b9-4566-bd46-eb1d6d295300
2022-12-07 09:11:03,459 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f69ea66d-44b9-4566-bd46-eb1d6d295300]: invoking result_received_cb ...
2022-12-07 09:11:03,527 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f69ea66d-44b9-4566-bd46-eb1d6d295300]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 09:11:03,527 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=f69ea66d-44b9-4566-bd46-eb1d6d295300]: finished processing client result by scatter_and_gather
2022-12-07 09:11:03,562 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670404263 seconds). SubmitUpdate time: 22.87436819076538 seconds
2022-12-07 09:11:03,618 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=f69ea66d-44b9-4566-bd46-eb1d6d295300]: result sent to server for task: name=train, id=f69ea66d-44b9-4566-bd46-eb1d6d295300
2022-12-07 09:11:03,618 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:11:07,724 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670404267 seconds)
2022-12-07 09:11:07,725 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=18041662-3dc2-4745-84bc-7d0fd61369d3
2022-12-07 09:11:07,725 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=18041662-3dc2-4745-84bc-7d0fd61369d3]: invoking result_received_cb ...
2022-12-07 09:11:07,886 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=18041662-3dc2-4745-84bc-7d0fd61369d3]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 09:11:07,887 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=18041662-3dc2-4745-84bc-7d0fd61369d3]: finished processing client result by scatter_and_gather
2022-12-07 09:11:07,923 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670404267 seconds). SubmitUpdate time: 22.95032787322998 seconds
2022-12-07 09:11:07,925 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:11:07,987 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=18041662-3dc2-4745-84bc-7d0fd61369d3]: result sent to server for task: name=train, id=18041662-3dc2-4745-84bc-7d0fd61369d3
2022-12-07 09:11:07,988 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:11:09,935 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:11:10,060 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:11:11,945 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:11:12,070 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:11:13,961 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:11:14,080 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:11:15,971 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:11:16,090 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:11:17,982 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:11:18,065 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 09:11:18,100 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:11:18,563 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 09:11:18,564 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 92
2022-12-07 09:11:18,640 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 09:11:18,640 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 09:11:19,651 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 09:11:19,652 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 92 finished.
2022-12-07 09:11:19,652 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 93 started.
2022-12-07 09:11:19,653 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 09:11:19,990 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=ea8ae2cc-bbea-423c-b340-a7198e471441]: assigned task to client site-1: name=train, id=ea8ae2cc-bbea-423c-b340-a7198e471441
2022-12-07 09:11:19,991 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=ea8ae2cc-bbea-423c-b340-a7198e471441]: sent task assignment to client
2022-12-07 09:11:20,838 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 09:11:21,259 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=6c6cd06e-470a-4efa-a305-3e31a4b4fa93]: assigned task to client site-2: name=train, id=6c6cd06e-470a-4efa-a305-3e31a4b4fa93
2022-12-07 09:11:21,260 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=6c6cd06e-470a-4efa-a305-3e31a4b4fa93]: sent task assignment to client
2022-12-07 09:11:22,106 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 09:11:43,638 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.651461124420166 seconds
2022-12-07 09:11:43,643 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 09:11:44,093 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=ea8ae2cc-bbea-423c-b340-a7198e471441
2022-12-07 09:11:44,094 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ea8ae2cc-bbea-423c-b340-a7198e471441]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 09:11:44,094 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ea8ae2cc-bbea-423c-b340-a7198e471441]: Client trainer got task: train
2022-12-07 09:11:44,792 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.686583757400513 seconds
2022-12-07 09:11:44,794 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 09:11:45,240 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=6c6cd06e-470a-4efa-a305-3e31a4b4fa93
2022-12-07 09:11:45,240 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6c6cd06e-470a-4efa-a305-3e31a4b4fa93]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 09:11:45,240 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6c6cd06e-470a-4efa-a305-3e31a4b4fa93]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 09:12:06,265 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ea8ae2cc-bbea-423c-b340-a7198e471441]: Accuracy when validating site-1's model on site-1s data: 0.966330795360832
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 09:12:07,335 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6c6cd06e-470a-4efa-a305-3e31a4b4fa93]: Accuracy when validating site-2's model on site-2s data: 0.9675687676742649
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      1.00      0.99       222
         eve       0.89      0.94      0.91        96
         geo       0.99      1.00      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.97      0.97      0.97       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9989062196708611
val 0/1: 
              precision    recall  f1-score   support

         art       0.10      0.05      0.07        19
         eve       0.11      0.12      0.12        16
         geo       0.84      0.86      0.85      1819
         gpe       0.93      0.94      0.93       731
         nat       0.50      0.17      0.25         6
         org       0.71      0.67      0.69       991
         per       0.72      0.80      0.76       907
         tim       0.87      0.83      0.85       854

   micro avg       0.81      0.81      0.81      5343
   macro avg       0.60      0.56      0.56      5343
weighted avg       0.81      0.81      0.81      5343

F1-score: 0.965037256712816
2022-12-07 09:20:48,743 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ea8ae2cc-bbea-423c-b340-a7198e471441]: train:
              precision    recall  f1-score   support

         art       0.98      1.00      0.99       222
         eve       0.89      0.94      0.91        96
         geo       0.99      1.00      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.97      0.97      0.97       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.98      0.98     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.10      0.05      0.07        19
         eve       0.11      0.12      0.12        16
         geo       0.84      0.86      0.85      1819
         gpe       0.93      0.94      0.93       731
         nat       0.50      0.17      0.25         6
         org       0.71      0.67      0.69       991
         per       0.72      0.80      0.76       907
         tim       0.87      0.83      0.85       854

   micro avg       0.81      0.81      0.81      5343
   macro avg       0.60      0.56      0.56      5343
weighted avg       0.81      0.81      0.81      5343

2022-12-07 09:20:49,228 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 09:20:49,925 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ea8ae2cc-bbea-423c-b340-a7198e471441]: finished processing task
2022-12-07 09:20:49,927 - FederatedClient - INFO - Starting to push execute result.
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       176
         eve       0.97      0.98      0.98       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.97      0.97      0.97        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9990115067555949
val 0/1: 
              precision    recall  f1-score   support

         art       0.50      0.24      0.33        45
         eve       0.22      0.31      0.26        13
         geo       0.86      0.88      0.87      1773
         gpe       0.95      0.94      0.94       640
         nat       0.33      0.08      0.13        12
         org       0.72      0.76      0.74      1045
         per       0.79      0.77      0.78       940
         tim       0.87      0.85      0.86       859

   micro avg       0.83      0.83      0.83      5327
   macro avg       0.65      0.61      0.61      5327
weighted avg       0.83      0.83      0.83      5327

F1-score: 0.967848170664857
2022-12-07 09:20:50,146 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6c6cd06e-470a-4efa-a305-3e31a4b4fa93]: train:
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       176
         eve       0.97      0.98      0.98       117
         geo       0.99      0.99      0.99     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.97      0.97      0.97        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.50      0.24      0.33        45
         eve       0.22      0.31      0.26        13
         geo       0.86      0.88      0.87      1773
         gpe       0.95      0.94      0.94       640
         nat       0.33      0.08      0.13        12
         org       0.72      0.76      0.74      1045
         per       0.79      0.77      0.78       940
         tim       0.87      0.85      0.86       859

   micro avg       0.83      0.83      0.83      5327
   macro avg       0.65      0.61      0.61      5327
weighted avg       0.83      0.83      0.83      5327

2022-12-07 09:20:50,390 - SimulatorServer - INFO - getting AuxCommunicate request
2022-12-07 09:20:50,796 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 09:20:50,983 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6c6cd06e-470a-4efa-a305-3e31a4b4fa93]: finished processing task
2022-12-07 09:20:50,984 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 09:20:51,820 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 09:21:13,620 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670404873 seconds)
2022-12-07 09:21:13,620 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=ea8ae2cc-bbea-423c-b340-a7198e471441
2022-12-07 09:21:13,620 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ea8ae2cc-bbea-423c-b340-a7198e471441]: invoking result_received_cb ...
2022-12-07 09:21:13,702 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ea8ae2cc-bbea-423c-b340-a7198e471441]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 09:21:13,702 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=ea8ae2cc-bbea-423c-b340-a7198e471441]: finished processing client result by scatter_and_gather
2022-12-07 09:21:13,739 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670404873 seconds). SubmitUpdate time: 22.942826509475708 seconds
2022-12-07 09:21:13,789 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=ea8ae2cc-bbea-423c-b340-a7198e471441]: result sent to server for task: name=train, id=ea8ae2cc-bbea-423c-b340-a7198e471441
2022-12-07 09:21:13,790 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:21:16,805 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670404876 seconds)
2022-12-07 09:21:16,805 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=6c6cd06e-470a-4efa-a305-3e31a4b4fa93
2022-12-07 09:21:16,806 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=6c6cd06e-470a-4efa-a305-3e31a4b4fa93]: invoking result_received_cb ...
2022-12-07 09:21:17,012 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=6c6cd06e-470a-4efa-a305-3e31a4b4fa93]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 09:21:17,012 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=6c6cd06e-470a-4efa-a305-3e31a4b4fa93]: finished processing client result by scatter_and_gather
2022-12-07 09:21:17,049 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670404876 seconds). SubmitUpdate time: 25.228506088256836 seconds
2022-12-07 09:21:17,050 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:21:17,094 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6c6cd06e-470a-4efa-a305-3e31a4b4fa93]: result sent to server for task: name=train, id=6c6cd06e-470a-4efa-a305-3e31a4b4fa93
2022-12-07 09:21:17,095 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:21:19,058 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:21:19,190 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:21:21,069 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:21:21,200 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:21:23,079 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:21:23,210 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:21:25,089 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:21:25,220 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:21:27,111 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:21:27,143 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 09:21:27,229 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:21:27,642 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 09:21:27,642 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 93
2022-12-07 09:21:27,771 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 09:21:27,772 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 09:21:28,473 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 09:21:28,474 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 93 finished.
2022-12-07 09:21:28,474 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 94 started.
2022-12-07 09:21:28,475 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 09:21:29,120 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=34600ea2-45e2-4aff-bfe4-a6ad6aca5406]: assigned task to client site-1: name=train, id=34600ea2-45e2-4aff-bfe4-a6ad6aca5406
2022-12-07 09:21:29,121 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=34600ea2-45e2-4aff-bfe4-a6ad6aca5406]: sent task assignment to client
2022-12-07 09:21:29,980 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 09:21:30,416 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=85b0d31e-6fb9-4a4c-b777-baa8f40ca69a]: assigned task to client site-2: name=train, id=85b0d31e-6fb9-4a4c-b777-baa8f40ca69a
2022-12-07 09:21:30,418 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=85b0d31e-6fb9-4a4c-b777-baa8f40ca69a]: sent task assignment to client
2022-12-07 09:21:31,250 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 09:21:52,691 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.57442855834961 seconds
2022-12-07 09:21:52,726 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 09:21:53,140 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=34600ea2-45e2-4aff-bfe4-a6ad6aca5406
2022-12-07 09:21:53,141 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=34600ea2-45e2-4aff-bfe4-a6ad6aca5406]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 09:21:53,141 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=34600ea2-45e2-4aff-bfe4-a6ad6aca5406]: Client trainer got task: train
2022-12-07 09:21:53,953 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.718140602111816 seconds
2022-12-07 09:21:53,971 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 09:21:54,402 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=85b0d31e-6fb9-4a4c-b777-baa8f40ca69a
2022-12-07 09:21:54,402 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=85b0d31e-6fb9-4a4c-b777-baa8f40ca69a]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 09:21:54,402 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=85b0d31e-6fb9-4a4c-b777-baa8f40ca69a]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 09:22:15,306 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=34600ea2-45e2-4aff-bfe4-a6ad6aca5406]: Accuracy when validating site-1's model on site-1s data: 0.9655320303054994
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 09:22:16,486 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=85b0d31e-6fb9-4a4c-b777-baa8f40ca69a]: Accuracy when validating site-2's model on site-2s data: 0.9678183260962977
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       1.00      1.00      1.00       222
         eve       0.99      0.99      0.99        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.95      0.95      0.95       116
         org       0.99      0.99      0.99      8377
         per       0.99      1.00      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.99      0.99      0.99     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.999167812314668
val 0/1: 
              precision    recall  f1-score   support

         art       0.05      0.05      0.05        19
         eve       0.11      0.12      0.11        16
         geo       0.85      0.86      0.85      1819
         gpe       0.93      0.94      0.93       731
         nat       0.33      0.17      0.22         6
         org       0.73      0.68      0.70       991
         per       0.73      0.81      0.77       907
         tim       0.84      0.84      0.84       854

   micro avg       0.81      0.82      0.81      5343
   macro avg       0.57      0.56      0.56      5343
weighted avg       0.81      0.82      0.81      5343

F1-score: 0.9657098297316951
2022-12-07 09:30:57,564 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=34600ea2-45e2-4aff-bfe4-a6ad6aca5406]: train:
              precision    recall  f1-score   support

         art       1.00      1.00      1.00       222
         eve       0.99      0.99      0.99        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.95      0.95      0.95       116
         org       0.99      0.99      0.99      8377
         per       0.99      1.00      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.99      0.99      0.99     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.05      0.05      0.05        19
         eve       0.11      0.12      0.11        16
         geo       0.85      0.86      0.85      1819
         gpe       0.93      0.94      0.93       731
         nat       0.33      0.17      0.22         6
         org       0.73      0.68      0.70       991
         per       0.73      0.81      0.77       907
         tim       0.84      0.84      0.84       854

   micro avg       0.81      0.82      0.81      5343
   macro avg       0.57      0.56      0.56      5343
weighted avg       0.81      0.82      0.81      5343

2022-12-07 09:30:57,579 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 09:30:58,496 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=34600ea2-45e2-4aff-bfe4-a6ad6aca5406]: finished processing task
2022-12-07 09:30:58,497 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 09:30:59,320 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       176
         eve       0.98      0.97      0.98       117
         geo       1.00      1.00      1.00     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.97      0.98      0.97        95
         org       0.99      0.99      0.99      8238
         per       0.99      1.00      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9992093961354697
val 0/1: 
              precision    recall  f1-score   support

         art       0.33      0.31      0.32        45
         eve       0.19      0.31      0.24        13
         geo       0.85      0.89      0.87      1773
         gpe       0.96      0.94      0.95       640
         nat       0.50      0.08      0.14        12
         org       0.74      0.70      0.72      1045
         per       0.78      0.79      0.78       940
         tim       0.84      0.86      0.85       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.65      0.61      0.61      5327
weighted avg       0.82      0.83      0.82      5327

F1-score: 0.9672429874651692
2022-12-07 09:31:00,667 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=85b0d31e-6fb9-4a4c-b777-baa8f40ca69a]: train:
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       176
         eve       0.98      0.97      0.98       117
         geo       1.00      1.00      1.00     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.97      0.98      0.97        95
         org       0.99      0.99      0.99      8238
         per       0.99      1.00      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.33      0.31      0.32        45
         eve       0.19      0.31      0.24        13
         geo       0.85      0.89      0.87      1773
         gpe       0.96      0.94      0.95       640
         nat       0.50      0.08      0.14        12
         org       0.74      0.70      0.72      1045
         per       0.78      0.79      0.78       940
         tim       0.84      0.86      0.85       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.65      0.61      0.61      5327
weighted avg       0.82      0.83      0.82      5327

2022-12-07 09:31:01,338 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 09:31:01,603 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=85b0d31e-6fb9-4a4c-b777-baa8f40ca69a]: finished processing task
2022-12-07 09:31:01,604 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 09:31:02,439 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 09:31:22,110 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670405482 seconds)
2022-12-07 09:31:22,110 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=34600ea2-45e2-4aff-bfe4-a6ad6aca5406
2022-12-07 09:31:22,111 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=34600ea2-45e2-4aff-bfe4-a6ad6aca5406]: invoking result_received_cb ...
2022-12-07 09:31:22,186 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=34600ea2-45e2-4aff-bfe4-a6ad6aca5406]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 09:31:22,186 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=34600ea2-45e2-4aff-bfe4-a6ad6aca5406]: finished processing client result by scatter_and_gather
2022-12-07 09:31:22,222 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670405482 seconds). SubmitUpdate time: 22.902050256729126 seconds
2022-12-07 09:31:22,253 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=34600ea2-45e2-4aff-bfe4-a6ad6aca5406]: result sent to server for task: name=train, id=34600ea2-45e2-4aff-bfe4-a6ad6aca5406
2022-12-07 09:31:22,254 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:31:25,322 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670405485 seconds)
2022-12-07 09:31:25,322 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=85b0d31e-6fb9-4a4c-b777-baa8f40ca69a
2022-12-07 09:31:25,323 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=85b0d31e-6fb9-4a4c-b777-baa8f40ca69a]: invoking result_received_cb ...
2022-12-07 09:31:25,488 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=85b0d31e-6fb9-4a4c-b777-baa8f40ca69a]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 09:31:25,489 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=85b0d31e-6fb9-4a4c-b777-baa8f40ca69a]: finished processing client result by scatter_and_gather
2022-12-07 09:31:25,527 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670405485 seconds). SubmitUpdate time: 23.087405920028687 seconds
2022-12-07 09:31:25,530 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:31:25,550 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=85b0d31e-6fb9-4a4c-b777-baa8f40ca69a]: result sent to server for task: name=train, id=85b0d31e-6fb9-4a4c-b777-baa8f40ca69a
2022-12-07 09:31:25,551 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:31:27,565 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:31:27,625 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:31:29,575 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:31:29,635 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:31:31,586 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:31:31,645 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:31:33,596 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:31:33,656 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:31:35,619 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:31:35,665 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:31:35,671 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 09:31:36,169 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 09:31:36,170 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 94
2022-12-07 09:31:36,245 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 09:31:36,245 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 09:31:36,881 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 09:31:36,882 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 94 finished.
2022-12-07 09:31:36,882 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 95 started.
2022-12-07 09:31:36,883 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 09:31:37,627 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=fc1ab3bf-7ef1-4cfc-8b07-683ace172db8]: assigned task to client site-1: name=train, id=fc1ab3bf-7ef1-4cfc-8b07-683ace172db8
2022-12-07 09:31:37,629 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=fc1ab3bf-7ef1-4cfc-8b07-683ace172db8]: sent task assignment to client
2022-12-07 09:31:38,477 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 09:31:38,894 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=594e1ef0-70fe-4be5-9b32-ac53dad5bbc8]: assigned task to client site-2: name=train, id=594e1ef0-70fe-4be5-9b32-ac53dad5bbc8
2022-12-07 09:31:38,909 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=594e1ef0-70fe-4be5-9b32-ac53dad5bbc8]: sent task assignment to client
2022-12-07 09:31:39,734 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 09:32:01,185 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.5605149269104 seconds
2022-12-07 09:32:01,218 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 09:32:01,640 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=fc1ab3bf-7ef1-4cfc-8b07-683ace172db8
2022-12-07 09:32:01,641 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fc1ab3bf-7ef1-4cfc-8b07-683ace172db8]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 09:32:01,641 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fc1ab3bf-7ef1-4cfc-8b07-683ace172db8]: Client trainer got task: train
2022-12-07 09:32:02,432 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.76113724708557 seconds
2022-12-07 09:32:02,450 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 09:32:02,856 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=594e1ef0-70fe-4be5-9b32-ac53dad5bbc8
2022-12-07 09:32:02,857 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=594e1ef0-70fe-4be5-9b32-ac53dad5bbc8]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 09:32:02,857 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=594e1ef0-70fe-4be5-9b32-ac53dad5bbc8]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 09:32:23,797 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fc1ab3bf-7ef1-4cfc-8b07-683ace172db8]: Accuracy when validating site-1's model on site-1s data: 0.9654513632474402
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 09:32:24,909 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=594e1ef0-70fe-4be5-9b32-ac53dad5bbc8]: Accuracy when validating site-2's model on site-2s data: 0.9677875166191623
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       222
         eve       0.98      0.99      0.98        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.95      0.96      0.95       116
         org       0.99      0.99      0.99      8377
         per       0.99      1.00      0.99      7230
         tim       1.00      1.00      1.00      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.99      0.99      0.99     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.999163670334751
val 0/1: 
              precision    recall  f1-score   support

         art       0.05      0.05      0.05        19
         eve       0.09      0.12      0.11        16
         geo       0.84      0.86      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.50      0.17      0.25         6
         org       0.69      0.69      0.69       991
         per       0.72      0.79      0.76       907
         tim       0.86      0.81      0.84       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.59      0.55      0.56      5343
weighted avg       0.80      0.81      0.81      5343

F1-score: 0.9644881735530326
2022-12-07 09:41:04,393 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fc1ab3bf-7ef1-4cfc-8b07-683ace172db8]: train:
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       222
         eve       0.98      0.99      0.98        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.95      0.96      0.95       116
         org       0.99      0.99      0.99      8377
         per       0.99      1.00      0.99      7230
         tim       1.00      1.00      1.00      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.99      0.99      0.99     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.05      0.05      0.05        19
         eve       0.09      0.12      0.11        16
         geo       0.84      0.86      0.85      1819
         gpe       0.94      0.94      0.94       731
         nat       0.50      0.17      0.25         6
         org       0.69      0.69      0.69       991
         per       0.72      0.79      0.76       907
         tim       0.86      0.81      0.84       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.59      0.55      0.56      5343
weighted avg       0.80      0.81      0.81      5343

2022-12-07 09:41:04,780 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 09:41:05,403 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fc1ab3bf-7ef1-4cfc-8b07-683ace172db8]: finished processing task
2022-12-07 09:41:05,404 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 09:41:06,243 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       176
         eve       0.99      0.97      0.98       117
         geo       1.00      1.00      1.00     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.98      0.98      0.98        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.999146054682056
val 0/1: 
              precision    recall  f1-score   support

         art       0.50      0.27      0.35        45
         eve       0.24      0.31      0.27        13
         geo       0.84      0.89      0.87      1773
         gpe       0.96      0.94      0.95       640
         nat       0.25      0.08      0.12        12
         org       0.73      0.75      0.74      1045
         per       0.79      0.76      0.78       940
         tim       0.86      0.87      0.87       859

   micro avg       0.82      0.83      0.83      5327
   macro avg       0.65      0.61      0.62      5327
weighted avg       0.82      0.83      0.83      5327

F1-score: 0.967969446992211
2022-12-07 09:41:08,886 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=594e1ef0-70fe-4be5-9b32-ac53dad5bbc8]: train:
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       176
         eve       0.99      0.97      0.98       117
         geo       1.00      1.00      1.00     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.98      0.98      0.98        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.50      0.27      0.35        45
         eve       0.24      0.31      0.27        13
         geo       0.84      0.89      0.87      1773
         gpe       0.96      0.94      0.95       640
         nat       0.25      0.08      0.12        12
         org       0.73      0.75      0.74      1045
         per       0.79      0.76      0.78       940
         tim       0.86      0.87      0.87       859

   micro avg       0.82      0.83      0.83      5327
   macro avg       0.65      0.61      0.62      5327
weighted avg       0.82      0.83      0.83      5327

2022-12-07 09:41:08,896 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 09:41:09,940 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=594e1ef0-70fe-4be5-9b32-ac53dad5bbc8]: finished processing task
2022-12-07 09:41:09,942 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 09:41:10,751 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 09:41:29,063 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670406089 seconds)
2022-12-07 09:41:29,063 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=fc1ab3bf-7ef1-4cfc-8b07-683ace172db8
2022-12-07 09:41:29,064 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fc1ab3bf-7ef1-4cfc-8b07-683ace172db8]: invoking result_received_cb ...
2022-12-07 09:41:29,235 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fc1ab3bf-7ef1-4cfc-8b07-683ace172db8]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 09:41:29,236 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fc1ab3bf-7ef1-4cfc-8b07-683ace172db8]: finished processing client result by scatter_and_gather
2022-12-07 09:41:29,271 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670406089 seconds). SubmitUpdate time: 23.02755093574524 seconds
2022-12-07 09:41:29,315 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fc1ab3bf-7ef1-4cfc-8b07-683ace172db8]: result sent to server for task: name=train, id=fc1ab3bf-7ef1-4cfc-8b07-683ace172db8
2022-12-07 09:41:29,315 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:41:33,575 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670406093 seconds)
2022-12-07 09:41:33,575 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=594e1ef0-70fe-4be5-9b32-ac53dad5bbc8
2022-12-07 09:41:33,575 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=594e1ef0-70fe-4be5-9b32-ac53dad5bbc8]: invoking result_received_cb ...
2022-12-07 09:41:33,765 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=594e1ef0-70fe-4be5-9b32-ac53dad5bbc8]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 09:41:33,765 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=594e1ef0-70fe-4be5-9b32-ac53dad5bbc8]: finished processing client result by scatter_and_gather
2022-12-07 09:41:33,803 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670406093 seconds). SubmitUpdate time: 23.05276918411255 seconds
2022-12-07 09:41:33,820 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:41:33,838 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=594e1ef0-70fe-4be5-9b32-ac53dad5bbc8]: result sent to server for task: name=train, id=594e1ef0-70fe-4be5-9b32-ac53dad5bbc8
2022-12-07 09:41:33,839 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:41:35,830 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:41:35,916 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:41:37,841 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:41:37,951 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:41:39,851 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:41:39,960 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:41:41,862 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:41:41,968 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:41:43,872 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:41:43,917 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 09:41:43,918 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 09:41:43,919 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 95
2022-12-07 09:41:43,980 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:41:44,053 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 09:41:44,053 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 09:41:44,697 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 09:41:44,698 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 95 finished.
2022-12-07 09:41:44,698 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 96 started.
2022-12-07 09:41:44,699 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 09:41:45,880 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=fff26d5d-7ca7-4c40-80e8-f2b437de8cd6]: assigned task to client site-1: name=train, id=fff26d5d-7ca7-4c40-80e8-f2b437de8cd6
2022-12-07 09:41:45,881 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=fff26d5d-7ca7-4c40-80e8-f2b437de8cd6]: sent task assignment to client
2022-12-07 09:41:46,715 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 09:41:47,133 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=bba60be9-cd4f-47a1-8633-7fefcd61f5e7]: assigned task to client site-2: name=train, id=bba60be9-cd4f-47a1-8633-7fefcd61f5e7
2022-12-07 09:41:47,133 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=bba60be9-cd4f-47a1-8633-7fefcd61f5e7]: sent task assignment to client
2022-12-07 09:41:47,987 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 09:42:09,401 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.52342987060547 seconds
2022-12-07 09:42:09,435 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 09:42:09,864 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=fff26d5d-7ca7-4c40-80e8-f2b437de8cd6
2022-12-07 09:42:09,864 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fff26d5d-7ca7-4c40-80e8-f2b437de8cd6]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 09:42:09,864 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fff26d5d-7ca7-4c40-80e8-f2b437de8cd6]: Client trainer got task: train
2022-12-07 09:42:10,718 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.73445463180542 seconds
2022-12-07 09:42:10,736 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 09:42:11,142 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=bba60be9-cd4f-47a1-8633-7fefcd61f5e7
2022-12-07 09:42:11,142 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bba60be9-cd4f-47a1-8633-7fefcd61f5e7]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 09:42:11,142 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bba60be9-cd4f-47a1-8633-7fefcd61f5e7]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 09:42:32,027 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fff26d5d-7ca7-4c40-80e8-f2b437de8cd6]: Accuracy when validating site-1's model on site-1s data: 0.9652984258328329
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 09:42:33,198 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bba60be9-cd4f-47a1-8633-7fefcd61f5e7]: Accuracy when validating site-2's model on site-2s data: 0.9682042600144609
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       222
         eve       0.94      0.97      0.95        96
         geo       1.00      1.00      1.00     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.99      0.97      0.98       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.99      0.99      0.99     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9991691117246637
val 0/1: 
              precision    recall  f1-score   support

         art       0.07      0.05      0.06        19
         eve       0.11      0.12      0.11        16
         geo       0.84      0.87      0.85      1819
         gpe       0.93      0.94      0.94       731
         nat       0.50      0.17      0.25         6
         org       0.71      0.67      0.69       991
         per       0.72      0.79      0.76       907
         tim       0.84      0.82      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.59      0.56      0.56      5343
weighted avg       0.80      0.82      0.81      5343

F1-score: 0.9646300452744965
2022-12-07 09:51:14,784 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fff26d5d-7ca7-4c40-80e8-f2b437de8cd6]: train:
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       222
         eve       0.94      0.97      0.95        96
         geo       1.00      1.00      1.00     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.99      0.97      0.98       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.99      0.99      0.99     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.07      0.05      0.06        19
         eve       0.11      0.12      0.11        16
         geo       0.84      0.87      0.85      1819
         gpe       0.93      0.94      0.94       731
         nat       0.50      0.17      0.25         6
         org       0.71      0.67      0.69       991
         per       0.72      0.79      0.76       907
         tim       0.84      0.82      0.83       854

   micro avg       0.80      0.82      0.81      5343
   macro avg       0.59      0.56      0.56      5343
weighted avg       0.80      0.82      0.81      5343

2022-12-07 09:51:15,291 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 09:51:15,734 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fff26d5d-7ca7-4c40-80e8-f2b437de8cd6]: finished processing task
2022-12-07 09:51:15,735 - FederatedClient - INFO - Starting to push execute result.
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      1.00      1.00       176
         eve       0.94      0.96      0.95       117
         geo       0.99      1.00      1.00     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.98      0.97      0.97        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9990918222399651
val 0/1: 
              precision    recall  f1-score   support

         art       0.52      0.38      0.44        45
         eve       0.18      0.31      0.23        13
         geo       0.85      0.90      0.87      1773
         gpe       0.95      0.93      0.94       640
         nat       0.10      0.08      0.09        12
         org       0.73      0.71      0.72      1045
         per       0.77      0.79      0.78       940
         tim       0.86      0.86      0.86       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.62      0.62      0.62      5327
weighted avg       0.82      0.83      0.82      5327

F1-score: 0.967221915510862
2022-12-07 09:51:16,426 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bba60be9-cd4f-47a1-8633-7fefcd61f5e7]: train:
              precision    recall  f1-score   support

         art       0.99      1.00      1.00       176
         eve       0.94      0.96      0.95       117
         geo       0.99      1.00      1.00     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.98      0.97      0.97        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      0.99      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.98      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.52      0.38      0.44        45
         eve       0.18      0.31      0.23        13
         geo       0.85      0.90      0.87      1773
         gpe       0.95      0.93      0.94       640
         nat       0.10      0.08      0.09        12
         org       0.73      0.71      0.72      1045
         per       0.77      0.79      0.78       940
         tim       0.86      0.86      0.86       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.62      0.62      0.62      5327
weighted avg       0.82      0.83      0.82      5327

2022-12-07 09:51:16,570 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 09:51:17,307 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 09:51:17,355 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bba60be9-cd4f-47a1-8633-7fefcd61f5e7]: finished processing task
2022-12-07 09:51:17,356 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 09:51:18,182 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 09:51:39,326 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670406699 seconds)
2022-12-07 09:51:39,326 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=fff26d5d-7ca7-4c40-80e8-f2b437de8cd6
2022-12-07 09:51:39,341 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fff26d5d-7ca7-4c40-80e8-f2b437de8cd6]: invoking result_received_cb ...
2022-12-07 09:51:39,420 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fff26d5d-7ca7-4c40-80e8-f2b437de8cd6]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 09:51:39,421 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=fff26d5d-7ca7-4c40-80e8-f2b437de8cd6]: finished processing client result by scatter_and_gather
2022-12-07 09:51:39,456 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670406699 seconds). SubmitUpdate time: 22.886563062667847 seconds
2022-12-07 09:51:39,512 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=fff26d5d-7ca7-4c40-80e8-f2b437de8cd6]: result sent to server for task: name=train, id=fff26d5d-7ca7-4c40-80e8-f2b437de8cd6
2022-12-07 09:51:39,512 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:51:42,516 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670406702 seconds)
2022-12-07 09:51:42,516 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=bba60be9-cd4f-47a1-8633-7fefcd61f5e7
2022-12-07 09:51:42,516 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=bba60be9-cd4f-47a1-8633-7fefcd61f5e7]: invoking result_received_cb ...
2022-12-07 09:51:42,683 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=bba60be9-cd4f-47a1-8633-7fefcd61f5e7]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 09:51:42,684 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=bba60be9-cd4f-47a1-8633-7fefcd61f5e7]: finished processing client result by scatter_and_gather
2022-12-07 09:51:42,723 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670406702 seconds). SubmitUpdate time: 24.54023265838623 seconds
2022-12-07 09:51:42,727 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:51:42,755 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=bba60be9-cd4f-47a1-8633-7fefcd61f5e7]: result sent to server for task: name=train, id=bba60be9-cd4f-47a1-8633-7fefcd61f5e7
2022-12-07 09:51:42,756 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:51:44,743 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:51:44,829 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:51:46,758 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:51:46,865 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:51:48,769 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:51:48,875 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:51:50,779 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:51:50,886 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:51:52,790 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 09:51:52,852 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 09:51:52,896 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 09:51:53,352 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 09:51:53,353 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 96
2022-12-07 09:51:53,428 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 09:51:53,428 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 09:51:54,064 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 09:51:54,065 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 96 finished.
2022-12-07 09:51:54,065 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 97 started.
2022-12-07 09:51:54,066 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 09:51:54,797 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=03d0934b-38df-4bdb-86cd-9d1c429fe4b4]: assigned task to client site-1: name=train, id=03d0934b-38df-4bdb-86cd-9d1c429fe4b4
2022-12-07 09:51:54,798 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=03d0934b-38df-4bdb-86cd-9d1c429fe4b4]: sent task assignment to client
2022-12-07 09:51:55,652 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 09:51:56,089 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=4b3be3d8-4be6-468a-9a33-1b788d75578e]: assigned task to client site-2: name=train, id=4b3be3d8-4be6-468a-9a33-1b788d75578e
2022-12-07 09:51:56,090 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=4b3be3d8-4be6-468a-9a33-1b788d75578e]: sent task assignment to client
2022-12-07 09:51:56,913 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 09:52:18,346 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.551754236221313 seconds
2022-12-07 09:52:18,372 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 09:52:18,789 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=03d0934b-38df-4bdb-86cd-9d1c429fe4b4
2022-12-07 09:52:18,789 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=03d0934b-38df-4bdb-86cd-9d1c429fe4b4]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 09:52:18,789 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=03d0934b-38df-4bdb-86cd-9d1c429fe4b4]: Client trainer got task: train
2022-12-07 09:52:19,667 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.76491689682007 seconds
2022-12-07 09:52:19,684 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 09:52:20,085 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=4b3be3d8-4be6-468a-9a33-1b788d75578e
2022-12-07 09:52:20,086 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4b3be3d8-4be6-468a-9a33-1b788d75578e]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 09:52:20,086 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4b3be3d8-4be6-468a-9a33-1b788d75578e]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 09:52:40,945 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=03d0934b-38df-4bdb-86cd-9d1c429fe4b4]: Accuracy when validating site-1's model on site-1s data: 0.965027293430338
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 09:52:42,125 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4b3be3d8-4be6-468a-9a33-1b788d75578e]: Accuracy when validating site-2's model on site-2s data: 0.9675756180456929
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       222
         eve       0.98      0.97      0.97        96
         geo       0.99      1.00      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.98      0.98      0.98       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.99      0.99      0.99     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9990150537775291
val 0/1: 
              precision    recall  f1-score   support

         art       0.06      0.11      0.08        19
         eve       0.18      0.25      0.21        16
         geo       0.85      0.86      0.85      1819
         gpe       0.95      0.93      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.66      0.71      0.68       991
         per       0.75      0.72      0.74       907
         tim       0.84      0.83      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.54      0.55      0.54      5343
weighted avg       0.81      0.81      0.81      5343

F1-score: 0.964269734808165
2022-12-07 10:01:23,801 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=03d0934b-38df-4bdb-86cd-9d1c429fe4b4]: train:
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       222
         eve       0.98      0.97      0.97        96
         geo       0.99      1.00      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.98      0.98      0.98       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.99      0.99      0.99     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.06      0.11      0.08        19
         eve       0.18      0.25      0.21        16
         geo       0.85      0.86      0.85      1819
         gpe       0.95      0.93      0.94       731
         nat       0.00      0.00      0.00         6
         org       0.66      0.71      0.68       991
         per       0.75      0.72      0.74       907
         tim       0.84      0.83      0.83       854

   micro avg       0.80      0.81      0.80      5343
   macro avg       0.54      0.55      0.54      5343
weighted avg       0.81      0.81      0.81      5343

2022-12-07 10:01:23,974 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 10:01:24,720 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=03d0934b-38df-4bdb-86cd-9d1c429fe4b4]: finished processing task
2022-12-07 10:01:24,721 - FederatedClient - INFO - Starting to push execute result.
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       176
         eve       1.00      1.00      1.00       117
         geo       0.99      1.00      0.99     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.99      0.97      0.98        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       1.00      1.00      1.00      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9992239277195041
val 0/1: 
              precision    recall  f1-score   support

         art       0.57      0.27      0.36        45
         eve       0.22      0.31      0.26        13
         geo       0.85      0.89      0.87      1773
         gpe       0.96      0.93      0.95       640
         nat       0.20      0.08      0.12        12
         org       0.69      0.75      0.72      1045
         per       0.80      0.76      0.78       940
         tim       0.86      0.85      0.85       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.64      0.60      0.61      5327
weighted avg       0.82      0.83      0.82      5327

F1-score: 0.9671383124482598
2022-12-07 10:01:25,014 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4b3be3d8-4be6-468a-9a33-1b788d75578e]: train:
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       176
         eve       1.00      1.00      1.00       117
         geo       0.99      1.00      0.99     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.99      0.97      0.98        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       1.00      1.00      1.00      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.57      0.27      0.36        45
         eve       0.22      0.31      0.26        13
         geo       0.85      0.89      0.87      1773
         gpe       0.96      0.93      0.95       640
         nat       0.20      0.08      0.12        12
         org       0.69      0.75      0.72      1045
         per       0.80      0.76      0.78       940
         tim       0.86      0.85      0.85       859

   micro avg       0.82      0.83      0.82      5327
   macro avg       0.64      0.60      0.61      5327
weighted avg       0.82      0.83      0.82      5327

2022-12-07 10:01:25,039 - SimulatorServer - INFO - getting AuxCommunicate request
2022-12-07 10:01:25,554 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 10:01:25,988 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4b3be3d8-4be6-468a-9a33-1b788d75578e]: finished processing task
2022-12-07 10:01:25,989 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 10:01:26,800 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 10:01:48,301 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670407308 seconds)
2022-12-07 10:01:48,301 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=03d0934b-38df-4bdb-86cd-9d1c429fe4b4
2022-12-07 10:01:48,302 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=03d0934b-38df-4bdb-86cd-9d1c429fe4b4]: invoking result_received_cb ...
2022-12-07 10:01:48,398 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=03d0934b-38df-4bdb-86cd-9d1c429fe4b4]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 10:01:48,399 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=03d0934b-38df-4bdb-86cd-9d1c429fe4b4]: finished processing client result by scatter_and_gather
2022-12-07 10:01:48,434 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670407308 seconds). SubmitUpdate time: 22.880855321884155 seconds
2022-12-07 10:01:48,478 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=03d0934b-38df-4bdb-86cd-9d1c429fe4b4]: result sent to server for task: name=train, id=03d0934b-38df-4bdb-86cd-9d1c429fe4b4
2022-12-07 10:01:48,479 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:01:51,461 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670407311 seconds)
2022-12-07 10:01:51,461 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=4b3be3d8-4be6-468a-9a33-1b788d75578e
2022-12-07 10:01:51,462 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4b3be3d8-4be6-468a-9a33-1b788d75578e]: invoking result_received_cb ...
2022-12-07 10:01:51,652 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4b3be3d8-4be6-468a-9a33-1b788d75578e]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 10:01:51,652 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=4b3be3d8-4be6-468a-9a33-1b788d75578e]: finished processing client result by scatter_and_gather
2022-12-07 10:01:51,687 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670407311 seconds). SubmitUpdate time: 24.887523651123047 seconds
2022-12-07 10:01:51,693 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:01:51,743 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=4b3be3d8-4be6-468a-9a33-1b788d75578e]: result sent to server for task: name=train, id=4b3be3d8-4be6-468a-9a33-1b788d75578e
2022-12-07 10:01:51,744 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 10:01:53,702 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:01:53,829 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 10:01:55,725 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:01:55,839 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 10:01:57,748 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:01:57,849 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 10:01:59,757 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:01:59,860 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 10:02:01,765 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:02:01,809 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 10:02:01,870 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 10:02:02,309 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 10:02:02,310 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 97
2022-12-07 10:02:02,433 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 10:02:02,434 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 10:02:03,474 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 10:02:03,475 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 97 finished.
2022-12-07 10:02:03,475 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 98 started.
2022-12-07 10:02:03,476 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 10:02:03,774 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=e68620e1-b4e0-491a-a1de-4f32807f9df7]: assigned task to client site-1: name=train, id=e68620e1-b4e0-491a-a1de-4f32807f9df7
2022-12-07 10:02:03,775 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=e68620e1-b4e0-491a-a1de-4f32807f9df7]: sent task assignment to client
2022-12-07 10:02:04,607 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 10:02:05,024 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=dc77eece-e266-4788-a77e-d1fec7d71e86]: assigned task to client site-2: name=train, id=dc77eece-e266-4788-a77e-d1fec7d71e86
2022-12-07 10:02:05,039 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=dc77eece-e266-4788-a77e-d1fec7d71e86]: sent task assignment to client
2022-12-07 10:02:05,867 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 10:02:27,263 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.492255210876465 seconds
2022-12-07 10:02:27,274 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 10:02:27,733 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=e68620e1-b4e0-491a-a1de-4f32807f9df7
2022-12-07 10:02:27,734 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e68620e1-b4e0-491a-a1de-4f32807f9df7]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 10:02:27,734 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e68620e1-b4e0-491a-a1de-4f32807f9df7]: Client trainer got task: train
2022-12-07 10:02:28,610 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.73641347885132 seconds
2022-12-07 10:02:28,617 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 10:02:29,054 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=dc77eece-e266-4788-a77e-d1fec7d71e86
2022-12-07 10:02:29,055 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dc77eece-e266-4788-a77e-d1fec7d71e86]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 10:02:29,055 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dc77eece-e266-4788-a77e-d1fec7d71e86]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 10:02:49,882 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e68620e1-b4e0-491a-a1de-4f32807f9df7]: Accuracy when validating site-1's model on site-1s data: 0.9653191847734651
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 10:02:51,104 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dc77eece-e266-4788-a77e-d1fec7d71e86]: Accuracy when validating site-2's model on site-2s data: 0.9675216086784991
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      0.99      0.99       222
         eve       0.98      0.97      0.97        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.97      0.97      0.97       116
         org       0.98      0.99      0.98      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.99      0.99      0.99     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.9987176364927447
val 0/1: 
              precision    recall  f1-score   support

         art       0.06      0.05      0.06        19
         eve       0.19      0.25      0.22        16
         geo       0.86      0.84      0.85      1819
         gpe       0.92      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.69      0.67      0.68       991
         per       0.72      0.82      0.77       907
         tim       0.85      0.83      0.84       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.54      0.55      0.54      5343
weighted avg       0.80      0.81      0.81      5343

F1-score: 0.9646094620932761
2022-12-07 10:11:32,212 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e68620e1-b4e0-491a-a1de-4f32807f9df7]: train:
              precision    recall  f1-score   support

         art       0.98      0.99      0.99       222
         eve       0.98      0.97      0.97        96
         geo       0.99      0.99      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.97      0.97      0.97       116
         org       0.98      0.99      0.98      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.99      0.99      0.99     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.06      0.05      0.06        19
         eve       0.19      0.25      0.22        16
         geo       0.86      0.84      0.85      1819
         gpe       0.92      0.94      0.93       731
         nat       0.00      0.00      0.00         6
         org       0.69      0.67      0.68       991
         per       0.72      0.82      0.77       907
         tim       0.85      0.83      0.84       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.54      0.55      0.54      5343
weighted avg       0.80      0.81      0.81      5343

2022-12-07 10:11:32,658 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 10:11:33,404 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e68620e1-b4e0-491a-a1de-4f32807f9df7]: finished processing task
2022-12-07 10:11:33,406 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 10:11:34,252 - Communicator - INFO - Send submitUpdate to simulator_server server
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       176
         eve       0.98      0.98      0.98       117
         geo       1.00      1.00      1.00     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.97      0.98      0.97        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      1.00      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

F1-score: 0.9992240532607237
val 0/1: 
              precision    recall  f1-score   support

         art       0.50      0.24      0.33        45
         eve       0.21      0.31      0.25        13
         geo       0.86      0.88      0.87      1773
         gpe       0.95      0.94      0.94       640
         nat       0.20      0.08      0.12        12
         org       0.72      0.75      0.74      1045
         per       0.79      0.78      0.78       940
         tim       0.86      0.86      0.86       859

   micro avg       0.83      0.83      0.83      5327
   macro avg       0.64      0.61      0.61      5327
weighted avg       0.83      0.83      0.83      5327

F1-score: 0.9676384669964552
2022-12-07 10:11:35,586 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dc77eece-e266-4788-a77e-d1fec7d71e86]: train:
              precision    recall  f1-score   support

         art       0.99      0.99      0.99       176
         eve       0.98      0.98      0.98       117
         geo       1.00      1.00      1.00     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.97      0.98      0.97        95
         org       0.99      0.99      0.99      8238
         per       0.99      0.99      0.99      6998
         tim       0.99      1.00      0.99      6773

   micro avg       0.99      0.99      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      0.99      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.50      0.24      0.33        45
         eve       0.21      0.31      0.25        13
         geo       0.86      0.88      0.87      1773
         gpe       0.95      0.94      0.94       640
         nat       0.20      0.08      0.12        12
         org       0.72      0.75      0.74      1045
         per       0.79      0.78      0.78       940
         tim       0.86      0.86      0.86       859

   micro avg       0.83      0.83      0.83      5327
   macro avg       0.64      0.61      0.61      5327
weighted avg       0.83      0.83      0.83      5327

2022-12-07 10:11:35,598 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 10:11:36,494 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dc77eece-e266-4788-a77e-d1fec7d71e86]: finished processing task
2022-12-07 10:11:36,496 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 10:11:37,303 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 10:11:57,073 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670407917 seconds)
2022-12-07 10:11:57,073 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=e68620e1-b4e0-491a-a1de-4f32807f9df7
2022-12-07 10:11:57,088 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e68620e1-b4e0-491a-a1de-4f32807f9df7]: invoking result_received_cb ...
2022-12-07 10:11:57,162 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e68620e1-b4e0-491a-a1de-4f32807f9df7]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 10:11:57,163 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=e68620e1-b4e0-491a-a1de-4f32807f9df7]: finished processing client result by scatter_and_gather
2022-12-07 10:11:57,199 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670407917 seconds). SubmitUpdate time: 22.947276830673218 seconds
2022-12-07 10:11:57,239 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=e68620e1-b4e0-491a-a1de-4f32807f9df7]: result sent to server for task: name=train, id=e68620e1-b4e0-491a-a1de-4f32807f9df7
2022-12-07 10:11:57,239 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:12:00,369 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670407920 seconds)
2022-12-07 10:12:00,369 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=dc77eece-e266-4788-a77e-d1fec7d71e86
2022-12-07 10:12:00,369 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=dc77eece-e266-4788-a77e-d1fec7d71e86]: invoking result_received_cb ...
2022-12-07 10:12:00,528 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=dc77eece-e266-4788-a77e-d1fec7d71e86]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 10:12:00,528 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=dc77eece-e266-4788-a77e-d1fec7d71e86]: finished processing client result by scatter_and_gather
2022-12-07 10:12:00,564 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670407920 seconds). SubmitUpdate time: 23.26116633415222 seconds
2022-12-07 10:12:00,567 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:12:00,621 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=dc77eece-e266-4788-a77e-d1fec7d71e86]: result sent to server for task: name=train, id=dc77eece-e266-4788-a77e-d1fec7d71e86
2022-12-07 10:12:00,621 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 10:12:02,594 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:12:02,694 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 10:12:04,616 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:12:04,711 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 10:12:06,625 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:12:06,721 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 10:12:08,634 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:12:08,732 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 10:12:10,644 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:12:10,706 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 10:12:10,742 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 10:12:11,205 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 10:12:11,206 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 98
2022-12-07 10:12:11,280 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 10:12:11,281 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 10:12:12,208 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 10:12:12,208 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 98 finished.
2022-12-07 10:12:12,209 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 99 started.
2022-12-07 10:12:12,209 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-12-07 10:12:12,651 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=6d5c6b41-d04e-4cf3-9606-c9f428809313]: assigned task to client site-1: name=train, id=6d5c6b41-d04e-4cf3-9606-c9f428809313
2022-12-07 10:12:12,652 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=6d5c6b41-d04e-4cf3-9606-c9f428809313]: sent task assignment to client
2022-12-07 10:12:13,493 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 10:12:13,951 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=5a02de9d-876d-487f-acad-8befb0da42ba]: assigned task to client site-2: name=train, id=5a02de9d-876d-487f-acad-8befb0da42ba
2022-12-07 10:12:13,952 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=5a02de9d-876d-487f-acad-8befb0da42ba]: sent task assignment to client
2022-12-07 10:12:14,775 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 10:12:36,380 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 23.73116683959961 seconds
2022-12-07 10:12:36,429 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 10:12:36,854 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=6d5c6b41-d04e-4cf3-9606-c9f428809313
2022-12-07 10:12:36,854 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6d5c6b41-d04e-4cf3-9606-c9f428809313]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 10:12:36,854 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6d5c6b41-d04e-4cf3-9606-c9f428809313]: Client trainer got task: train
2022-12-07 10:12:37,519 - Communicator - INFO - Received from simulator_server server  (430981217 Bytes). getTask time: 24.77174735069275 seconds
2022-12-07 10:12:37,535 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-12-07 10:12:37,935 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=5a02de9d-876d-487f-acad-8befb0da42ba
2022-12-07 10:12:37,936 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5a02de9d-876d-487f-acad-8befb0da42ba]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 10:12:37,936 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5a02de9d-876d-487f-acad-8befb0da42ba]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 10:12:59,171 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6d5c6b41-d04e-4cf3-9606-c9f428809313]: Accuracy when validating site-1's model on site-1s data: 0.9657949430292863
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 10:13:00,012 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5a02de9d-876d-487f-acad-8befb0da42ba]: Accuracy when validating site-2's model on site-2s data: 0.9681663944442424
-------------------------------------------------- train start: site-1 --------------------------------------------------
-------------------------------------------------- local training: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       1.00      0.99      0.99       222
         eve       0.98      0.99      0.98        96
         geo       0.99      1.00      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.94      0.97      0.96       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.99      0.99     43021
weighted avg       0.99      0.99      0.99     43021

F1-score: 0.99902016488873
val 0/1: 
              precision    recall  f1-score   support

         art       0.04      0.05      0.05        19
         eve       0.09      0.12      0.11        16
         geo       0.86      0.85      0.85      1819
         gpe       0.92      0.95      0.93       731
         nat       0.14      0.17      0.15         6
         org       0.69      0.70      0.70       991
         per       0.72      0.80      0.76       907
         tim       0.84      0.81      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.54      0.56      0.55      5343
weighted avg       0.80      0.81      0.81      5343

F1-score: 0.9644255965265184
2022-12-07 10:21:42,337 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6d5c6b41-d04e-4cf3-9606-c9f428809313]: train:
              precision    recall  f1-score   support

         art       1.00      0.99      0.99       222
         eve       0.98      0.99      0.98        96
         geo       0.99      1.00      0.99     14594
         gpe       1.00      1.00      1.00      5584
         nat       0.94      0.97      0.96       116
         org       0.99      0.99      0.99      8377
         per       0.99      0.99      0.99      7230
         tim       0.99      0.99      0.99      6802

   micro avg       0.99      0.99      0.99     43021
   macro avg       0.98      0.99      0.99     43021
weighted avg       0.99      0.99      0.99     43021

==========================================================
val:
              precision    recall  f1-score   support

         art       0.04      0.05      0.05        19
         eve       0.09      0.12      0.11        16
         geo       0.86      0.85      0.85      1819
         gpe       0.92      0.95      0.93       731
         nat       0.14      0.17      0.15         6
         org       0.69      0.70      0.70       991
         per       0.72      0.80      0.76       907
         tim       0.84      0.81      0.83       854

   micro avg       0.80      0.81      0.81      5343
   macro avg       0.54      0.56      0.55      5343
weighted avg       0.80      0.81      0.81      5343

2022-12-07 10:21:42,972 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- train start: site-2 --------------------------------------------------
-------------------------------------------------- local training: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
training 0/1: 
              precision    recall  f1-score   support

         art       0.98      0.99      0.99       176
         eve       0.99      0.99      0.99       117
         geo       1.00      1.00      1.00     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.98      0.98      0.98        95
         org       0.99      0.99      0.99      8238
         per       0.99      1.00      1.00      6998
         tim       0.99      1.00      0.99      6773

   micro avg       0.99      1.00      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      1.00      0.99     42624

F1-score: 0.9992677096301923
val 0/1: 
              precision    recall  f1-score   support

         art       0.54      0.29      0.38        45
         eve       0.21      0.38      0.27        13
         geo       0.85      0.88      0.87      1773
         gpe       0.95      0.94      0.95       640
         nat       0.11      0.08      0.10        12
         org       0.72      0.75      0.74      1045
         per       0.77      0.78      0.78       940
         tim       0.86      0.85      0.85       859

   micro avg       0.82      0.83      0.83      5327
   macro avg       0.63      0.62      0.62      5327
weighted avg       0.82      0.83      0.83      5327

F1-score: 0.9675988450914316
2022-12-07 10:21:43,191 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5a02de9d-876d-487f-acad-8befb0da42ba]: train:
              precision    recall  f1-score   support

         art       0.98      0.99      0.99       176
         eve       0.99      0.99      0.99       117
         geo       1.00      1.00      1.00     14724
         gpe       1.00      1.00      1.00      5503
         nat       0.98      0.98      0.98        95
         org       0.99      0.99      0.99      8238
         per       0.99      1.00      1.00      6998
         tim       0.99      1.00      0.99      6773

   micro avg       0.99      1.00      0.99     42624
   macro avg       0.99      0.99      0.99     42624
weighted avg       0.99      1.00      0.99     42624

==========================================================
val:
              precision    recall  f1-score   support

         art       0.54      0.29      0.38        45
         eve       0.21      0.38      0.27        13
         geo       0.85      0.88      0.87      1773
         gpe       0.95      0.94      0.95       640
         nat       0.11      0.08      0.10        12
         org       0.72      0.75      0.74      1045
         per       0.77      0.78      0.78       940
         tim       0.86      0.85      0.85       859

   micro avg       0.82      0.83      0.83      5327
   macro avg       0.63      0.62      0.62      5327
weighted avg       0.82      0.83      0.83      5327

-------------------------------------------------- save local model: site-1 --------------------------------------------------
2022-12-07 10:21:43,486 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6d5c6b41-d04e-4cf3-9606-c9f428809313]: finished processing task
2022-12-07 10:21:43,487 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 10:21:44,104 - SimulatorServer - INFO - getting AuxCommunicate request
-------------------------------------------------- save local model: site-2 --------------------------------------------------
2022-12-07 10:21:44,153 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5a02de9d-876d-487f-acad-8befb0da42ba]: finished processing task
2022-12-07 10:21:44,154 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 10:21:44,349 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 10:21:44,988 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 10:22:07,171 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981542 Bytes, 1670408527 seconds)
2022-12-07 10:22:07,171 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train, id=6d5c6b41-d04e-4cf3-9606-c9f428809313
2022-12-07 10:22:07,171 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=6d5c6b41-d04e-4cf3-9606-c9f428809313]: invoking result_received_cb ...
2022-12-07 10:22:07,276 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=6d5c6b41-d04e-4cf3-9606-c9f428809313]: Contribution from site-1 ACCEPTED by the aggregator.
2022-12-07 10:22:07,276 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=6d5c6b41-d04e-4cf3-9606-c9f428809313]: finished processing client result by scatter_and_gather
2022-12-07 10:22:07,312 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981542 Bytes, 1670408527 seconds). SubmitUpdate time: 22.96306800842285 seconds
2022-12-07 10:22:07,350 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=6d5c6b41-d04e-4cf3-9606-c9f428809313]: result sent to server for task: name=train, id=6d5c6b41-d04e-4cf3-9606-c9f428809313
2022-12-07 10:22:07,351 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:22:10,424 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981542 Bytes, 1670408530 seconds)
2022-12-07 10:22:10,424 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train, id=5a02de9d-876d-487f-acad-8befb0da42ba
2022-12-07 10:22:10,425 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5a02de9d-876d-487f-acad-8befb0da42ba]: invoking result_received_cb ...
2022-12-07 10:22:10,633 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5a02de9d-876d-487f-acad-8befb0da42ba]: Contribution from site-2 ACCEPTED by the aggregator.
2022-12-07 10:22:10,633 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train, task_id=5a02de9d-876d-487f-acad-8befb0da42ba]: finished processing client result by scatter_and_gather
2022-12-07 10:22:10,670 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981542 Bytes, 1670408530 seconds). SubmitUpdate time: 25.682276725769043 seconds
2022-12-07 10:22:10,672 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:22:10,727 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=5a02de9d-876d-487f-acad-8befb0da42ba]: result sent to server for task: name=train, id=5a02de9d-876d-487f-acad-8befb0da42ba
2022-12-07 10:22:10,728 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 10:22:12,681 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:22:12,805 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 10:22:14,690 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:22:14,822 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 10:22:16,701 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:22:16,833 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 10:22:18,711 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:22:18,844 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 10:22:20,722 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:22:20,767 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: task train exit with status TaskCompletionStatus.OK
2022-12-07 10:22:20,851 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 10:22:21,266 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start aggregation.
2022-12-07 10:22:21,267 - DXOAggregator - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: aggregating 2 update(s) at round 99
2022-12-07 10:22:21,393 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End aggregation.
2022-12-07 10:22:21,394 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Start persist model on server.
2022-12-07 10:22:22,289 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: End persist model on server.
2022-12-07 10:22:22,290 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 99 finished.
2022-12-07 10:22:22,290 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Finished ScatterAndGather Training.
2022-12-07 10:22:22,290 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Workflow: scatter_and_gather finalizing ...
2022-12-07 10:22:22,729 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job]: no current workflow - asked client to try again later
2022-12-07 10:22:22,732 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:22:22,771 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: starting workflow cross_site_validate (<class 'nvflare.app_common.workflows.cross_site_model_eval.CrossSiteModelEval'>) ...
2022-12-07 10:22:22,772 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Formatter not found. Stats will not be printed.
2022-12-07 10:22:22,772 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Workflow cross_site_validate (<class 'nvflare.app_common.workflows.cross_site_model_eval.CrossSiteModelEval'>) started
2022-12-07 10:22:22,773 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate]: Beginning model validation with clients: ['site-1', 'site-2'].
2022-12-07 10:22:22,773 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate]: scheduled task submit_model
2022-12-07 10:22:22,773 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate]: Locating server models.
2022-12-07 10:22:22,859 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job, task_name=submit_model, task_id=5057812b-92ee-410c-a831-a5b07a4977dd]: assigned task to client site-2: name=submit_model, id=5057812b-92ee-410c-a831-a5b07a4977dd
2022-12-07 10:22:22,861 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job, task_name=submit_model, task_id=5057812b-92ee-410c-a831-a5b07a4977dd]: sent task assignment to client
2022-12-07 10:22:22,862 - SimulatorServer - INFO - GetTask: Return task: submit_model to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 10:22:22,862 - Communicator - INFO - Received from simulator_server server  (586 Bytes). getTask time: 0.0054645538330078125 seconds
2022-12-07 10:22:22,864 - FederatedClient - INFO - pull_task completed. Task name:submit_model Status:True 
2022-12-07 10:22:22,865 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=submit_model, id=5057812b-92ee-410c-a831-a5b07a4977dd
2022-12-07 10:22:22,866 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=submit_model, task_id=5057812b-92ee-410c-a831-a5b07a4977dd]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 10:22:22,867 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=submit_model, task_id=5057812b-92ee-410c-a831-a5b07a4977dd]: Client trainer got task: submit_model
-------------------------------------------------- get model for validation: site-2 --------------------------------------------------
2022-12-07 10:22:23,147 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=submit_model, task_id=5057812b-92ee-410c-a831-a5b07a4977dd]: finished processing task
2022-12-07 10:22:23,148 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 10:22:23,813 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate]: Server models loaded: ['SRV_FL_global_model.pt'].
2022-12-07 10:22:23,818 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate]: Sending SRV_FL_global_model.pt model to all participating clients for validation.
2022-12-07 10:22:23,819 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate]: scheduled task validate
2022-12-07 10:22:23,980 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 10:22:24,740 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job, task_name=submit_model, task_id=cfc40936-3ae8-45fc-a2c0-33aeed235b9e]: assigned task to client site-1: name=submit_model, id=cfc40936-3ae8-45fc-a2c0-33aeed235b9e
2022-12-07 10:22:24,741 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job, task_name=submit_model, task_id=cfc40936-3ae8-45fc-a2c0-33aeed235b9e]: sent task assignment to client
2022-12-07 10:22:24,742 - SimulatorServer - INFO - GetTask: Return task: submit_model to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 10:22:24,743 - Communicator - INFO - Received from simulator_server server  (586 Bytes). getTask time: 0.004973173141479492 seconds
2022-12-07 10:22:24,745 - FederatedClient - INFO - pull_task completed. Task name:submit_model Status:True 
2022-12-07 10:22:24,745 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=submit_model, id=cfc40936-3ae8-45fc-a2c0-33aeed235b9e
2022-12-07 10:22:24,746 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=submit_model, task_id=cfc40936-3ae8-45fc-a2c0-33aeed235b9e]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 10:22:24,747 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=submit_model, task_id=cfc40936-3ae8-45fc-a2c0-33aeed235b9e]: Client trainer got task: submit_model
-------------------------------------------------- get model for validation: site-1 --------------------------------------------------
2022-12-07 10:22:24,958 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=submit_model, task_id=cfc40936-3ae8-45fc-a2c0-33aeed235b9e]: finished processing task
2022-12-07 10:22:24,959 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 10:22:25,810 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 10:22:46,710 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (430981486 Bytes, 1670408566 seconds)
2022-12-07 10:22:46,710 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=submit_model, id=5057812b-92ee-410c-a831-a5b07a4977dd
2022-12-07 10:22:46,711 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=submit_model, task_id=5057812b-92ee-410c-a831-a5b07a4977dd]: invoking result_received_cb ...
2022-12-07 10:22:47,495 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=submit_model, task_id=5057812b-92ee-410c-a831-a5b07a4977dd]: Received local model from client site-2.
2022-12-07 10:22:47,495 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=submit_model, task_id=5057812b-92ee-410c-a831-a5b07a4977dd]: Sending site-2 model to all participating clients for validation.
2022-12-07 10:22:47,495 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=submit_model, task_id=5057812b-92ee-410c-a831-a5b07a4977dd]: scheduled task validate
2022-12-07 10:22:47,495 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=submit_model, task_id=5057812b-92ee-410c-a831-a5b07a4977dd]: finished processing client result by cross_site_validate
2022-12-07 10:22:47,531 - Communicator - INFO - Received comments: simulator_server Received from site-2 (430981486 Bytes, 1670408566 seconds). SubmitUpdate time: 23.551506519317627 seconds
2022-12-07 10:22:47,552 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=submit_model, task_id=5057812b-92ee-410c-a831-a5b07a4977dd]: result sent to server for task: name=submit_model, id=5057812b-92ee-410c-a831-a5b07a4977dd
2022-12-07 10:22:47,553 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 10:22:49,870 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (430981486 Bytes, 1670408569 seconds)
2022-12-07 10:22:49,871 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=submit_model, id=cfc40936-3ae8-45fc-a2c0-33aeed235b9e
2022-12-07 10:22:49,871 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=submit_model, task_id=cfc40936-3ae8-45fc-a2c0-33aeed235b9e]: invoking result_received_cb ...
2022-12-07 10:22:50,669 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=submit_model, task_id=cfc40936-3ae8-45fc-a2c0-33aeed235b9e]: Received local model from client site-1.
2022-12-07 10:22:50,669 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=submit_model, task_id=cfc40936-3ae8-45fc-a2c0-33aeed235b9e]: Sending site-1 model to all participating clients for validation.
2022-12-07 10:22:50,669 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=submit_model, task_id=cfc40936-3ae8-45fc-a2c0-33aeed235b9e]: scheduled task validate
2022-12-07 10:22:50,669 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=submit_model, task_id=cfc40936-3ae8-45fc-a2c0-33aeed235b9e]: finished processing client result by cross_site_validate
2022-12-07 10:22:50,669 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate]: task submit_model exit with status TaskCompletionStatus.OK
2022-12-07 10:22:50,705 - Communicator - INFO - Received comments: simulator_server Received from site-1 (430981486 Bytes, 1670408569 seconds). SubmitUpdate time: 24.89474105834961 seconds
2022-12-07 10:22:50,745 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=submit_model, task_id=cfc40936-3ae8-45fc-a2c0-33aeed235b9e]: result sent to server for task: name=submit_model, id=cfc40936-3ae8-45fc-a2c0-33aeed235b9e
2022-12-07 10:22:50,745 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:22:51,082 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job, task_name=validate, task_id=a14adf98-f76a-48c5-9edc-1e8d2f6a69b2]: assigned task to client site-2: name=validate, id=a14adf98-f76a-48c5-9edc-1e8d2f6a69b2
2022-12-07 10:22:51,082 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job, task_name=validate, task_id=a14adf98-f76a-48c5-9edc-1e8d2f6a69b2]: sent task assignment to client
2022-12-07 10:22:51,890 - SimulatorServer - INFO - GetTask: Return task: validate to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 10:22:53,145 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job, task_name=validate, task_id=73fc6895-0f74-4482-9518-7ee20ea69ad8]: assigned task to client site-1: name=validate, id=73fc6895-0f74-4482-9518-7ee20ea69ad8
2022-12-07 10:22:53,146 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job, task_name=validate, task_id=73fc6895-0f74-4482-9518-7ee20ea69ad8]: sent task assignment to client
2022-12-07 10:22:53,964 - SimulatorServer - INFO - GetTask: Return task: validate to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 10:23:14,541 - Communicator - INFO - Received from simulator_server server  (430981251 Bytes). getTask time: 24.968910217285156 seconds
2022-12-07 10:23:14,574 - FederatedClient - INFO - pull_task completed. Task name:validate Status:True 
2022-12-07 10:23:15,000 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=validate, id=a14adf98-f76a-48c5-9edc-1e8d2f6a69b2
2022-12-07 10:23:15,001 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=a14adf98-f76a-48c5-9edc-1e8d2f6a69b2]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 10:23:15,001 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=a14adf98-f76a-48c5-9edc-1e8d2f6a69b2]: Client trainer got task: validate
2022-12-07 10:23:16,711 - Communicator - INFO - Received from simulator_server server  (430981251 Bytes). getTask time: 23.960859775543213 seconds
2022-12-07 10:23:16,745 - FederatedClient - INFO - pull_task completed. Task name:validate Status:True 
2022-12-07 10:23:17,141 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=validate, id=73fc6895-0f74-4482-9518-7ee20ea69ad8
2022-12-07 10:23:17,142 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=73fc6895-0f74-4482-9518-7ee20ea69ad8]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 10:23:17,142 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=73fc6895-0f74-4482-9518-7ee20ea69ad8]: Client trainer got task: validate
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 10:23:37,025 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=a14adf98-f76a-48c5-9edc-1e8d2f6a69b2]: Accuracy when validating SRV_FL_global_model.pt's model on site-2s data: 0.9680107575351254
2022-12-07 10:23:37,026 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=a14adf98-f76a-48c5-9edc-1e8d2f6a69b2]: finished processing task
2022-12-07 10:23:37,027 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 10:23:37,028 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 10:23:37,031 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (959 Bytes, 1670408617 seconds)
2022-12-07 10:23:37,031 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=validate, id=a14adf98-f76a-48c5-9edc-1e8d2f6a69b2
2022-12-07 10:23:37,033 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=validate, task_id=a14adf98-f76a-48c5-9edc-1e8d2f6a69b2]: invoking result_received_cb ...
2022-12-07 10:23:37,033 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=validate, task_id=a14adf98-f76a-48c5-9edc-1e8d2f6a69b2]: Client site-2 sent results for validating SRV_FL_global_model.pt model.
2022-12-07 10:23:37,034 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=validate, task_id=a14adf98-f76a-48c5-9edc-1e8d2f6a69b2]: finished processing client result by cross_site_validate
2022-12-07 10:23:37,035 - Communicator - INFO - Received comments: simulator_server Received from site-2 (959 Bytes, 1670408617 seconds). SubmitUpdate time: 0.006685972213745117 seconds
2022-12-07 10:23:37,037 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=a14adf98-f76a-48c5-9edc-1e8d2f6a69b2]: result sent to server for task: name=validate, id=a14adf98-f76a-48c5-9edc-1e8d2f6a69b2
2022-12-07 10:23:37,037 - ClientTaskWorker - INFO - Finished one task run for client: site-2
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 10:23:39,298 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=73fc6895-0f74-4482-9518-7ee20ea69ad8]: Accuracy when validating SRV_FL_global_model.pt's model on site-1s data: 0.9655116063839716
2022-12-07 10:23:39,299 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=73fc6895-0f74-4482-9518-7ee20ea69ad8]: finished processing task
2022-12-07 10:23:39,300 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 10:23:39,301 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 10:23:39,455 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job, task_name=validate, task_id=ded353a1-9745-4e47-b481-856e89d35bb8]: assigned task to client site-2: name=validate, id=ded353a1-9745-4e47-b481-856e89d35bb8
2022-12-07 10:23:39,455 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job, task_name=validate, task_id=ded353a1-9745-4e47-b481-856e89d35bb8]: sent task assignment to client
2022-12-07 10:23:40,274 - SimulatorServer - INFO - GetTask: Return task: validate to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 10:23:40,490 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (959 Bytes, 1670408620 seconds)
2022-12-07 10:23:40,690 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=validate, id=73fc6895-0f74-4482-9518-7ee20ea69ad8
2022-12-07 10:23:40,692 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=validate, task_id=73fc6895-0f74-4482-9518-7ee20ea69ad8]: invoking result_received_cb ...
2022-12-07 10:23:40,693 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=validate, task_id=73fc6895-0f74-4482-9518-7ee20ea69ad8]: Client site-1 sent results for validating SRV_FL_global_model.pt model.
2022-12-07 10:23:40,694 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=validate, task_id=73fc6895-0f74-4482-9518-7ee20ea69ad8]: finished processing client result by cross_site_validate
2022-12-07 10:23:40,695 - Communicator - INFO - Received comments: simulator_server Received from site-1 (959 Bytes, 1670408620 seconds). SubmitUpdate time: 1.3934190273284912 seconds
2022-12-07 10:23:40,697 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=73fc6895-0f74-4482-9518-7ee20ea69ad8]: result sent to server for task: name=validate, id=73fc6895-0f74-4482-9518-7ee20ea69ad8
2022-12-07 10:23:40,697 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:23:41,190 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate]: task validate exit with status TaskCompletionStatus.OK
2022-12-07 10:23:43,093 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job, task_name=validate, task_id=7f6101ba-6ada-4502-81f5-de2807b8c127]: assigned task to client site-1: name=validate, id=7f6101ba-6ada-4502-81f5-de2807b8c127
2022-12-07 10:23:43,093 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job, task_name=validate, task_id=7f6101ba-6ada-4502-81f5-de2807b8c127]: sent task assignment to client
2022-12-07 10:23:43,901 - SimulatorServer - INFO - GetTask: Return task: validate to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 10:24:02,638 - Communicator - INFO - Received from simulator_server server  (430981219 Bytes). getTask time: 23.593846321105957 seconds
2022-12-07 10:24:02,687 - FederatedClient - INFO - pull_task completed. Task name:validate Status:True 
2022-12-07 10:24:03,135 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=validate, id=ded353a1-9745-4e47-b481-856e89d35bb8
2022-12-07 10:24:03,135 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=ded353a1-9745-4e47-b481-856e89d35bb8]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 10:24:03,135 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=ded353a1-9745-4e47-b481-856e89d35bb8]: Client trainer got task: validate
2022-12-07 10:24:06,353 - Communicator - INFO - Received from simulator_server server  (430981219 Bytes). getTask time: 23.64992332458496 seconds
2022-12-07 10:24:06,407 - FederatedClient - INFO - pull_task completed. Task name:validate Status:True 
2022-12-07 10:24:06,855 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=validate, id=7f6101ba-6ada-4502-81f5-de2807b8c127
2022-12-07 10:24:06,856 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=7f6101ba-6ada-4502-81f5-de2807b8c127]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 10:24:06,856 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=7f6101ba-6ada-4502-81f5-de2807b8c127]: Client trainer got task: validate
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 10:24:25,343 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=ded353a1-9745-4e47-b481-856e89d35bb8]: Accuracy when validating site-2's model on site-2s data: 0.9675988450914316
2022-12-07 10:24:25,343 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=ded353a1-9745-4e47-b481-856e89d35bb8]: finished processing task
2022-12-07 10:24:25,345 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 10:24:25,346 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 10:24:25,348 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (943 Bytes, 1670408665 seconds)
2022-12-07 10:24:25,349 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=validate, id=ded353a1-9745-4e47-b481-856e89d35bb8
2022-12-07 10:24:25,350 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=validate, task_id=ded353a1-9745-4e47-b481-856e89d35bb8]: invoking result_received_cb ...
2022-12-07 10:24:25,351 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=validate, task_id=ded353a1-9745-4e47-b481-856e89d35bb8]: Client site-2 sent results for validating site-2 model.
2022-12-07 10:24:25,351 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=validate, task_id=ded353a1-9745-4e47-b481-856e89d35bb8]: finished processing client result by cross_site_validate
2022-12-07 10:24:25,352 - Communicator - INFO - Received comments: simulator_server Received from site-2 (943 Bytes, 1670408665 seconds). SubmitUpdate time: 0.006631374359130859 seconds
2022-12-07 10:24:25,354 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=ded353a1-9745-4e47-b481-856e89d35bb8]: result sent to server for task: name=validate, id=ded353a1-9745-4e47-b481-856e89d35bb8
2022-12-07 10:24:25,354 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 10:24:27,779 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job, task_name=validate, task_id=d4de0c35-4178-498b-828a-7ee141db8af9]: assigned task to client site-2: name=validate, id=d4de0c35-4178-498b-828a-7ee141db8af9
2022-12-07 10:24:27,780 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job, task_name=validate, task_id=d4de0c35-4178-498b-828a-7ee141db8af9]: sent task assignment to client
2022-12-07 10:24:28,590 - SimulatorServer - INFO - GetTask: Return task: validate to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 10:24:29,135 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=7f6101ba-6ada-4502-81f5-de2807b8c127]: Accuracy when validating site-2's model on site-1s data: 0.9658056590958554
2022-12-07 10:24:29,135 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=7f6101ba-6ada-4502-81f5-de2807b8c127]: finished processing task
2022-12-07 10:24:29,137 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 10:24:29,138 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 10:24:29,140 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (943 Bytes, 1670408669 seconds)
2022-12-07 10:24:29,141 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=validate, id=7f6101ba-6ada-4502-81f5-de2807b8c127
2022-12-07 10:24:29,142 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=validate, task_id=7f6101ba-6ada-4502-81f5-de2807b8c127]: invoking result_received_cb ...
2022-12-07 10:24:29,143 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=validate, task_id=7f6101ba-6ada-4502-81f5-de2807b8c127]: Client site-1 sent results for validating site-2 model.
2022-12-07 10:24:29,144 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=validate, task_id=7f6101ba-6ada-4502-81f5-de2807b8c127]: finished processing client result by cross_site_validate
2022-12-07 10:24:29,145 - Communicator - INFO - Received comments: simulator_server Received from site-1 (943 Bytes, 1670408669 seconds). SubmitUpdate time: 0.006605386734008789 seconds
2022-12-07 10:24:29,146 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=7f6101ba-6ada-4502-81f5-de2807b8c127]: result sent to server for task: name=validate, id=7f6101ba-6ada-4502-81f5-de2807b8c127
2022-12-07 10:24:29,147 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:24:29,571 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate]: task validate exit with status TaskCompletionStatus.OK
2022-12-07 10:24:31,533 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job, task_name=validate, task_id=347c6e05-edc1-488a-9435-85669851a4aa]: assigned task to client site-1: name=validate, id=347c6e05-edc1-488a-9435-85669851a4aa
2022-12-07 10:24:31,534 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job, task_name=validate, task_id=347c6e05-edc1-488a-9435-85669851a4aa]: sent task assignment to client
2022-12-07 10:24:32,327 - SimulatorServer - INFO - GetTask: Return task: validate to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 10:24:50,969 - Communicator - INFO - Received from simulator_server server  (430981219 Bytes). getTask time: 23.60656476020813 seconds
2022-12-07 10:24:51,049 - FederatedClient - INFO - pull_task completed. Task name:validate Status:True 
2022-12-07 10:24:51,475 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=validate, id=d4de0c35-4178-498b-828a-7ee141db8af9
2022-12-07 10:24:51,476 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=d4de0c35-4178-498b-828a-7ee141db8af9]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 10:24:51,476 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=d4de0c35-4178-498b-828a-7ee141db8af9]: Client trainer got task: validate
2022-12-07 10:24:54,693 - Communicator - INFO - Received from simulator_server server  (430981219 Bytes). getTask time: 23.540956020355225 seconds
2022-12-07 10:24:54,757 - FederatedClient - INFO - pull_task completed. Task name:validate Status:True 
2022-12-07 10:24:55,171 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=validate, id=347c6e05-edc1-488a-9435-85669851a4aa
2022-12-07 10:24:55,171 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=347c6e05-edc1-488a-9435-85669851a4aa]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-12-07 10:24:55,171 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=347c6e05-edc1-488a-9435-85669851a4aa]: Client trainer got task: validate
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-12-07 10:25:13,711 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=d4de0c35-4178-498b-828a-7ee141db8af9]: Accuracy when validating site-1's model on site-2s data: 0.9675988450914316
2022-12-07 10:25:13,712 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=d4de0c35-4178-498b-828a-7ee141db8af9]: finished processing task
2022-12-07 10:25:13,713 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 10:25:13,714 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 10:25:13,717 - SimulatorServer - INFO - received update from simulator_server_site-2_0 (943 Bytes, 1670408713 seconds)
2022-12-07 10:25:13,717 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=validate, id=d4de0c35-4178-498b-828a-7ee141db8af9
2022-12-07 10:25:13,719 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=validate, task_id=d4de0c35-4178-498b-828a-7ee141db8af9]: invoking result_received_cb ...
2022-12-07 10:25:13,719 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=validate, task_id=d4de0c35-4178-498b-828a-7ee141db8af9]: Client site-2 sent results for validating site-1 model.
2022-12-07 10:25:13,720 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=validate, task_id=d4de0c35-4178-498b-828a-7ee141db8af9]: finished processing client result by cross_site_validate
2022-12-07 10:25:13,721 - Communicator - INFO - Received comments: simulator_server Received from site-2 (943 Bytes, 1670408713 seconds). SubmitUpdate time: 0.0063817501068115234 seconds
2022-12-07 10:25:13,723 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=d4de0c35-4178-498b-828a-7ee141db8af9]: result sent to server for task: name=validate, id=d4de0c35-4178-498b-828a-7ee141db8af9
2022-12-07 10:25:13,723 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 10:25:15,766 - ClientTaskWorker - INFO - Finished one task run for client: site-2
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-12-07 10:25:17,478 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=347c6e05-edc1-488a-9435-85669851a4aa]: Accuracy when validating site-1's model on site-1s data: 0.9658056590958554
2022-12-07 10:25:17,479 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=347c6e05-edc1-488a-9435-85669851a4aa]: finished processing task
2022-12-07 10:25:17,482 - FederatedClient - INFO - Starting to push execute result.
2022-12-07 10:25:17,483 - Communicator - INFO - Send submitUpdate to simulator_server server
2022-12-07 10:25:17,485 - SimulatorServer - INFO - received update from simulator_server_site-1_0 (943 Bytes, 1670408717 seconds)
2022-12-07 10:25:17,486 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=validate, id=347c6e05-edc1-488a-9435-85669851a4aa
2022-12-07 10:25:17,487 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=validate, task_id=347c6e05-edc1-488a-9435-85669851a4aa]: invoking result_received_cb ...
2022-12-07 10:25:17,488 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=validate, task_id=347c6e05-edc1-488a-9435-85669851a4aa]: Client site-1 sent results for validating site-1 model.
2022-12-07 10:25:17,488 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=validate, task_id=347c6e05-edc1-488a-9435-85669851a4aa]: finished processing client result by cross_site_validate
2022-12-07 10:25:17,489 - Communicator - INFO - Received comments: simulator_server Received from site-1 (943 Bytes, 1670408717 seconds). SubmitUpdate time: 0.006657600402832031 seconds
2022-12-07 10:25:17,491 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=validate, task_id=347c6e05-edc1-488a-9435-85669851a4aa]: result sent to server for task: name=validate, id=347c6e05-edc1-488a-9435-85669851a4aa
2022-12-07 10:25:17,492 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:25:17,777 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 10:25:17,791 - CrossSiteModelEval - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate]: task validate exit with status TaskCompletionStatus.OK
2022-12-07 10:25:18,291 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate]: Workflow: cross_site_validate finalizing ...
2022-12-07 10:25:19,499 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-1, peer_run=simulate_job]: server runner is finalizing - asked client to end the run
2022-12-07 10:25:19,500 - SimulatorServer - INFO - GetTask: Return task: __end_run__ to client: site-1 (dfd66419-386b-479e-ba1c-5b766109bdaf) 
2022-12-07 10:25:19,501 - Communicator - INFO - Received from simulator_server server  (348 Bytes). getTask time: 0.0033655166625976562 seconds
2022-12-07 10:25:19,536 - FederatedClient - INFO - pull_task completed. Task name:__end_run__ Status:True 
2022-12-07 10:25:19,536 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: server asked to end the run
2022-12-07 10:25:19,536 - ClientTaskWorker - INFO - Finished one task run for client: site-1
2022-12-07 10:25:19,536 - ClientTaskWorker - INFO - End the Simulator run.
2022-12-07 10:25:19,537 - ClientTaskWorker - INFO - Clean up ClientRunner for : site-1 
2022-12-07 10:25:19,537 - FederatedClient - INFO - Shutting down client: site-1
2022-12-07 10:25:19,783 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate, peer=site-2, peer_run=simulate_job]: server runner is finalizing - asked client to end the run
2022-12-07 10:25:19,784 - SimulatorServer - INFO - GetTask: Return task: __end_run__ to client: site-2 (d6b76ba9-606f-4415-acc6-662cd0c29521) 
2022-12-07 10:25:19,784 - Communicator - INFO - Received from simulator_server server  (348 Bytes). getTask time: 0.003589630126953125 seconds
2022-12-07 10:25:19,787 - FederatedClient - INFO - pull_task completed. Task name:__end_run__ Status:True 
2022-12-07 10:25:19,787 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: server asked to end the run
2022-12-07 10:25:19,787 - ClientTaskWorker - INFO - Finished one task run for client: site-2
2022-12-07 10:25:19,787 - ClientTaskWorker - INFO - End the Simulator run.
2022-12-07 10:25:19,788 - FederatedClient - INFO - Shutting down client: site-2
2022-12-07 10:25:19,788 - ClientTaskWorker - INFO - Clean up ClientRunner for : site-2 
2022-12-07 10:25:20,294 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate]: ABOUT_TO_END_RUN fired
2022-12-07 10:25:27,172 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate]: END_RUN fired
2022-12-07 10:25:27,172 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=cross_site_validate]: Server runner finished.
2022-12-07 10:25:28,864 - SimulatorServer - INFO - Server app stopped.


2022-12-07 10:25:28,865 - SimulatorServer - INFO - shutting down server
2022-12-07 10:25:28,865 - SimulatorServer - INFO - canceling sync locks
2022-12-07 10:25:28,866 - SimulatorServer - INFO - server off
