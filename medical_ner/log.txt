2022-11-28 14:53:49,827 - SimulatorRunner - INFO - Create the Simulator Server.
2022-11-28 14:53:49,908 - nvflare.fuel.hci.server.hci - INFO - Starting Admin Server localhost on Port 42285
2022-11-28 14:53:49,914 - SimulatorServer - INFO - starting insecure server at localhost:56699
2022-11-28 14:53:49,916 - SimulatorRunner - INFO - Deploy the Apps.
2022-11-28 14:53:49,927 - SimulatorRunner - INFO - Create the simulate clients.
2022-11-28 14:53:49,941 - ClientManager - INFO - Client: New client site-1@[ joined. Sent token: 1444e0ae-012b-444f-8a4a-7a0e32a35a84.  Total clients: 1
2022-11-28 14:53:49,942 - FederatedClient - INFO - Successfully registered client:site-1 for project simulator_server. Token:1444e0ae-012b-444f-8a4a-7a0e32a35a84 SSID:
2022-11-28 14:53:49,948 - ClientManager - INFO - Client: New client site-2@[ joined. Sent token: a2853de6-b153-4539-892c-85d1f0c88adf.  Total clients: 2
2022-11-28 14:53:49,949 - FederatedClient - INFO - Successfully registered client:site-2 for project simulator_server. Token:a2853de6-b153-4539-892c-85d1f0c88adf SSID:
2022-11-28 14:53:49,950 - SimulatorRunner - INFO - Set the client status ready.
2022-11-28 14:53:49,951 - SimulatorRunner - INFO - Deploy and start the Server App.
2022-11-28 14:53:54,446 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job]: Server runner starting ...
2022-11-28 14:53:54,448 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job]: starting workflow scatter_and_gather (<class 'nvflare.app_common.workflows.scatter_and_gather.ScatterAndGather'>) ...
2022-11-28 14:53:54,448 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job]: Initializing ScatterAndGather workflow.
2022-11-28 14:53:54,458 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job]: Workflow scatter_and_gather (<class 'nvflare.app_common.workflows.scatter_and_gather.ScatterAndGather'>) started
2022-11-28 14:53:54,459 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Beginning ScatterAndGather training phase.
2022-11-28 14:53:54,459 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: Round 0 started.
2022-11-28 14:53:54,459 - ScatterAndGather - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather]: scheduled task train
2022-11-28 14:53:54,958 - SimulatorClientRunner - INFO - Start the clients run simulation.
2022-11-28 14:53:54,960 - SimulatorClientRunner - INFO - Start the clients run simulation.
2022-11-28 14:53:55,961 - SimulatorClientRunner - INFO - Simulate Run client: site-1
2022-11-28 14:53:56,012 - SimulatorClientRunner - INFO - Simulate Run client: site-2
-------------------------------------------------- initialize: site-1 --------------------------------------------------

            load data from /workspace/src/data: site-1_train.csv and site-1_val.csv
            size of the data: 
            site-1_train.csv: 15346
            site-1_val.csv: 1918
            
2022-11-28 14:54:14,229 - ClientRunner - INFO - [identity=site-1, run=simulate_job]: client runner started
2022-11-28 14:54:14,230 - ClientTaskWorker - INFO - Initialize ClientRunner for client: site-1
2022-11-28 14:54:14,239 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=46202cbb-4615-489f-9645-c8fb76028ef0]: assigned task to client site-1: name=train, id=46202cbb-4615-489f-9645-c8fb76028ef0
2022-11-28 14:54:14,240 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-1, peer_run=simulate_job, task_name=train, task_id=46202cbb-4615-489f-9645-c8fb76028ef0]: sent task assignment to client
-------------------------------------------------- initialize: site-2 --------------------------------------------------

            load data from /workspace/src/data: site-2_train.csv and site-2_val.csv
            size of the data: 
            site-2_train.csv: 15347
            site-2_val.csv: 1918
            
2022-11-28 14:54:14,882 - ClientRunner - INFO - [identity=site-2, run=simulate_job]: client runner started
2022-11-28 14:54:14,883 - ClientTaskWorker - INFO - Initialize ClientRunner for client: site-2
2022-11-28 14:54:16,678 - SimulatorServer - INFO - GetTask: Return task: train to client: site-1 (1444e0ae-012b-444f-8a4a-7a0e32a35a84) 
2022-11-28 14:54:17,943 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=93a0bfb1-3bee-4fbb-a372-5a044651ac70]: assigned task to client site-2: name=train, id=93a0bfb1-3bee-4fbb-a372-5a044651ac70
2022-11-28 14:54:17,944 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=scatter_and_gather, peer=site-2, peer_run=simulate_job, task_name=train, task_id=93a0bfb1-3bee-4fbb-a372-5a044651ac70]: sent task assignment to client
2022-11-28 14:54:20,407 - SimulatorServer - INFO - GetTask: Return task: train to client: site-2 (a2853de6-b153-4539-892c-85d1f0c88adf) 
2022-11-28 14:55:26,099 - Communicator - INFO - Received from simulator_server server  (1330282483 Bytes). getTask time: 71.86679673194885 seconds
2022-11-28 14:55:26,101 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-11-28 14:55:27,590 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=46202cbb-4615-489f-9645-c8fb76028ef0
2022-11-28 14:55:27,590 - ClientRunner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=46202cbb-4615-489f-9645-c8fb76028ef0]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-11-28 14:55:27,590 - LearnerExecutor - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=46202cbb-4615-489f-9645-c8fb76028ef0]: Client trainer got task: train
2022-11-28 14:55:30,323 - Communicator - INFO - Received from simulator_server server  (1330282483 Bytes). getTask time: 75.43768167495728 seconds
2022-11-28 14:55:30,370 - FederatedClient - INFO - pull_task completed. Task name:train Status:True 
2022-11-28 14:55:31,841 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=train, id=93a0bfb1-3bee-4fbb-a372-5a044651ac70
2022-11-28 14:55:31,841 - ClientRunner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=93a0bfb1-3bee-4fbb-a372-5a044651ac70]: invoking task executor <class 'nvflare.app_common.executors.learner_executor.LearnerExecutor'>
2022-11-28 14:55:31,841 - LearnerExecutor - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=93a0bfb1-3bee-4fbb-a372-5a044651ac70]: Client trainer got task: train
-------------------------------------------------- validate: site-1 --------------------------------------------------
-------------------------------------------------- local validate: site-1 --------------------------------------------------
2022-11-28 14:56:36,842 - PTLearner - INFO - [identity=site-1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=46202cbb-4615-489f-9645-c8fb76028ef0]: Accuracy when validating site-1's model on site-1s data: 0.07771874287130542
-------------------------------------------------- validate: site-2 --------------------------------------------------
-------------------------------------------------- local validate: site-2 --------------------------------------------------
2022-11-28 14:56:40,416 - PTLearner - INFO - [identity=site-2, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=train, task_id=93a0bfb1-3bee-4fbb-a372-5a044651ac70]: Accuracy when validating site-2's model on site-2s data: 0.10290595411141154
